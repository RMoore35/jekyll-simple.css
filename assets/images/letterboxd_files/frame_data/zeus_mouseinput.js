(window.webpackJsonp=window.webpackJsonp||[]).push([[14],{52:function(e,o,n){"use strict";n.r(o),n.d(o,"default",(function(){return v}));var i=n(6),u=n.n(i),t=n(7),s=n.n(t),d=n(3),l=n.n(d),c=n(26),a=n(2),r=n(1),_=n(0),m=new a.a("MOUSE-INPUT"),h=function(){function e(){var o=this;u()(this,e),l()(this,"_mouseDown",!1),l()(this,"_isTouched",!1),l()(this,"_isActive",!1),l()(this,"_mouseIdleTimer",null),l()(this,"_mouseIdleDuration",0),l()(this,"mouseIdleCallback",null),l()(this,"mouseActiveCallback",null),l()(this,"_hideTimeoutId",null),l()(this,"_onPlayerChanged",(function(){o._onMouseLeave()})),l()(this,"_onFullscreenChangeRequested",(function(e){o._onMouseLeave()}));var n=this;n._onMouseLeave=n._onMouseLeave.bind(n),n._onMouseEnter=n._onMouseEnter.bind(n),n._onMouseMove=n._onMouseMove.bind(n),n._onMouseDown=n._onMouseDown.bind(n),n._onMouseUp=n._onMouseUp.bind(n),window.document.body.addEventListener("mousemove",n._onMouseMove),window.document.body.addEventListener("mousedown",n._onMouseDown,!0),window.document.body.addEventListener("mouseup",n._onMouseUp),window.PlayerView.on(_.a.UI.Event.PLAYER_CHANGED,n._onPlayerChanged),window.PlayerView.on(_.a.UI.Event.REQUEST_FULLSCREEN_CHANGE,n._onFullscreenChangeRequested)}return s()(e,[{key:"_onMouseDown",value:function(){m.debug("Mouse down"),this._mouseDown=!0,this._mouseIdleTimer&&clearInterval(this._mouseIdleTimer)}},{key:"_onMouseUp",value:function(){m.debug("Mouse up"),this._mouseDown=!1}},{key:"_onMouseLeave",value:function(){var e=this;e.isTouched||(e._mouseIdleTimer&&clearInterval(e._mouseIdleTimer),e._hideTimeoutId=setTimeout((function(){clearTimeout(e._hideTimeoutId),e._hideTimeoutId=null,e.isActive=!1}),1e3)),e._mouseDown=!1,e.isTouched=!1}},{key:"_onMouseEnter",value:function(){var e=this;e._hideTimeoutId&&(clearTimeout(e._hideTimeoutId),e._hideTimeoutId=null),e._resetIdleTimer(),e.isActive=!0}},{key:"_onMouseMove",value:function(){var e=this;e.isActive=!0,e.isTouched||e._resetIdleTimer(),e.isTouched=!1}},{key:"_resetIdleTimer",value:function(){var e=this;e._mouseIdleTimer&&clearInterval(e._mouseIdleTimer),e._mouseDown||(e._mouseIdleDuration=0,e._mouseIdleTimer=setInterval((function(){e._mouseIdleDuration+=500,e._mouseIdleDuration>=3e3&&(clearInterval(e._mouseIdleTimer),e._mouseDown=!1,e._isTouched=!1,e.isActive=!1)}),500))}},{key:"setFullscreen",value:function(e){}},{key:"isActive",get:function(){return this._isActive},set:function(e){var o=this;o._isActive=e,e?o.mouseActiveCallback():o.mouseIdleCallback()}}]),e}(),v=function(){function e(){u()(this,e),l()(this,"type","mouse"),l()(this,"_isTouched",!1),l()(this,"_mouseIdleTracker",new h);var o=this;o._mouseIdleTracker.mouseIdleCallback=o._onMouseIdle.bind(o),o._mouseIdleTracker.mouseActiveCallback=o._onMouseActive.bind(o),(new c.a).mixin(this),o._init()}return s()(e,[{key:"_onMouseIdle",value:function(){this._dispatchEvent(_.a.UI.Event.MOUSE_OUT,null,window.Skin),this.isTouched=!1}},{key:"_onMouseActive",value:function(){this._dispatchEvent(_.a.UI.Event.MOUSE_OVER,null,window.Skin),this.isTouched=!1}},{key:"setFullscreen",value:function(e){this._mouseIdleTracker.setFullscreen(e)}},{key:"_init",value:function(){var e=this,o=window.PlayerState;Object(r.a)(document.body,"bolt-mouse-input"),e.setFullscreen(window.PlayerView.fullscreen),o.on(o.STATE_CHANGED,(function(){o.state===o.PLAYING&&(e._mouseIdleTracker.isActive||window.AdPlaying||e._mouseIdleTracker._resetIdleTimer())}))}},{key:"isTouched",get:function(){return this._isTouched},set:function(e){this._isTouched=e,this._mouseIdleTracker.isTouched=e,e?Object(r.a)(document.body,"bolt-touch-input"):Object(r.d)(document.body,"bolt-touch-input")}}]),e}()}}]);
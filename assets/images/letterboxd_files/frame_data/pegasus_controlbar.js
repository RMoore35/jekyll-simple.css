(window.webpackJsonp=window.webpackJsonp||[]).push([[7],{30:function(e,t,n){"use strict";n.r(t),n.d(t,"default",(function(){return S}));var i=n(6),o=n.n(i),a=n(7),l=n.n(a),d=n(24),r=n.n(d),s=n(22),u=n.n(s),c=n(21),v=n.n(c),p=n(23),y=n.n(p),w=n(3),E=n.n(w),h=n(25),b=n(1),f=n(31),m=n.n(f),C=(n(2),n(0));var S=function(e){y()(n,e);var t=function(e){function t(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(e){return!1}}return function(){var n,i=v()(e);if(t()){var o=v()(this).constructor;n=Reflect.construct(i,arguments,o)}else n=i.apply(this,arguments);return u()(this,n)}}(n);function n(e){var i;o()(this,n),i=t.call(this,e),E()(r()(i),"updateSlider",(function(){arguments.length>0&&void 0!==arguments[0]&&arguments[0];var e=r()(i),t=window.ContentPlayer;if(e.isOpen){var n;t.muted?(n=0,e._slider.setValue(0,0,!0,!0)):(n=t.volume,e._slider.setValue(t.volume,0,!0,!0));var o=n*e.volSlider.clientWidth;e.volSliderFill.setAttribute("style","width:".concat(o,"px;"))}})),E()(r()(i),"_dragStopCallback",(function(){})),E()(r()(i),"_sliderCallback",(function(e){var t=r()(i),n=e*t.volSlider.clientWidth;t.volSliderFill.setAttribute("style","width:".concat(n,"px;")),t._dispatchEvent(C.a.VALUE_CHANGED,e)}));var a=r()(i);return a.showForThreeSeconds=!1,a.playerView=window.PlayerView,a._container=document.getElementById("sound-control"),a.soundBtn=document.getElementById("sound-btn"),a.volSlider=document.getElementById("volume-slider"),a.volSliderFill=document.getElementById("volume-slider-fill"),a.volSliderHandle=document.getElementById("volume-slider-handle"),a.volSliderWidth=0,a.invalidate=a.invalidate.bind(r()(i)),i}return l()(n,[{key:"init",value:function(){var e=this,t=this;t.soundBtn.addEventListener("click",(function(t){var n=e;t.stopImmediatePropagation(),t.stopPropagation(),window.client.isMobile||window.PlayerSettings.tinyPlayer||n.showForThreeSeconds?n.playerView._dispatchEvent(C.a.UI.Event.TOGGLE_MUTE):(n.playerView._dispatchEvent(C.a.UI.Event.TOGGLE_MUTE),n.volSlider&&n.open())})),t.volSlider&&(t._slider=new m.a("volume-slider",{handleClass:"bolt-handle",dragStopCallback:t._dragStopCallback,animationCallback:t._sliderCallback}),t.playerView.addEventListener(C.a.Media.Event.MUTED,t.invalidate),t.playerView.addEventListener(C.a.Media.Event.UNMUTED,t.invalidate),t.playerView.addEventListener(C.a.Media.Event.VOLUME_CHANGED,t.invalidate))}},{key:"updateAppearance",value:function(){}},{key:"setPlayer",value:function(){}},{key:"setVolumeSliderWidth",value:function(e){var t=this;t.volSlider.setAttribute("style","width:".concat(e,"px")),e>0?setTimeout((function(){t._slider.reflow(),t.updateSlider(),Object(b.d)(t.volSliderHandle,"bolt-hidden")}),100):(Object(b.a)(t.volSlider,"bolt-hidden"),Object(b.a)(t.volSliderHandle,"bolt-hidden"))}},{key:"invalidate",value:function(){this.updateSlider()}},{key:"open",value:function(){var e=this;e.volSlider&&!e.isOpen&&(e.isOpen=!0,e.volSlider&&(Object(b.d)(e.volSlider,"bolt-hidden"),Object(b.a)(e._container,"expand"),Object(b.a)(e._container,"no-hover"),e._container.setAttribute("style","width: 100%;"),setTimeout((function(){e.setVolumeSliderWidth(e._container.clientWidth-100),e.invalidate()}),300)),e._dispatchEvent(n.OPENED))}},{key:"close",value:function(){var e=this;e.volSlider&&e.isOpen&&(e.isOpen=!1,Object(b.d)(e._container,"expand"),Object(b.d)(e._container,"no-hover"),e.volSlider&&(e._container.removeAttribute("style","width: 100%;"),e.setVolumeSliderWidth(0)),e.invalidate(),setTimeout((function(){e._dispatchEvent(n.CLOSED)}),500))}}]),n}(h.a);E()(S,"OPENED","soundcontrol opened"),E()(S,"CLOSED","soundcontrol closed")},42:function(e,t,n){"use strict";n.r(t),n.d(t,"default",(function(){return E}));var i=n(6),o=n.n(i),a=n(7),l=n.n(a),d=n(3),r=n.n(d),s=n(2),u=n(10),c=n(1),v=n(4),p=n(0),y=n(30),w=new s.a("CONTROL-BAR"),E=function(){function e(){var t=this;o()(this,e),r()(this,"playerView",void 0),r()(this,"playerSettings",void 0),r()(this,"_keepClosed",void 0),r()(this,"zeus",void 0),r()(this,"state",{volumeExpanded:!1}),r()(this,"mouseEnter",void 0),r()(this,"_isBoltSticky",document.body.classList.contains("is-sticky-module")),r()(this,"adManager",void 0),r()(this,"onSoundBtnContainerMouseLeave",(function(){t.soundControl.close()})),r()(this,"_onFullscreenBtnClick",(function(e){var n=t;e.stopPropagation(),e.preventDefault(),n.playerView.toggleFullscreen()})),r()(this,"startMobileControlbarTimer",(function(){var e=t;clearTimeout(e.mobileCloseControlbarTimer),e.mobileCloseControlbarTimer=setTimeout((function(){e.tapOn=!1,e.close()}),2e3)})),r()(this,"handleSoundControlEvents",(function(){var e=t,n=[e.playpauseBtn,e.fullscreenBtn];e.fullscreenBtn||(n=n.pop()),e.playpauseBtn||(n=n.shift()),e.soundControl&&(e.soundControl.isOpen?(e.setButtonsHidden(n,!0),n.push(e.soundBtnContainer),e.setButtonsInvisible(n,!1)):(e.setButtonsHidden(n,!1),e.soundControl.showForThreeSeconds?e.setButtonsInvisible(n,!0):(n.push(e.soundBtnContainer),e.setButtonsInvisible(n,!1))))})),r()(this,"handleMediaEvents",(function(e){var n=t;switch(e.type){case p.a.Media.Event.STOPPED:case p.a.Media.Event.TIME_UPDATE:n.updateTimeLabels();break;case p.a.Media.Event.DURATION_CHANGE:window.ContentPlayer.sourceChanged&&n.updateTimeLabels();break;case p.a.Media.Event.PLAY:window.AdPlaying&&n.open()}}));var n=this;n.mobileCloseControlbarTimer=null,n._container=Object(v.a)(p.a.UI.CONTROLBAR),n.playerView=window.PlayerView,n.playerSettings=window.PlayerSettings,n.zeus=window.Zeus,n.durationText=Object(v.a)(p.a.UI.CURRENT_DURATION_TEXT),n.currentTimeText=Object(v.a)(p.a.UI.CURRENT_TIME_TEXT),n.adUnmuteButton=window.client.isMobile?document.getElementById("mobile-ad-unmute-btn"):document.getElementById("desktop-ad-unmute-btn"),n.playpauseBtn=document.getElementById("play-pause-btn"),n.fullscreenBtn=document.getElementById("fullscreen-btn"),n.soundBtnContainer=document.getElementById("sound-control"),n.soundBtnContainer.addEventListener("mouseleave",n.onSoundBtnContainerMouseLeave),n.wrap=document.body.querySelector("#control-bar .wrap"),n.wrapperWidth=0,n.bottomLeft=Object(v.a)(p.a.UI.BOTTOM_LEFT),n.bottomRight=Object(v.a)(p.a.UI.BOTTOM_RIGHT),window.CurrentVideoConfig.settings.autoplay||(n.bottomLeft.style.display="none",n.bottomRight.style.display="none")}return l()(e,[{key:"init",value:function(){var e=this;e.adManager=window.AdManagerProxy,e.setSoundControl(e.playerView._volumeControl),e._container.addEventListener("click",(function(t){window.AdPlaying||e._container.id!==t.target.id||window.PlayerView._dispatchEvent(p.a.UI.Event.PLAYPAUSE)})),e.playpauseBtn&&e.playpauseBtn.addEventListener("click",(function(t){t.stopPropagation(),e.close(),w.info("playPauseBtnClick"),window.PlayerView._dispatchEvent(p.a.UI.Event.PLAYPAUSE)})),e.adUnmuteButton.addEventListener("click",(function(){e.playerView._dispatchEvent(p.a.UI.Event.TOGGLE_MUTE)})),e.playerView.addEventListener(p.a.Media.Event.UNMUTED,(function(){e.invalidate()})),e.playerView.addEventListener(p.a.UI.Event.PLAYER_CHANGED,(function(){window.AdPlaying?(Object(v.b)("bottom-left"),Object(v.b)("bottom-right"),e.close()):(Object(v.f)("bottom-left"),Object(v.f)("bottom-right"))})),window.PlayerState.on(window.PlayerState.STATE_CHANGED,(function(){e.invalidate()})),e.fullscreenBtn&&e.fullscreenBtn.addEventListener("click",e._onFullscreenBtnClick),window.client.isMobile?window.document.body.addEventListener("click",(function(){e.tapOn=!0,e.startMobileControlbarTimer(),e.invalidate()})):(window.PlayerView.on(p.a.UI.Event.MOUSE_OVER,(function(){e.mouseEnter=!0,e.invalidate()})),window.PlayerView.on(p.a.UI.Event.MOUSE_OUT,(function(){e.mouseEnter=!1,e.invalidate()}))),e.setUpMediaEventListeners()}},{key:"setButtonsInvisible",value:function(e){var t=!(arguments.length>1&&void 0!==arguments[1])||arguments[1];e.forEach((function(e){e&&(t?Object(c.a)(e,"bolt-invisible"):Object(c.d)(e,"bolt-invisible"))}))}},{key:"setButtonsHidden",value:function(e){var t=!(arguments.length>1&&void 0!==arguments[1])||arguments[1];e.forEach((function(e){e&&(t?Object(c.a)(e,"bolt-hidden"):Object(c.d)(e,"bolt-hidden"))}))}},{key:"setSoundControl",value:function(e){var t=this;t.soundControl=e,t.soundControl.addEventListener(y.default.OPENED,t.handleSoundControlEvents),t.soundControl.addEventListener(y.default.CLOSED,t.handleSoundControlEvents),t.soundControl.init()}},{key:"setUpMediaEventListeners",value:function(){var e=this;e.playerView.addEventListener(p.a.Media.Event.STOPPED,e.handleMediaEvents),e.playerView.addEventListener(p.a.Media.Event.TIME_UPDATE,e.handleMediaEvents),e.playerView.addEventListener(p.a.Media.Event.DURATION_CHANGE,e.handleMediaEvents),e.playerView.addEventListener(p.a.Media.Event.PLAY,e.handleMediaEvents)}},{key:"updateAppearance",value:function(){}},{key:"invalidate",value:function(){var e=this,t=window.ContentPlayer;window.PlayerSettings.autoplay||window.PlayerState.state===window.PlayerState.START&&e.open(),window.PlayerState.state===window.PlayerState.PAUSED?e.open():window.PlayerState.state===window.PlayerState.PLAYING?window.client.isMobile?e.tapOn?e.open():e.close():e.mouseEnter?e.open():e.close():window.PlayerState.state===window.PlayerState.RELATED_VIDEOS&&e.close(),Object(c.a)(e.adUnmuteButton,"bolt-hidden"),e.isOpen?(e.bottomLeft.style.display="inline",e.bottomRight.style.display="inline",this._container.style.visibility="visible",this._container.style.display="block"):(e.bottomLeft.style.display="none",e.bottomRight.style.display="none",this._container.style.visibility="hidden",this._container.style.display="block",e.soundControl&&e.soundControl.close());var n=e._isBoltSticky&&!t.hasStarted;e.isOpen&&!n?(Object(c.a)(e._container,"faded-in"),Object(c.d)(e._container,"faded-out")):(Object(c.a)(e._container,"faded-out"),Object(c.d)(e._container,"faded-in")),e.playerView._scrubber.invalidate(),e.updateTimeLabels()}},{key:"updateTimeLabels",value:function(){var e,t=this,n=window.ContentPlayer;if(window.PlayerState.state===window.PlayerState.START)t.currentTimeText.textContent=" ",t.durationText.textContent=" ",!window.AdPlaying&&window.CurrentVideoConfig.duration>0&&(t.currentTimeText.textContent="0:00",t.durationText.textContent="".concat(Object(u.m)((window.CurrentVideoConfig.duration/1e3).toString())));else try{n.duration>0&&(window.AdPlaying?(t.durationText.textContent=" ",n.getCurrentTime()>=0&&(e=n.duration-n.getCurrentTime())):(t.durationText.textContent="".concat(Object(u.m)(n.duration.toString())),e=n.currentTime)),t.currentTimeText.textContent=e?Object(u.m)(e.toString()):" "}catch(e){t.durationText.textContent=" ",t.currentTimeText.textContent=" "}}},{key:"open",value:function(e){var t=window.ContentPlayer;this.isOpen||this._keepClosed||window.AdPlaying&&!t.paused||(this.isOpen=!0,"function"==typeof e&&e.call(),this.invalidate())}},{key:"close",value:function(e){if(!this._keepOpen&&this.isOpen){this.isOpen=!1,"function"==typeof e&&e.call(),this.invalidate()}}}]),e}()}}]);
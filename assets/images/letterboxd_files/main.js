!function(n){var i={};function r(e){if(i[e])return i[e].exports;var t=i[e]={i:e,l:!1,exports:{}};return n[e].call(t.exports,t,t.exports,r),t.l=!0,t.exports}r.m=n,r.c=i,r.d=function(e,t,n){r.o(e,t)||Object.defineProperty(e,t,{enumerable:!0,get:n})},r.r=function(e){"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})},r.t=function(t,e){if(1&e&&(t=r(t)),8&e)return t;if(4&e&&"object"==typeof t&&t&&t.__esModule)return t;var n=Object.create(null);if(r.r(n),Object.defineProperty(n,"default",{enumerable:!0,value:t}),2&e&&"string"!=typeof t)for(var i in t)r.d(n,i,function(e){return t[e]}.bind(null,i));return n},r.n=function(e){var t=e&&e.__esModule?function(){return e.default}:function(){return e};return r.d(t,"a",t),t},r.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},r.p="/static/",r(r.s=296)}([,,function(e,ze,t){(function(e,t){var i="__lodash_hash_undefined__",r=9007199254740991,n="[object Arguments]",o="[object AsyncFunction]",a="[object Function]",s="[object GeneratorFunction]",l="[object Null]",m="[object Object]",c="[object Proxy]",u="[object Undefined]",d=/^\[object .+?Constructor\]$/,f=/^(?:0|[1-9]\d*)$/,h={};h["[object Float32Array]"]=h["[object Float64Array]"]=h["[object Int8Array]"]=h["[object Int16Array]"]=h["[object Int32Array]"]=h["[object Uint8Array]"]=h["[object Uint8ClampedArray]"]=h["[object Uint16Array]"]=h["[object Uint32Array]"]=!0,h[n]=h["[object Array]"]=h["[object ArrayBuffer]"]=h["[object Boolean]"]=h["[object DataView]"]=h["[object Date]"]=h["[object Error]"]=h[a]=h["[object Map]"]=h["[object Number]"]=h[m]=h["[object RegExp]"]=h["[object Set]"]=h["[object String]"]=h["[object WeakMap]"]=!1;var p="object"==typeof e&&e&&e.Object===Object&&e,g="object"==typeof self&&self&&self.Object===Object&&self,v=p||g||Function("return this")(),y=ze&&!ze.nodeType&&ze,b=y&&"object"==typeof t&&t&&!t.nodeType&&t,w=b&&b.exports===y,x=w&&p.process,k=function(){try{var e=b&&b.require&&b.require("util").types;return e?e:x&&x.binding&&x.binding("util")}catch(e){}}(),C=k&&k.isTypedArray;var $,T,S,_=Array.prototype,E=Function.prototype,j=Object.prototype,I=v["__core-js_shared__"],P=E.toString,D=j.hasOwnProperty,M=($=/[^.]+$/.exec(I&&I.keys&&I.keys.IE_PROTO||""))?"Symbol(src)_1."+$:"",N=j.toString,O=P.call(Object),A=RegExp("^"+P.call(D).replace(/[\\^$.*+?()[\]{}|]/g,"\\$&").replace(/hasOwnProperty|(function).*?(?=\\\()| for .+?(?=\\\])/g,"$1.*?")+"$"),L=w?v.Buffer:void 0,F=v.Symbol,R=v.Uint8Array,z=L?L.allocUnsafe:void 0,H=(T=Object.getPrototypeOf,S=Object,function(e){return T(S(e))}),W=Object.create,B=j.propertyIsEnumerable,U=_.splice,q=F?F.toStringTag:void 0,Q=function(){try{var e=ve(Object,"defineProperty");return e({},"",{}),e}catch(e){}}(),Y=L?L.isBuffer:void 0,V=Math.max,X=Date.now,K=ve(v,"Map"),G=ve(Object,"create"),J=function(e){if(!De(e))return{};if(W)return W(e);Z.prototype=e;var t=new Z;return Z.prototype=void 0,t};function Z(){}function ee(e){var t=-1,n=null==e?0:e.length;for(this.clear();++t<n;){var i=e[t];this.set(i[0],i[1])}}function te(e){var t=-1,n=null==e?0:e.length;for(this.clear();++t<n;){var i=e[t];this.set(i[0],i[1])}}function ne(e){var t=-1,n=null==e?0:e.length;for(this.clear();++t<n;){var i=e[t];this.set(i[0],i[1])}}function ie(e){var t=this.__data__=new te(e);this.size=t.size}function re(e,t){var n,i=_e(e),r=!i&&Se(e),o=!i&&!r&&je(e),a=!i&&!r&&!o&&Oe(e),s=i||r||o||a,l=s?function(e,t){for(var n=-1,i=Array(e);++n<e;)i[n]=t(n);return i}(e.length,String):[],c=l.length;for(n in e)!t&&!D.call(e,n)||s&&("length"==n||o&&("offset"==n||"parent"==n)||a&&("buffer"==n||"byteLength"==n||"byteOffset"==n)||ye(n,c))||l.push(n);return l}function oe(e,t,n){(void 0===n||Te(e[t],n))&&(void 0!==n||t in e)||se(e,t,n)}function ae(e,t){for(var n=e.length;n--;)if(Te(e[n][0],t))return n;return-1}function se(e,t,n){"__proto__"==t&&Q?Q(e,t,{configurable:!0,enumerable:!0,value:n,writable:!0}):e[t]=n}ee.prototype.clear=function(){this.__data__=G?G(null):{},this.size=0},ee.prototype.delete=function(e){var t=this.has(e)&&delete this.__data__[e];return this.size-=t?1:0,t},ee.prototype.get=function(e){var t=this.__data__;if(G){var n=t[e];return n===i?void 0:n}return D.call(t,e)?t[e]:void 0},ee.prototype.has=function(e){var t=this.__data__;return G?void 0!==t[e]:D.call(t,e)},ee.prototype.set=function(e,t){var n=this.__data__;return this.size+=this.has(e)?0:1,n[e]=G&&void 0===t?i:t,this},te.prototype.clear=function(){this.__data__=[],this.size=0},te.prototype.delete=function(e){var t=this.__data__,n=ae(t,e);return!(n<0)&&(n==t.length-1?t.pop():U.call(t,n,1),--this.size,!0)},te.prototype.get=function(e){var t=this.__data__,n=ae(t,e);return n<0?void 0:t[n][1]},te.prototype.has=function(e){return-1<ae(this.__data__,e)},te.prototype.set=function(e,t){var n=this.__data__,i=ae(n,e);return i<0?(++this.size,n.push([e,t])):n[i][1]=t,this},ne.prototype.clear=function(){this.size=0,this.__data__={hash:new ee,map:new(K||te),string:new ee}},ne.prototype.delete=function(e){var t=ge(this,e).delete(e);return this.size-=t?1:0,t},ne.prototype.get=function(e){return ge(this,e).get(e)},ne.prototype.has=function(e){return ge(this,e).has(e)},ne.prototype.set=function(e,t){var n=ge(this,e),i=n.size;return n.set(e,t),this.size+=n.size==i?0:1,this},ie.prototype.clear=function(){this.__data__=new te,this.size=0},ie.prototype.delete=function(e){var t=this.__data__,n=t.delete(e);return this.size=t.size,n},ie.prototype.get=function(e){return this.__data__.get(e)},ie.prototype.has=function(e){return this.__data__.has(e)},ie.prototype.set=function(e,t){var n=this.__data__;if(n instanceof te){var i=n.__data__;if(!K||i.length<199)return i.push([e,t]),this.size=++n.size,this;n=this.__data__=new ne(i)}return n.set(e,t),this.size=n.size,this};var le,ce=function(e,t,n){for(var i=-1,r=Object(e),o=n(e),a=o.length;a--;){var s=o[le?a:++i];if(!1===t(r[s],s,r))break}return e};function ue(e){return null==e?void 0===e?u:l:q&&q in Object(e)?function(e){var t=D.call(e,q),n=e[q];try{var i=!(e[q]=void 0)}catch(e){}var r=N.call(e);i&&(t?e[q]=n:delete e[q]);return r}(e):(t=e,N.call(t));var t}function de(e){return Me(e)&&ue(e)==n}function fe(e){var t;return De(e)&&(t=e,!(M&&M in t))&&(Ie(e)?A:d).test(function(e){if(null!=e){try{return P.call(e)}catch(e){}try{return e+""}catch(e){}}return""}(e))}function he(e){if(!De(e))return function(e){var t=[];if(null!=e)for(var n in Object(e))t.push(n);return t}(e);var t,n=be(e),i=[];for(t in e)("constructor"!=t||!n&&D.call(e,t))&&i.push(t);return i}function pe(i,r,o,a,s){i!==r&&ce(r,function(e,t){var n;s=s||new ie,De(e)?function(e,t,n,i,r,o,a){var s=we(e,n),l=we(t,n),c=a.get(l);if(c)return oe(e,n,c);var u=o?o(s,l,n+"",e,t,a):void 0,d=void 0===u;{var f,h,p;d&&(f=_e(l),h=!f&&je(l),p=!f&&!h&&Oe(l),u=l,f||h||p?u=_e(s)?s:function(e){return Me(e)&&Ee(e)}(s)?function(e,t){var n=-1,i=e.length;t=t||Array(i);for(;++n<i;)t[n]=e[n];return t}(s):h?function(e,t){if(t)return e.slice();var n=e.length,i=z?z(n):new e.constructor(n);return e.copy(i),i}(l,!(d=!1)):p?function(e,t){var n=t?function(e){var t=new e.constructor(e.byteLength);return new R(t).set(new R(e)),t}(e.buffer):e.buffer;return new e.constructor(n,e.byteOffset,e.length)}(l,!(d=!1)):[]:function(e){if(!Me(e)||ue(e)!=m)return!1;var t=H(e);if(null===t)return!0;var n=D.call(t,"constructor")&&t.constructor;return"function"==typeof n&&n instanceof n&&P.call(n)==O}(l)||Se(l)?Se(u=s)?u=function(e){return function(e,t,n,i){var r=!n;n=n||{};var o=-1,a=t.length;for(;++o<a;){var s=t[o],l=i?i(n[s],e[s],s,n,e):void 0;void 0===l&&(l=e[s]),(r?se:function(e,t,n){var i=e[t];D.call(e,t)&&Te(i,n)&&(void 0!==n||t in e)||se(e,t,n)})(n,s,l)}return n}(e,Ae(e))}(s):De(s)&&!Ie(s)||(u=function(e){return"function"!=typeof e.constructor||be(e)?{}:J(H(e))}(l)):d=!1)}d&&(a.set(l,u),r(u,l,i,o,a),a.delete(l));oe(e,n,u)}(i,r,t,o,pe,a,s):(void 0===(n=a?a(we(i,t),e,t+"",i,r,s):void 0)&&(n=e),oe(i,t,n))},Ae)}function me(e,t){return $e((o=e,s=Re,a=V(void 0===(a=t)?o.length-1:a,0),function(){for(var e=arguments,t=-1,n=V(e.length-a,0),i=Array(n);++t<n;)i[t]=e[a+t];t=-1;for(var r=Array(a+1);++t<a;)r[t]=e[t];return r[a]=s(i),function(e,t,n){switch(n.length){case 0:return e.call(t);case 1:return e.call(t,n[0]);case 2:return e.call(t,n[0],n[1]);case 3:return e.call(t,n[0],n[1],n[2])}return e.apply(t,n)}(o,this,r)}),e+"");var o,a,s}function ge(e,t){var n,i,r=e.__data__;return("string"==(i=typeof(n=t))||"number"==i||"symbol"==i||"boolean"==i?"__proto__"!==n:null===n)?r["string"==typeof t?"string":"hash"]:r.map}function ve(e,t){var n,i,r=(i=t,null==(n=e)?void 0:n[i]);return fe(r)?r:void 0}function ye(e,t){var n=typeof e;return(t=null==t?r:t)&&("number"==n||"symbol"!=n&&f.test(e))&&-1<e&&e%1==0&&e<t}function be(e){var t=e&&e.constructor;return e===("function"==typeof t&&t.prototype||j)}function we(e,t){if(("constructor"!==t||"function"!=typeof e[t])&&"__proto__"!=t)return e[t]}var xe,ke,Ce,$e=(xe=Q?function(e,t){return Q(e,"toString",{configurable:!0,enumerable:!1,value:(n=t,function(){return n}),writable:!0});var n}:Re,Ce=ke=0,function(){var e=X(),t=16-(e-Ce);if(Ce=e,0<t){if(800<=++ke)return arguments[0]}else ke=0;return xe.apply(void 0,arguments)});function Te(e,t){return e===t||e!=e&&t!=t}var Se=de(function(){return arguments}())?de:function(e){return Me(e)&&D.call(e,"callee")&&!B.call(e,"callee")},_e=Array.isArray;function Ee(e){return null!=e&&Pe(e.length)&&!Ie(e)}var je=Y||function(){return!1};function Ie(e){if(De(e)){var t=ue(e);return t==a||t==s||t==o||t==c}}function Pe(e){return"number"==typeof e&&-1<e&&e%1==0&&e<=r}function De(e){var t=typeof e;return null!=e&&("object"==t||"function"==t)}function Me(e){return null!=e&&"object"==typeof e}var Ne,Oe=C?(Ne=C,function(e){return Ne(e)}):function(e){return Me(e)&&Pe(e.length)&&!!h[ue(e)]};function Ae(e){return Ee(e)?re(e,!0):he(e)}var Le,Fe=(Le=function(e,t,n){pe(e,t,n)},me(function(e,t){var n=-1,i=t.length,r=1<i?t[i-1]:void 0,o=2<i?t[2]:void 0,r=3<Le.length&&"function"==typeof r?(i--,r):void 0;for(o&&function(e,t,n){if(!De(n))return!1;var i=typeof t;if("number"==i?Ee(n)&&ye(t,n.length):"string"==i&&t in n)return Te(n[t],e);return!1}(t[0],t[1],o)&&(r=i<3?void 0:r,i=1),e=Object(e);++n<i;){var a=t[n];a&&Le(e,a,n,r)}return e}));function Re(e){return e}t.exports=Fe}).call(this,t(13),t(22)(e))},,function(e,t,n){"use strict";n.d(t,"a",function(){return r});var i=n(16);function r(e,t){return JSON.parse(e.attr("data-"+Object(i.a)(t)+"-options")||"{}")}},,function(e,t,n){"use strict";n.d(t,"b",function(){return c}),n.d(t,"a",function(){return s});var a=n(19),r="_context-observer",s={WAKE:"wake",SUSPEND:"suspend"};function i(e,t){a.call(this),this.element=e instanceof jQuery?e[0]:e,this.contextMonitor=t;var n=document.createElement("div");n.classList.add(r),n.setAttribute("aria-hidden","true"),this.element.appendChild(n),this.observerElement=n;var i=null;this.getContext=function(){return i},this.setContext=function(e){e&&e!==i&&(this.emit("contextchange",e,i),i=e)},this.checkContext=function(){var e=window.getComputedStyle(this.observerElement,null).getPropertyValue("font-family");e&&(e=e.replace(/['",]/g,""),this.setContext(e))},this._onContextMonitorNotify=this._onContextMonitorNotify.bind(this),this.contextMonitor.on("notify",this._onContextMonitorNotify),window.setTimeout(this.checkContext.bind(this),0)}function o(){a.call(this),this._injectStyles(),window.addEventListener("resize",this.refresh.bind(this))}(i.prototype=Object.create(a.prototype,{constructor:{value:i}}))._onContextMonitorNotify=function(){this.checkContext()};var l=o.prototype=Object.create(a.prototype,{constructor:{value:o}});l._injectStyles=function(){var e=document.createElement("style");document.head.appendChild(e);var t=e.sheet,n=["{","position: absolute;","width: 1px;","height: 1px;","padding: 0;","margin: -1px;","overflow: hidden;","clip: rect(0,0,0,0);","border: 0;","}"].join("\n");t.insertRule("."+r+n,t.cssRules.length)},l.refresh=function(){this.emit("notify")},l.createNewObserver=function(e){if(!e)throw new Error("Creating an observer requires a target element");return new(Function.prototype.bind.apply(i,[null,e,this]))},l.createContext=function(o){function e(e){a.call(this);var t=!1;this.isAwake=function(){return t},this[s.WAKE]=function(){this.isAwake()||(t=!0,this.emit(s.WAKE))},this[s.SUSPEND]=function(){this.isAwake()&&(t=!1,this.emit(s.SUSPEND))},this.contextController=e;for(var n=arguments.length,i=new Array(1<n?n-1:0),r=1;r<n;r++)i[r-1]=arguments[r];o.apply(this,[e].concat(i))}return e.prototype=Object.create(a.prototype,{constructor:{value:e}}),e};var c=new o},,,,,,,function(e,t){var n=function(){return this}();try{n=n||new Function("return this")()}catch(e){"object"==typeof window&&(n=window)}e.exports=n},,,function(e,t,n){"use strict";function i(e){return e.replace(/([a-z])([A-Z])/g,"$1-$2").toLowerCase()}function r(e){return e.charAt(0).toUpperCase()+e.slice(1).replace(/-([a-z])/g,function(e){return e[1].toUpperCase()})}n.d(t,"a",function(){return i}),n.d(t,"b",function(){return r})},,function(fn,hn,e){var pn,t,n;
/*!
 * jQuery JavaScript Library v1.11.0
 * http://jquery.com/
 *
 * Includes Sizzle.js
 * http://sizzlejs.com/
 *
 * Copyright 2005, 2014 jQuery Foundation, Inc. and other contributors
 * Released under the MIT license
 * http://jquery.org/license
 *
 * Date: 2014-01-23T21:02Z
 */
t="undefined"!=typeof window?window:this,n=function(p,e){function t(e,t){return t.toUpperCase()}var d=[],u=d.slice,m=d.concat,s=d.push,r=d.indexOf,n={},i=n.toString,g=n.hasOwnProperty,o="".trim,v={},C=function(e,t){return new C.fn.init(e,t)},a=/^[\s\uFEFF\xA0]+|[\s\uFEFF\xA0]+$/g,l=/^-ms-/,c=/-([\da-z])/gi;function f(e){var t=e.length,n=C.type(e);return"function"!==n&&!C.isWindow(e)&&(!(1!==e.nodeType||!t)||("array"===n||0===t||"number"==typeof t&&0<t&&t-1 in e))}C.fn=C.prototype={jquery:"1.11.0",constructor:C,selector:"",length:0,toArray:function(){return u.call(this)},get:function(e){return null!=e?e<0?this[e+this.length]:this[e]:u.call(this)},pushStack:function(e){var t=C.merge(this.constructor(),e);return t.prevObject=this,t.context=this.context,t},each:function(e,t){return C.each(this,e,t)},map:function(n){return this.pushStack(C.map(this,function(e,t){return n.call(e,t,e)}))},slice:function(){return this.pushStack(u.apply(this,arguments))},first:function(){return this.eq(0)},last:function(){return this.eq(-1)},eq:function(e){var t=this.length,n=+e+(e<0?t:0);return this.pushStack(0<=n&&n<t?[this[n]]:[])},end:function(){return this.prevObject||this.constructor(null)},push:s,sort:d.sort,splice:d.splice},C.extend=C.fn.extend=function(){var e,t,n,i,r,o,a=arguments[0]||{},s=1,l=arguments.length,c=!1;for("boolean"==typeof a&&(c=a,a=arguments[s]||{},s++),"object"==typeof a||C.isFunction(a)||(a={}),s===l&&(a=this,s--);s<l;s++)if(null!=(r=arguments[s]))for(i in r)e=a[i],a!==(n=r[i])&&(c&&n&&(C.isPlainObject(n)||(t=C.isArray(n)))?(o=t?(t=!1,e&&C.isArray(e)?e:[]):e&&C.isPlainObject(e)?e:{},a[i]=C.extend(c,o,n)):void 0!==n&&(a[i]=n));return a},C.extend({expando:"jQuery"+("1.11.0"+Math.random()).replace(/\D/g,""),isReady:!0,error:function(e){throw new Error(e)},noop:function(){},isFunction:function(e){return"function"===C.type(e)},isArray:Array.isArray||function(e){return"array"===C.type(e)},isWindow:function(e){return null!=e&&e==e.window},isNumeric:function(e){return 0<=e-parseFloat(e)},isEmptyObject:function(e){for(var t in e)return!1;return!0},isPlainObject:function(e){if(!e||"object"!==C.type(e)||e.nodeType||C.isWindow(e))return!1;try{if(e.constructor&&!g.call(e,"constructor")&&!g.call(e.constructor.prototype,"isPrototypeOf"))return!1}catch(e){return!1}if(v.ownLast)for(var t in e)return g.call(e,t);for(t in e);return void 0===t||g.call(e,t)},type:function(e){return null==e?e+"":"object"==typeof e||"function"==typeof e?n[i.call(e)]||"object":typeof e},globalEval:function(e){e&&C.trim(e)&&(p.execScript||function(e){p.eval.call(p,e)})(e)},camelCase:function(e){return e.replace(l,"ms-").replace(c,t)},nodeName:function(e,t){return e.nodeName&&e.nodeName.toLowerCase()===t.toLowerCase()},each:function(e,t,n){var i=0,r=e.length,o=f(e);if(n){if(o)for(;i<r&&!1!==t.apply(e[i],n);i++);else for(i in e)if(!1===t.apply(e[i],n))break}else if(o)for(;i<r&&!1!==t.call(e[i],i,e[i]);i++);else for(i in e)if(!1===t.call(e[i],i,e[i]))break;return e},trim:o&&!o.call("\ufeff ")?function(e){return null==e?"":o.call(e)}:function(e){return null==e?"":(e+"").replace(a,"")},makeArray:function(e,t){var n=t||[];return null!=e&&(f(Object(e))?C.merge(n,"string"==typeof e?[e]:e):s.call(n,e)),n},inArray:function(e,t,n){var i;if(t){if(r)return r.call(t,e,n);for(i=t.length,n=n?n<0?Math.max(0,i+n):n:0;n<i;n++)if(n in t&&t[n]===e)return n}return-1},merge:function(e,t){for(var n=+t.length,i=0,r=e.length;i<n;)e[r++]=t[i++];if(n!=n)for(;void 0!==t[i];)e[r++]=t[i++];return e.length=r,e},grep:function(e,t,n){for(var i=[],r=0,o=e.length,a=!n;r<o;r++)!t(e[r],r)!=a&&i.push(e[r]);return i},map:function(e,t,n){var i,r=0,o=e.length,a=[];if(f(e))for(;r<o;r++)null!=(i=t(e[r],r,n))&&a.push(i);else for(r in e)null!=(i=t(e[r],r,n))&&a.push(i);return m.apply([],a)},guid:1,proxy:function(e,t){var n,i,r;if("string"==typeof t&&(r=e[t],t=e,e=r),C.isFunction(e))return n=u.call(arguments,2),(i=function(){return e.apply(t||this,n.concat(u.call(arguments)))}).guid=e.guid=e.guid||C.guid++,i},now:function(){return+new Date},support:v}),C.each("Boolean Number String Function Array Date RegExp Object Error".split(" "),function(e,t){n["[object "+t+"]"]=t.toLowerCase()});var h=
/*!
 * Sizzle CSS Selector Engine v1.10.16
 * http://sizzlejs.com/
 *
 * Copyright 2013 jQuery Foundation, Inc. and other contributors
 * Released under the MIT license
 * http://jquery.org/license
 *
 * Date: 2014-01-13
 */
function(n){var e,p,w,o,i,m,x,c,u,g,k,r,v,y,a,s,b,C="sizzle"+-new Date,$=n.document,T=0,d=0,l=ne(),f=ne(),h=ne(),S=function(e,t){return e===t&&(u=!0),0},_="undefined",E={}.hasOwnProperty,t=[],j=t.pop,I=t.push,P=t.push,D=t.slice,M=t.indexOf||function(e){for(var t=0,n=this.length;t<n;t++)if(this[t]===e)return t;return-1},N="checked|selected|async|autofocus|autoplay|controls|defer|disabled|hidden|ismap|loop|multiple|open|readonly|required|scoped",O="[\\x20\\t\\r\\n\\f]",A="(?:\\\\.|[\\w-]|[^\\x00-\\xa0])+",L=A.replace("w","w#"),F="\\["+O+"*("+A+")"+O+"*(?:([*^$|!~]?=)"+O+"*(?:(['\"])((?:\\\\.|[^\\\\])*?)\\3|("+L+")|)|)"+O+"*\\]",R=":("+A+")(?:\\(((['\"])((?:\\\\.|[^\\\\])*?)\\3|((?:\\\\.|[^\\\\()[\\]]|"+F.replace(3,8)+")*)|.*)\\)|)",z=new RegExp("^"+O+"+|((?:^|[^\\\\])(?:\\\\.)*)"+O+"+$","g"),H=new RegExp("^"+O+"*,"+O+"*"),W=new RegExp("^"+O+"*([>+~]|"+O+")"+O+"*"),B=new RegExp("="+O+"*([^\\]'\"]*?)"+O+"*\\]","g"),U=new RegExp(R),q=new RegExp("^"+L+"$"),Q={ID:new RegExp("^#("+A+")"),CLASS:new RegExp("^\\.("+A+")"),TAG:new RegExp("^("+A.replace("w","w*")+")"),ATTR:new RegExp("^"+F),PSEUDO:new RegExp("^"+R),CHILD:new RegExp("^:(only|first|last|nth|nth-last)-(child|of-type)(?:\\("+O+"*(even|odd|(([+-]|)(\\d*)n|)"+O+"*(?:([+-]|)"+O+"*(\\d+)|))"+O+"*\\)|)","i"),bool:new RegExp("^(?:"+N+")$","i"),needsContext:new RegExp("^"+O+"*[>+~]|:(even|odd|eq|gt|lt|nth|first|last)(?:\\("+O+"*((?:-\\d)?\\d*)"+O+"*\\)|)(?=[^-]|$)","i")},Y=/^(?:input|select|textarea|button)$/i,V=/^h\d$/i,X=/^[^{]+\{\s*\[native \w/,K=/^(?:#([\w-]+)|(\w+)|\.([\w-]+))$/,G=/[+~]/,J=/'|\\/g,Z=new RegExp("\\\\([\\da-f]{1,6}"+O+"?|("+O+")|.)","ig"),ee=function(e,t,n){var i="0x"+t-65536;return i!=i||n?t:i<0?String.fromCharCode(65536+i):String.fromCharCode(i>>10|55296,1023&i|56320)};try{P.apply(t=D.call($.childNodes),$.childNodes),t[$.childNodes.length].nodeType}catch(e){P={apply:t.length?function(e,t){I.apply(e,D.call(t))}:function(e,t){for(var n=e.length,i=0;e[n++]=t[i++];);e.length=n-1}}}function te(e,t,n,i){var r,o,a,s,l,c,u,d,f,h;if((t?t.ownerDocument||t:$)!==k&&g(t),n=n||[],!e||"string"!=typeof e)return n;if(1!==(s=(t=t||k).nodeType)&&9!==s)return[];if(v&&!i){if(r=K.exec(e))if(a=r[1]){if(9===s){if(!(o=t.getElementById(a))||!o.parentNode)return n;if(o.id===a)return n.push(o),n}else if(t.ownerDocument&&(o=t.ownerDocument.getElementById(a))&&b(t,o)&&o.id===a)return n.push(o),n}else{if(r[2])return P.apply(n,t.getElementsByTagName(e)),n;if((a=r[3])&&p.getElementsByClassName&&t.getElementsByClassName)return P.apply(n,t.getElementsByClassName(a)),n}if(p.qsa&&(!y||!y.test(e))){if(d=u=C,f=t,h=9===s&&e,1===s&&"object"!==t.nodeName.toLowerCase()){for(c=ue(e),(u=t.getAttribute("id"))?d=u.replace(J,"\\$&"):t.setAttribute("id",d),d="[id='"+d+"'] ",l=c.length;l--;)c[l]=d+de(c[l]);f=G.test(e)&&le(t.parentNode)||t,h=c.join(",")}if(h)try{return P.apply(n,f.querySelectorAll(h)),n}catch(e){}finally{u||t.removeAttribute("id")}}}return function(e,t,n,i){var r,o,a,s,l,c=ue(e);if(!i&&1===c.length){if(2<(o=c[0]=c[0].slice(0)).length&&"ID"===(a=o[0]).type&&p.getById&&9===t.nodeType&&v&&w.relative[o[1].type]){if(!(t=(w.find.ID(a.matches[0].replace(Z,ee),t)||[])[0]))return n;e=e.slice(o.shift().value.length)}for(r=Q.needsContext.test(e)?0:o.length;r--&&(a=o[r],!w.relative[s=a.type]);)if((l=w.find[s])&&(i=l(a.matches[0].replace(Z,ee),G.test(o[0].type)&&le(t.parentNode)||t))){if(o.splice(r,1),!(e=i.length&&de(o)))return P.apply(n,i),n;break}}return m(e,c)(i,t,!v,n,G.test(e)&&le(t.parentNode)||t),n}(e.replace(z,"$1"),t,n,i)}function ne(){var n=[];function i(e,t){return n.push(e+" ")>w.cacheLength&&delete i[n.shift()],i[e+" "]=t}return i}function ie(e){return e[C]=!0,e}function re(e){var t=k.createElement("div");try{return!!e(t)}catch(e){return!1}finally{t.parentNode&&t.parentNode.removeChild(t),t=null}}function oe(e,t){for(var n=e.split("|"),i=e.length;i--;)w.attrHandle[n[i]]=t}function ae(e,t){var n=t&&e,i=n&&1===e.nodeType&&1===t.nodeType&&(~t.sourceIndex||1<<31)-(~e.sourceIndex||1<<31);if(i)return i;if(n)for(;n=n.nextSibling;)if(n===t)return-1;return e?1:-1}function se(a){return ie(function(o){return o=+o,ie(function(e,t){for(var n,i=a([],e.length,o),r=i.length;r--;)e[n=i[r]]&&(e[n]=!(t[n]=e[n]))})})}function le(e){return e&&typeof e.getElementsByTagName!==_&&e}for(e in p=te.support={},i=te.isXML=function(e){var t=e&&(e.ownerDocument||e).documentElement;return!!t&&"HTML"!==t.nodeName},g=te.setDocument=function(e){var t,l=e?e.ownerDocument||e:$,n=l.defaultView;return l!==k&&9===l.nodeType&&l.documentElement?(r=(k=l).documentElement,v=!i(l),n&&n!==n.top&&(n.addEventListener?n.addEventListener("unload",function(){g()},!1):n.attachEvent&&n.attachEvent("onunload",function(){g()})),p.attributes=re(function(e){return e.className="i",!e.getAttribute("className")}),p.getElementsByTagName=re(function(e){return e.appendChild(l.createComment("")),!e.getElementsByTagName("*").length}),p.getElementsByClassName=X.test(l.getElementsByClassName)&&re(function(e){return e.innerHTML="<div class='a'></div><div class='a i'></div>",e.firstChild.className="i",2===e.getElementsByClassName("i").length}),p.getById=re(function(e){return r.appendChild(e).id=C,!l.getElementsByName||!l.getElementsByName(C).length}),p.getById?(w.find.ID=function(e,t){if(typeof t.getElementById!==_&&v){var n=t.getElementById(e);return n&&n.parentNode?[n]:[]}},w.filter.ID=function(e){var t=e.replace(Z,ee);return function(e){return e.getAttribute("id")===t}}):(delete w.find.ID,w.filter.ID=function(e){var n=e.replace(Z,ee);return function(e){var t=typeof e.getAttributeNode!==_&&e.getAttributeNode("id");return t&&t.value===n}}),w.find.TAG=p.getElementsByTagName?function(e,t){if(typeof t.getElementsByTagName!==_)return t.getElementsByTagName(e)}:function(e,t){var n,i=[],r=0,o=t.getElementsByTagName(e);if("*"!==e)return o;for(;n=o[r++];)1===n.nodeType&&i.push(n);return i},w.find.CLASS=p.getElementsByClassName&&function(e,t){if(typeof t.getElementsByClassName!==_&&v)return t.getElementsByClassName(e)},a=[],y=[],(p.qsa=X.test(l.querySelectorAll))&&(re(function(e){e.innerHTML="<select t=''><option selected=''></option></select>",e.querySelectorAll("[t^='']").length&&y.push("[*^$]="+O+"*(?:''|\"\")"),e.querySelectorAll("[selected]").length||y.push("\\["+O+"*(?:value|"+N+")"),e.querySelectorAll(":checked").length||y.push(":checked")}),re(function(e){var t=l.createElement("input");t.setAttribute("type","hidden"),e.appendChild(t).setAttribute("name","D"),e.querySelectorAll("[name=d]").length&&y.push("name"+O+"*[*^$|!~]?="),e.querySelectorAll(":enabled").length||y.push(":enabled",":disabled"),e.querySelectorAll("*,:x"),y.push(",.*:")})),(p.matchesSelector=X.test(s=r.webkitMatchesSelector||r.mozMatchesSelector||r.oMatchesSelector||r.msMatchesSelector))&&re(function(e){p.disconnectedMatch=s.call(e,"div"),s.call(e,"[s!='']:x"),a.push("!=",R)}),y=y.length&&new RegExp(y.join("|")),a=a.length&&new RegExp(a.join("|")),t=X.test(r.compareDocumentPosition),b=t||X.test(r.contains)?function(e,t){var n=9===e.nodeType?e.documentElement:e,i=t&&t.parentNode;return e===i||!(!i||1!==i.nodeType||!(n.contains?n.contains(i):e.compareDocumentPosition&&16&e.compareDocumentPosition(i)))}:function(e,t){if(t)for(;t=t.parentNode;)if(t===e)return!0;return!1},S=t?function(e,t){if(e===t)return u=!0,0;var n=!e.compareDocumentPosition-!t.compareDocumentPosition;return n||(1&(n=(e.ownerDocument||e)===(t.ownerDocument||t)?e.compareDocumentPosition(t):1)||!p.sortDetached&&t.compareDocumentPosition(e)===n?e===l||e.ownerDocument===$&&b($,e)?-1:t===l||t.ownerDocument===$&&b($,t)?1:c?M.call(c,e)-M.call(c,t):0:4&n?-1:1)}:function(e,t){if(e===t)return u=!0,0;var n,i=0,r=e.parentNode,o=t.parentNode,a=[e],s=[t];if(!r||!o)return e===l?-1:t===l?1:r?-1:o?1:c?M.call(c,e)-M.call(c,t):0;if(r===o)return ae(e,t);for(n=e;n=n.parentNode;)a.unshift(n);for(n=t;n=n.parentNode;)s.unshift(n);for(;a[i]===s[i];)i++;return i?ae(a[i],s[i]):a[i]===$?-1:s[i]===$?1:0},l):k},te.matches=function(e,t){return te(e,null,null,t)},te.matchesSelector=function(e,t){if((e.ownerDocument||e)!==k&&g(e),t=t.replace(B,"='$1']"),p.matchesSelector&&v&&(!a||!a.test(t))&&(!y||!y.test(t)))try{var n=s.call(e,t);if(n||p.disconnectedMatch||e.document&&11!==e.document.nodeType)return n}catch(e){}return 0<te(t,k,null,[e]).length},te.contains=function(e,t){return(e.ownerDocument||e)!==k&&g(e),b(e,t)},te.attr=function(e,t){(e.ownerDocument||e)!==k&&g(e);var n=w.attrHandle[t.toLowerCase()],i=n&&E.call(w.attrHandle,t.toLowerCase())?n(e,t,!v):void 0;return void 0!==i?i:p.attributes||!v?e.getAttribute(t):(i=e.getAttributeNode(t))&&i.specified?i.value:null},te.error=function(e){throw new Error("Syntax error, unrecognized expression: "+e)},te.uniqueSort=function(e){var t,n=[],i=0,r=0;if(u=!p.detectDuplicates,c=!p.sortStable&&e.slice(0),e.sort(S),u){for(;t=e[r++];)t===e[r]&&(i=n.push(r));for(;i--;)e.splice(n[i],1)}return c=null,e},o=te.getText=function(e){var t,n="",i=0,r=e.nodeType;if(r){if(1===r||9===r||11===r){if("string"==typeof e.textContent)return e.textContent;for(e=e.firstChild;e;e=e.nextSibling)n+=o(e)}else if(3===r||4===r)return e.nodeValue}else for(;t=e[i++];)n+=o(t);return n},(w=te.selectors={cacheLength:50,createPseudo:ie,match:Q,attrHandle:{},find:{},relative:{">":{dir:"parentNode",first:!0}," ":{dir:"parentNode"},"+":{dir:"previousSibling",first:!0},"~":{dir:"previousSibling"}},preFilter:{ATTR:function(e){return e[1]=e[1].replace(Z,ee),e[3]=(e[4]||e[5]||"").replace(Z,ee),"~="===e[2]&&(e[3]=" "+e[3]+" "),e.slice(0,4)},CHILD:function(e){return e[1]=e[1].toLowerCase(),"nth"===e[1].slice(0,3)?(e[3]||te.error(e[0]),e[4]=+(e[4]?e[5]+(e[6]||1):2*("even"===e[3]||"odd"===e[3])),e[5]=+(e[7]+e[8]||"odd"===e[3])):e[3]&&te.error(e[0]),e},PSEUDO:function(e){var t,n=!e[5]&&e[2];return Q.CHILD.test(e[0])?null:(e[3]&&void 0!==e[4]?e[2]=e[4]:n&&U.test(n)&&(t=ue(n,!0))&&(t=n.indexOf(")",n.length-t)-n.length)&&(e[0]=e[0].slice(0,t),e[2]=n.slice(0,t)),e.slice(0,3))}},filter:{TAG:function(e){var t=e.replace(Z,ee).toLowerCase();return"*"===e?function(){return!0}:function(e){return e.nodeName&&e.nodeName.toLowerCase()===t}},CLASS:function(e){var t=l[e+" "];return t||(t=new RegExp("(^|"+O+")"+e+"("+O+"|$)"))&&l(e,function(e){return t.test("string"==typeof e.className&&e.className||typeof e.getAttribute!==_&&e.getAttribute("class")||"")})},ATTR:function(n,i,r){return function(e){var t=te.attr(e,n);return null==t?"!="===i:!i||(t+="","="===i?t===r:"!="===i?t!==r:"^="===i?r&&0===t.indexOf(r):"*="===i?r&&-1<t.indexOf(r):"$="===i?r&&t.slice(-r.length)===r:"~="===i?-1<(" "+t+" ").indexOf(r):"|="===i&&(t===r||t.slice(0,r.length+1)===r+"-"))}},CHILD:function(h,e,t,p,m){var g="nth"!==h.slice(0,3),v="last"!==h.slice(-4),y="of-type"===e;return 1===p&&0===m?function(e){return!!e.parentNode}:function(e,t,n){var i,r,o,a,s,l,c=g!=v?"nextSibling":"previousSibling",u=e.parentNode,d=y&&e.nodeName.toLowerCase(),f=!n&&!y;if(u){if(g){for(;c;){for(o=e;o=o[c];)if(y?o.nodeName.toLowerCase()===d:1===o.nodeType)return!1;l=c="only"===h&&!l&&"nextSibling"}return!0}if(l=[v?u.firstChild:u.lastChild],v&&f){for(s=(i=(r=u[C]||(u[C]={}))[h]||[])[0]===T&&i[1],a=i[0]===T&&i[2],o=s&&u.childNodes[s];o=++s&&o&&o[c]||(a=s=0)||l.pop();)if(1===o.nodeType&&++a&&o===e){r[h]=[T,s,a];break}}else if(f&&(i=(e[C]||(e[C]={}))[h])&&i[0]===T)a=i[1];else for(;(o=++s&&o&&o[c]||(a=s=0)||l.pop())&&((y?o.nodeName.toLowerCase()!==d:1!==o.nodeType)||!++a||(f&&((o[C]||(o[C]={}))[h]=[T,a]),o!==e)););return(a-=m)===p||a%p==0&&0<=a/p}}},PSEUDO:function(e,o){var t,a=w.pseudos[e]||w.setFilters[e.toLowerCase()]||te.error("unsupported pseudo: "+e);return a[C]?a(o):1<a.length?(t=[e,e,"",o],w.setFilters.hasOwnProperty(e.toLowerCase())?ie(function(e,t){for(var n,i=a(e,o),r=i.length;r--;)e[n=M.call(e,i[r])]=!(t[n]=i[r])}):function(e){return a(e,0,t)}):a}},pseudos:{not:ie(function(e){var i=[],r=[],s=m(e.replace(z,"$1"));return s[C]?ie(function(e,t,n,i){for(var r,o=s(e,null,i,[]),a=e.length;a--;)(r=o[a])&&(e[a]=!(t[a]=r))}):function(e,t,n){return i[0]=e,s(i,null,n,r),!r.pop()}}),has:ie(function(t){return function(e){return 0<te(t,e).length}}),contains:ie(function(t){return function(e){return-1<(e.textContent||e.innerText||o(e)).indexOf(t)}}),lang:ie(function(n){return q.test(n||"")||te.error("unsupported lang: "+n),n=n.replace(Z,ee).toLowerCase(),function(e){var t;do{if(t=v?e.lang:e.getAttribute("xml:lang")||e.getAttribute("lang"))return(t=t.toLowerCase())===n||0===t.indexOf(n+"-")}while((e=e.parentNode)&&1===e.nodeType);return!1}}),target:function(e){var t=n.location&&n.location.hash;return t&&t.slice(1)===e.id},root:function(e){return e===r},focus:function(e){return e===k.activeElement&&(!k.hasFocus||k.hasFocus())&&!!(e.type||e.href||~e.tabIndex)},enabled:function(e){return!1===e.disabled},disabled:function(e){return!0===e.disabled},checked:function(e){var t=e.nodeName.toLowerCase();return"input"===t&&!!e.checked||"option"===t&&!!e.selected},selected:function(e){return e.parentNode&&e.parentNode.selectedIndex,!0===e.selected},empty:function(e){for(e=e.firstChild;e;e=e.nextSibling)if(e.nodeType<6)return!1;return!0},parent:function(e){return!w.pseudos.empty(e)},header:function(e){return V.test(e.nodeName)},input:function(e){return Y.test(e.nodeName)},button:function(e){var t=e.nodeName.toLowerCase();return"input"===t&&"button"===e.type||"button"===t},text:function(e){var t;return"input"===e.nodeName.toLowerCase()&&"text"===e.type&&(null==(t=e.getAttribute("type"))||"text"===t.toLowerCase())},first:se(function(){return[0]}),last:se(function(e,t){return[t-1]}),eq:se(function(e,t,n){return[n<0?n+t:n]}),even:se(function(e,t){for(var n=0;n<t;n+=2)e.push(n);return e}),odd:se(function(e,t){for(var n=1;n<t;n+=2)e.push(n);return e}),lt:se(function(e,t,n){for(var i=n<0?n+t:n;0<=--i;)e.push(i);return e}),gt:se(function(e,t,n){for(var i=n<0?n+t:n;++i<t;)e.push(i);return e})}}).pseudos.nth=w.pseudos.eq,{radio:!0,checkbox:!0,file:!0,password:!0,image:!0})w.pseudos[e]=function(t){return function(e){return"input"===e.nodeName.toLowerCase()&&e.type===t}}(e);for(e in{submit:!0,reset:!0})w.pseudos[e]=function(n){return function(e){var t=e.nodeName.toLowerCase();return("input"===t||"button"===t)&&e.type===n}}(e);function ce(){}function ue(e,t){var n,i,r,o,a,s,l,c=f[e+" "];if(c)return t?0:c.slice(0);for(a=e,s=[],l=w.preFilter;a;){for(o in n&&!(i=H.exec(a))||(i&&(a=a.slice(i[0].length)||a),s.push(r=[])),n=!1,(i=W.exec(a))&&(n=i.shift(),r.push({value:n,type:i[0].replace(z," ")}),a=a.slice(n.length)),w.filter)!(i=Q[o].exec(a))||l[o]&&!(i=l[o](i))||(n=i.shift(),r.push({value:n,type:o,matches:i}),a=a.slice(n.length));if(!n)break}return t?a.length:a?te.error(e):f(e,s).slice(0)}function de(e){for(var t=0,n=e.length,i="";t<n;t++)i+=e[t].value;return i}function fe(a,e,t){var s=e.dir,l=t&&"parentNode"===s,c=d++;return e.first?function(e,t,n){for(;e=e[s];)if(1===e.nodeType||l)return a(e,t,n)}:function(e,t,n){var i,r,o=[T,c];if(n){for(;e=e[s];)if((1===e.nodeType||l)&&a(e,t,n))return!0}else for(;e=e[s];)if(1===e.nodeType||l){if((i=(r=e[C]||(e[C]={}))[s])&&i[0]===T&&i[1]===c)return o[2]=i[2];if((r[s]=o)[2]=a(e,t,n))return!0}}}function he(r){return 1<r.length?function(e,t,n){for(var i=r.length;i--;)if(!r[i](e,t,n))return!1;return!0}:r[0]}function pe(e,t,n,i,r){for(var o,a=[],s=0,l=e.length,c=null!=t;s<l;s++)(o=e[s])&&(n&&!n(o,i,r)||(a.push(o),c&&t.push(s)));return a}function me(h,p,m,g,v,e){return g&&!g[C]&&(g=me(g)),v&&!v[C]&&(v=me(v,e)),ie(function(e,t,n,i){var r,o,a,s=[],l=[],c=t.length,u=e||function(e,t,n){for(var i=0,r=t.length;i<r;i++)te(e,t[i],n);return n}(p||"*",n.nodeType?[n]:n,[]),d=!h||!e&&p?u:pe(u,s,h,n,i),f=m?v||(e?h:c||g)?[]:t:d;if(m&&m(d,f,n,i),g)for(r=pe(f,l),g(r,[],n,i),o=r.length;o--;)(a=r[o])&&(f[l[o]]=!(d[l[o]]=a));if(e){if(v||h){if(v){for(r=[],o=f.length;o--;)(a=f[o])&&r.push(d[o]=a);v(null,f=[],r,i)}for(o=f.length;o--;)(a=f[o])&&-1<(r=v?M.call(e,a):s[o])&&(e[r]=!(t[r]=a))}}else f=pe(f===t?f.splice(c,f.length):f),v?v(null,t,f,i):P.apply(t,f)})}function ge(g,v){function e(e,t,n,i,r){var o,a,s,l=0,c="0",u=e&&[],d=[],f=x,h=e||b&&w.find.TAG("*",r),p=T+=null==f?1:Math.random()||.1,m=h.length;for(r&&(x=t!==k&&t);c!==m&&null!=(o=h[c]);c++){if(b&&o){for(a=0;s=g[a++];)if(s(o,t,n)){i.push(o);break}r&&(T=p)}y&&((o=!s&&o)&&l--,e&&u.push(o))}if(l+=c,y&&c!==l){for(a=0;s=v[a++];)s(u,d,t,n);if(e){if(0<l)for(;c--;)u[c]||d[c]||(d[c]=j.call(i));d=pe(d)}P.apply(i,d),r&&!e&&0<d.length&&1<l+v.length&&te.uniqueSort(i)}return r&&(T=p,x=f),u}var y=0<v.length,b=0<g.length;return y?ie(e):e}return ce.prototype=w.filters=w.pseudos,w.setFilters=new ce,m=te.compile=function(e,t){var n,i=[],r=[],o=h[e+" "];if(!o){for(n=(t=t||ue(e)).length;n--;)(o=function e(t){for(var i,n,r,o=t.length,a=w.relative[t[0].type],s=a||w.relative[" "],l=a?1:0,c=fe(function(e){return e===i},s,!0),u=fe(function(e){return-1<M.call(i,e)},s,!0),d=[function(e,t,n){return!a&&(n||t!==x)||((i=t).nodeType?c:u)(e,t,n)}];l<o;l++)if(n=w.relative[t[l].type])d=[fe(he(d),n)];else{if((n=w.filter[t[l].type].apply(null,t[l].matches))[C]){for(r=++l;r<o&&!w.relative[t[r].type];r++);return me(1<l&&he(d),1<l&&de(t.slice(0,l-1).concat({value:" "===t[l-2].type?"*":""})).replace(z,"$1"),n,l<r&&e(t.slice(l,r)),r<o&&e(t=t.slice(r)),r<o&&de(t))}d.push(n)}return he(d)}(t[n]))[C]?i.push(o):r.push(o);o=h(e,ge(r,i))}return o},p.sortStable=C.split("").sort(S).join("")===C,p.detectDuplicates=!!u,g(),p.sortDetached=re(function(e){return 1&e.compareDocumentPosition(k.createElement("div"))}),re(function(e){return e.innerHTML="<a href='#'></a>","#"===e.firstChild.getAttribute("href")})||oe("type|href|height|width",function(e,t,n){if(!n)return e.getAttribute(t,"type"===t.toLowerCase()?1:2)}),p.attributes&&re(function(e){return e.innerHTML="<input/>",e.firstChild.setAttribute("value",""),""===e.firstChild.getAttribute("value")})||oe("value",function(e,t,n){if(!n&&"input"===e.nodeName.toLowerCase())return e.defaultValue}),re(function(e){return null==e.getAttribute("disabled")})||oe(N,function(e,t,n){var i;if(!n)return!0===e[t]?t.toLowerCase():(i=e.getAttributeNode(t))&&i.specified?i.value:null}),te}(p);C.find=h,C.expr=h.selectors,C.expr[":"]=C.expr.pseudos,C.unique=h.uniqueSort,C.text=h.getText,C.isXMLDoc=h.isXML,C.contains=h.contains;var y=C.expr.match.needsContext,b=/^<(\w+)\s*\/?>(?:<\/\1>|)$/,w=/^.[^:#\[\.,]*$/;function x(e,n,i){if(C.isFunction(n))return C.grep(e,function(e,t){return!!n.call(e,t,e)!==i});if(n.nodeType)return C.grep(e,function(e){return e===n!==i});if("string"==typeof n){if(w.test(n))return C.filter(n,e,i);n=C.filter(n,e)}return C.grep(e,function(e){return 0<=C.inArray(e,n)!==i})}C.filter=function(e,t,n){var i=t[0];return n&&(e=":not("+e+")"),1===t.length&&1===i.nodeType?C.find.matchesSelector(i,e)?[i]:[]:C.find.matches(e,C.grep(t,function(e){return 1===e.nodeType}))},C.fn.extend({find:function(e){var t,n=[],i=this,r=i.length;if("string"!=typeof e)return this.pushStack(C(e).filter(function(){for(t=0;t<r;t++)if(C.contains(i[t],this))return!0}));for(t=0;t<r;t++)C.find(e,i[t],n);return(n=this.pushStack(1<r?C.unique(n):n)).selector=this.selector?this.selector+" "+e:e,n},filter:function(e){return this.pushStack(x(this,e||[],!1))},not:function(e){return this.pushStack(x(this,e||[],!0))},is:function(e){return!!x(this,"string"==typeof e&&y.test(e)?C(e):e||[],!1).length}});var k,$=p.document,T=/^(?:\s*(<[\w\W]+>)[^>]*|#([\w-]*))$/;(C.fn.init=function(e,t){var n,i;if(!e)return this;if("string"!=typeof e)return e.nodeType?(this.context=this[0]=e,this.length=1,this):C.isFunction(e)?void 0!==k.ready?k.ready(e):e(C):(void 0!==e.selector&&(this.selector=e.selector,this.context=e.context),C.makeArray(e,this));if(!(n="<"===e.charAt(0)&&">"===e.charAt(e.length-1)&&3<=e.length?[null,e,null]:T.exec(e))||!n[1]&&t)return!t||t.jquery?(t||k).find(e):this.constructor(t).find(e);if(n[1]){if(t=t instanceof C?t[0]:t,C.merge(this,C.parseHTML(n[1],t&&t.nodeType?t.ownerDocument||t:$,!0)),b.test(n[1])&&C.isPlainObject(t))for(n in t)C.isFunction(this[n])?this[n](t[n]):this.attr(n,t[n]);return this}if((i=$.getElementById(n[2]))&&i.parentNode){if(i.id!==n[2])return k.find(e);this.length=1,this[0]=i}return this.context=$,this.selector=e,this}).prototype=C.fn,k=C($);var S=/^(?:parents|prev(?:Until|All))/,_={children:!0,contents:!0,next:!0,prev:!0};function E(e,t){for(;(e=e[t])&&1!==e.nodeType;);return e}C.extend({dir:function(e,t,n){for(var i=[],r=e[t];r&&9!==r.nodeType&&(void 0===n||1!==r.nodeType||!C(r).is(n));)1===r.nodeType&&i.push(r),r=r[t];return i},sibling:function(e,t){for(var n=[];e;e=e.nextSibling)1===e.nodeType&&e!==t&&n.push(e);return n}}),C.fn.extend({has:function(e){var t,n=C(e,this),i=n.length;return this.filter(function(){for(t=0;t<i;t++)if(C.contains(this,n[t]))return!0})},closest:function(e,t){for(var n,i=0,r=this.length,o=[],a=y.test(e)||"string"!=typeof e?C(e,t||this.context):0;i<r;i++)for(n=this[i];n&&n!==t;n=n.parentNode)if(n.nodeType<11&&(a?-1<a.index(n):1===n.nodeType&&C.find.matchesSelector(n,e))){o.push(n);break}return this.pushStack(1<o.length?C.unique(o):o)},index:function(e){return e?"string"==typeof e?C.inArray(this[0],C(e)):C.inArray(e.jquery?e[0]:e,this):this[0]&&this[0].parentNode?this.first().prevAll().length:-1},add:function(e,t){return this.pushStack(C.unique(C.merge(this.get(),C(e,t))))},addBack:function(e){return this.add(null==e?this.prevObject:this.prevObject.filter(e))}}),C.each({parent:function(e){var t=e.parentNode;return t&&11!==t.nodeType?t:null},parents:function(e){return C.dir(e,"parentNode")},parentsUntil:function(e,t,n){return C.dir(e,"parentNode",n)},next:function(e){return E(e,"nextSibling")},prev:function(e){return E(e,"previousSibling")},nextAll:function(e){return C.dir(e,"nextSibling")},prevAll:function(e){return C.dir(e,"previousSibling")},nextUntil:function(e,t,n){return C.dir(e,"nextSibling",n)},prevUntil:function(e,t,n){return C.dir(e,"previousSibling",n)},siblings:function(e){return C.sibling((e.parentNode||{}).firstChild,e)},children:function(e){return C.sibling(e.firstChild)},contents:function(e){return C.nodeName(e,"iframe")?e.contentDocument||e.contentWindow.document:C.merge([],e.childNodes)}},function(i,r){C.fn[i]=function(e,t){var n=C.map(this,r,e);return"Until"!==i.slice(-5)&&(t=e),t&&"string"==typeof t&&(n=C.filter(t,n)),1<this.length&&(_[i]||(n=C.unique(n)),S.test(i)&&(n=n.reverse())),this.pushStack(n)}});var j,I=/\S+/g,P={};function D(){$.addEventListener?($.removeEventListener("DOMContentLoaded",M,!1),p.removeEventListener("load",M,!1)):($.detachEvent("onreadystatechange",M),p.detachEvent("onload",M))}function M(){!$.addEventListener&&"load"!==event.type&&"complete"!==$.readyState||(D(),C.ready())}C.Callbacks=function(r){var e,n;r="string"==typeof r?P[r]||(n=P[e=r]={},C.each(e.match(I)||[],function(e,t){n[t]=!0}),n):C.extend({},r);var i,t,o,a,s,l,c=[],u=!r.once&&[],d=function(e){for(t=r.memory&&e,o=!0,s=l||0,l=0,a=c.length,i=!0;c&&s<a;s++)if(!1===c[s].apply(e[0],e[1])&&r.stopOnFalse){t=!1;break}i=!1,c&&(u?u.length&&d(u.shift()):t?c=[]:f.disable())},f={add:function(){var e;return c&&(e=c.length,function i(e){C.each(e,function(e,t){var n=C.type(t);"function"===n?r.unique&&f.has(t)||c.push(t):t&&t.length&&"string"!==n&&i(t)})}(arguments),i?a=c.length:t&&(l=e,d(t))),this},remove:function(){return c&&C.each(arguments,function(e,t){for(var n;-1<(n=C.inArray(t,c,n));)c.splice(n,1),i&&(n<=a&&a--,n<=s&&s--)}),this},has:function(e){return e?-1<C.inArray(e,c):!(!c||!c.length)},empty:function(){return c=[],a=0,this},disable:function(){return c=u=t=void 0,this},disabled:function(){return!c},lock:function(){return u=void 0,t||f.disable(),this},locked:function(){return!u},fireWith:function(e,t){return!c||o&&!u||(t=[e,(t=t||[]).slice?t.slice():t],i?u.push(t):d(t)),this},fire:function(){return f.fireWith(this,arguments),this},fired:function(){return!!o}};return f},C.extend({Deferred:function(e){var o=[["resolve","done",C.Callbacks("once memory"),"resolved"],["reject","fail",C.Callbacks("once memory"),"rejected"],["notify","progress",C.Callbacks("memory")]],r="pending",a={state:function(){return r},always:function(){return s.done(arguments).fail(arguments),this},then:function(){var r=arguments;return C.Deferred(function(i){C.each(o,function(e,t){var n=C.isFunction(r[e])&&r[e];s[t[1]](function(){var e=n&&n.apply(this,arguments);e&&C.isFunction(e.promise)?e.promise().done(i.resolve).fail(i.reject).progress(i.notify):i[t[0]+"With"](this===a?i.promise():this,n?[e]:arguments)})}),r=null}).promise()},promise:function(e){return null!=e?C.extend(e,a):a}},s={};return a.pipe=a.then,C.each(o,function(e,t){var n=t[2],i=t[3];a[t[1]]=n.add,i&&n.add(function(){r=i},o[1^e][2].disable,o[2][2].lock),s[t[0]]=function(){return s[t[0]+"With"](this===s?a:this,arguments),this},s[t[0]+"With"]=n.fireWith}),a.promise(s),e&&e.call(s,s),s},when:function(e){function t(t,n,i){return function(e){n[t]=this,i[t]=1<arguments.length?u.call(arguments):e,i===r?c.notifyWith(n,i):--l||c.resolveWith(n,i)}}var r,n,i,o=0,a=u.call(arguments),s=a.length,l=1!==s||e&&C.isFunction(e.promise)?s:0,c=1===l?e:C.Deferred();if(1<s)for(r=new Array(s),n=new Array(s),i=new Array(s);o<s;o++)a[o]&&C.isFunction(a[o].promise)?a[o].promise().done(t(o,i,a)).fail(c.reject).progress(t(o,n,r)):--l;return l||c.resolveWith(i,a),c.promise()}}),C.fn.ready=function(e){return C.ready.promise().done(e),this},C.extend({isReady:!1,readyWait:1,holdReady:function(e){e?C.readyWait++:C.ready(!0)},ready:function(e){if(!0===e?!--C.readyWait:!C.isReady){if(!$.body)return setTimeout(C.ready);(C.isReady=!0)!==e&&0<--C.readyWait||(j.resolveWith($,[C]),C.fn.trigger&&C($).trigger("ready").off("ready"))}}}),C.ready.promise=function(e){if(!j)if(j=C.Deferred(),"complete"===$.readyState)setTimeout(C.ready);else if($.addEventListener)$.addEventListener("DOMContentLoaded",M,!1),p.addEventListener("load",M,!1);else{$.attachEvent("onreadystatechange",M),p.attachEvent("onload",M);var n=!1;try{n=null==p.frameElement&&$.documentElement}catch(e){}n&&n.doScroll&&!function t(){if(!C.isReady){try{n.doScroll("left")}catch(e){return setTimeout(t,50)}D(),C.ready()}}()}return j.promise(e)};var N,O="undefined";for(N in C(v))break;v.ownLast="0"!==N,v.inlineBlockNeedsLayout=!1,C(function(){var e,t,n=$.getElementsByTagName("body")[0];n&&((e=$.createElement("div")).style.cssText="border:0;width:0;height:0;position:absolute;top:0;left:-9999px;margin-top:1px",t=$.createElement("div"),n.appendChild(e).appendChild(t),typeof t.style.zoom!==O&&(t.style.cssText="border:0;margin:0;width:1px;padding:1px;display:inline;zoom:1",(v.inlineBlockNeedsLayout=3===t.offsetWidth)&&(n.style.zoom=1)),n.removeChild(e),e=t=null)}),function(){var e=$.createElement("div");if(null==v.deleteExpando){v.deleteExpando=!0;try{delete e.test}catch(e){v.deleteExpando=!1}}e=null}(),C.acceptData=function(e){var t=C.noData[(e.nodeName+" ").toLowerCase()],n=+e.nodeType||1;return(1===n||9===n)&&(!t||!0!==t&&e.getAttribute("classid")===t)};var A=/^(?:\{[\w\W]*\}|\[[\w\W]*\])$/,L=/([A-Z])/g;function F(e,t,n){if(void 0===n&&1===e.nodeType){var i="data-"+t.replace(L,"-$1").toLowerCase();if("string"==typeof(n=e.getAttribute(i))){try{n="true"===n||"false"!==n&&("null"===n?null:+n+""===n?+n:A.test(n)?C.parseJSON(n):n)}catch(e){}C.data(e,t,n)}else n=void 0}return n}function R(e){for(var t in e)if(("data"!==t||!C.isEmptyObject(e[t]))&&"toJSON"!==t)return;return 1}function z(e,t,n,i){if(C.acceptData(e)){var r,o,a=C.expando,s=e.nodeType,l=s?C.cache:e,c=s?e[a]:e[a]&&a;if(c&&l[c]&&(i||l[c].data)||void 0!==n||"string"!=typeof t)return l[c=c||(s?e[a]=d.pop()||C.guid++:a)]||(l[c]=s?{}:{toJSON:C.noop}),"object"!=typeof t&&"function"!=typeof t||(i?l[c]=C.extend(l[c],t):l[c].data=C.extend(l[c].data,t)),o=l[c],i||(o.data||(o.data={}),o=o.data),void 0!==n&&(o[C.camelCase(t)]=n),"string"==typeof t?null==(r=o[t])&&(r=o[C.camelCase(t)]):r=o,r}}function H(e,t,n){if(C.acceptData(e)){var i,r,o=e.nodeType,a=o?C.cache:e,s=o?e[C.expando]:C.expando;if(a[s]){if(t&&(i=n?a[s]:a[s].data)){r=(t=C.isArray(t)?t.concat(C.map(t,C.camelCase)):t in i||(t=C.camelCase(t))in i?[t]:t.split(" ")).length;for(;r--;)delete i[t[r]];if(n?!R(i):!C.isEmptyObject(i))return}(n||(delete a[s].data,R(a[s])))&&(o?C.cleanData([e],!0):v.deleteExpando||a!=a.window?delete a[s]:a[s]=null)}}}C.extend({cache:{},noData:{"applet ":!0,"embed ":!0,"object ":"clsid:D27CDB6E-AE6D-11cf-96B8-444553540000"},hasData:function(e){return!!(e=e.nodeType?C.cache[e[C.expando]]:e[C.expando])&&!R(e)},data:function(e,t,n){return z(e,t,n)},removeData:function(e,t){return H(e,t)},_data:function(e,t,n){return z(e,t,n,!0)},_removeData:function(e,t){return H(e,t,!0)}}),C.fn.extend({data:function(e,t){var n,i,r,o=this[0],a=o&&o.attributes;if(void 0!==e)return"object"==typeof e?this.each(function(){C.data(this,e)}):1<arguments.length?this.each(function(){C.data(this,e,t)}):o?F(o,e,C.data(o,e)):void 0;if(this.length&&(r=C.data(o),1===o.nodeType&&!C._data(o,"parsedAttrs"))){for(n=a.length;n--;)0===(i=a[n].name).indexOf("data-")&&F(o,i=C.camelCase(i.slice(5)),r[i]);C._data(o,"parsedAttrs",!0)}return r},removeData:function(e){return this.each(function(){C.removeData(this,e)})}}),C.extend({queue:function(e,t,n){var i;if(e)return t=(t||"fx")+"queue",i=C._data(e,t),n&&(!i||C.isArray(n)?i=C._data(e,t,C.makeArray(n)):i.push(n)),i||[]},dequeue:function(e,t){t=t||"fx";var n=C.queue(e,t),i=n.length,r=n.shift(),o=C._queueHooks(e,t);"inprogress"===r&&(r=n.shift(),i--),r&&("fx"===t&&n.unshift("inprogress"),delete o.stop,r.call(e,function(){C.dequeue(e,t)},o)),!i&&o&&o.empty.fire()},_queueHooks:function(e,t){var n=t+"queueHooks";return C._data(e,n)||C._data(e,n,{empty:C.Callbacks("once memory").add(function(){C._removeData(e,t+"queue"),C._removeData(e,n)})})}}),C.fn.extend({queue:function(t,n){var e=2;return"string"!=typeof t&&(n=t,t="fx",e--),arguments.length<e?C.queue(this[0],t):void 0===n?this:this.each(function(){var e=C.queue(this,t,n);C._queueHooks(this,t),"fx"===t&&"inprogress"!==e[0]&&C.dequeue(this,t)})},dequeue:function(e){return this.each(function(){C.dequeue(this,e)})},clearQueue:function(e){return this.queue(e||"fx",[])},promise:function(e,t){function n(){--r||o.resolveWith(a,[a])}var i,r=1,o=C.Deferred(),a=this,s=this.length;for("string"!=typeof e&&(t=e,e=void 0),e=e||"fx";s--;)(i=C._data(a[s],e+"queueHooks"))&&i.empty&&(r++,i.empty.add(n));return n(),o.promise(t)}});function W(e,t){return e=t||e,"none"===C.css(e,"display")||!C.contains(e.ownerDocument,e)}var B=/[+-]?(?:\d*\.|)\d+(?:[eE][+-]?\d+|)/.source,U=["Top","Right","Bottom","Left"],q=C.access=function(e,t,n,i,r,o,a){var s=0,l=e.length,c=null==n;if("object"===C.type(n))for(s in r=!0,n)C.access(e,t,s,n[s],!0,o,a);else if(void 0!==i&&(r=!0,C.isFunction(i)||(a=!0),c&&(t=a?(t.call(e,i),null):(c=t,function(e,t,n){return c.call(C(e),n)})),t))for(;s<l;s++)t(e[s],n,a?i:i.call(e[s],s,t(e[s],n)));return r?e:c?t.call(e):l?t(e[0],n):o},Q=/^(?:checkbox|radio)$/i;!function(){var e=$.createDocumentFragment(),t=$.createElement("div"),n=$.createElement("input");if(t.setAttribute("className","t"),t.innerHTML="  <link/><table></table><a href='/a'>a</a>",v.leadingWhitespace=3===t.firstChild.nodeType,v.tbody=!t.getElementsByTagName("tbody").length,v.htmlSerialize=!!t.getElementsByTagName("link").length,v.html5Clone="<:nav></:nav>"!==$.createElement("nav").cloneNode(!0).outerHTML,n.type="checkbox",n.checked=!0,e.appendChild(n),v.appendChecked=n.checked,t.innerHTML="<textarea>x</textarea>",v.noCloneChecked=!!t.cloneNode(!0).lastChild.defaultValue,e.appendChild(t),t.innerHTML="<input type='radio' checked='checked' name='t'/>",v.checkClone=t.cloneNode(!0).cloneNode(!0).lastChild.checked,v.noCloneEvent=!0,t.attachEvent&&(t.attachEvent("onclick",function(){v.noCloneEvent=!1}),t.cloneNode(!0).click()),null==v.deleteExpando){v.deleteExpando=!0;try{delete t.test}catch(e){v.deleteExpando=!1}}e=t=n=null}(),function(){var e,t,n=$.createElement("div");for(e in{submit:!0,change:!0,focusin:!0})t="on"+e,(v[e+"Bubbles"]=t in p)||(n.setAttribute(t,"t"),v[e+"Bubbles"]=!1===n.attributes[t].expando);n=null}();var Y=/^(?:input|select|textarea)$/i,V=/^key/,X=/^(?:mouse|contextmenu)|click/,K=/^(?:focusinfocus|focusoutblur)$/,G=/^([^.]*)(?:\.(.+)|)$/;function J(){return!0}function Z(){return!1}function ee(){try{return $.activeElement}catch(e){}}function te(e){var t=ne.split("|"),n=e.createDocumentFragment();if(n.createElement)for(;t.length;)n.createElement(t.pop());return n}C.event={global:{},add:function(e,t,n,i,r){var o,a,s,l,c,u,d,f,h,p,m,g=C._data(e);if(g){for(n.handler&&(n=(l=n).handler,r=l.selector),n.guid||(n.guid=C.guid++),(a=g.events)||(a=g.events={}),(u=g.handle)||((u=g.handle=function(e){return typeof C===O||e&&C.event.triggered===e.type?void 0:C.event.dispatch.apply(u.elem,arguments)}).elem=e),s=(t=(t||"").match(I)||[""]).length;s--;)h=m=(o=G.exec(t[s])||[])[1],p=(o[2]||"").split(".").sort(),h&&(c=C.event.special[h]||{},h=(r?c.delegateType:c.bindType)||h,c=C.event.special[h]||{},d=C.extend({type:h,origType:m,data:i,handler:n,guid:n.guid,selector:r,needsContext:r&&C.expr.match.needsContext.test(r),namespace:p.join(".")},l),(f=a[h])||((f=a[h]=[]).delegateCount=0,c.setup&&!1!==c.setup.call(e,i,p,u)||(e.addEventListener?e.addEventListener(h,u,!1):e.attachEvent&&e.attachEvent("on"+h,u))),c.add&&(c.add.call(e,d),d.handler.guid||(d.handler.guid=n.guid)),r?f.splice(f.delegateCount++,0,d):f.push(d),C.event.global[h]=!0);e=null}},remove:function(e,t,n,i,r){var o,a,s,l,c,u,d,f,h,p,m,g=C.hasData(e)&&C._data(e);if(g&&(u=g.events)){for(c=(t=(t||"").match(I)||[""]).length;c--;)if(h=m=(s=G.exec(t[c])||[])[1],p=(s[2]||"").split(".").sort(),h){for(d=C.event.special[h]||{},f=u[h=(i?d.delegateType:d.bindType)||h]||[],s=s[2]&&new RegExp("(^|\\.)"+p.join("\\.(?:.*\\.|)")+"(\\.|$)"),l=o=f.length;o--;)a=f[o],!r&&m!==a.origType||n&&n.guid!==a.guid||s&&!s.test(a.namespace)||i&&i!==a.selector&&("**"!==i||!a.selector)||(f.splice(o,1),a.selector&&f.delegateCount--,d.remove&&d.remove.call(e,a));l&&!f.length&&(d.teardown&&!1!==d.teardown.call(e,p,g.handle)||C.removeEvent(e,h,g.handle),delete u[h])}else for(h in u)C.event.remove(e,h+t[c],n,i,!0);C.isEmptyObject(u)&&(delete g.handle,C._removeData(e,"events"))}},trigger:function(e,t,n,i){var r,o,a,s,l,c,u=[n||$],d=g.call(e,"type")?e.type:e,f=g.call(e,"namespace")?e.namespace.split("."):[],h=l=n=n||$;if(3!==n.nodeType&&8!==n.nodeType&&!K.test(d+C.event.triggered)&&(0<=d.indexOf(".")&&(d=(f=d.split(".")).shift(),f.sort()),o=d.indexOf(":")<0&&"on"+d,(e=e[C.expando]?e:new C.Event(d,"object"==typeof e&&e)).isTrigger=i?2:3,e.namespace=f.join("."),e.namespace_re=e.namespace?new RegExp("(^|\\.)"+f.join("\\.(?:.*\\.|)")+"(\\.|$)"):null,e.result=void 0,e.target||(e.target=n),t=null==t?[e]:C.makeArray(t,[e]),s=C.event.special[d]||{},i||!s.trigger||!1!==s.trigger.apply(n,t))){if(!i&&!s.noBubble&&!C.isWindow(n)){for(a=s.delegateType||d,K.test(a+d)||(h=h.parentNode);h;h=h.parentNode)u.push(h),l=h;l===(n.ownerDocument||$)&&u.push(l.defaultView||l.parentWindow||p)}for(c=0;(h=u[c++])&&!e.isPropagationStopped();)e.type=1<c?a:s.bindType||d,(r=(C._data(h,"events")||{})[e.type]&&C._data(h,"handle"))&&r.apply(h,t),(r=o&&h[o])&&r.apply&&C.acceptData(h)&&(e.result=r.apply(h,t),!1===e.result&&e.preventDefault());if(e.type=d,!i&&!e.isDefaultPrevented()&&(!s._default||!1===s._default.apply(u.pop(),t))&&C.acceptData(n)&&o&&n[d]&&!C.isWindow(n)){(l=n[o])&&(n[o]=null),C.event.triggered=d;try{n[d]()}catch(e){}C.event.triggered=void 0,l&&(n[o]=l)}return e.result}},dispatch:function(e){e=C.event.fix(e);var t,n,i,r,o,a,s=u.call(arguments),l=(C._data(this,"events")||{})[e.type]||[],c=C.event.special[e.type]||{};if((s[0]=e).delegateTarget=this,!c.preDispatch||!1!==c.preDispatch.call(this,e)){for(a=C.event.handlers.call(this,e,l),t=0;(r=a[t++])&&!e.isPropagationStopped();)for(e.currentTarget=r.elem,o=0;(i=r.handlers[o++])&&!e.isImmediatePropagationStopped();)e.namespace_re&&!e.namespace_re.test(i.namespace)||(e.handleObj=i,e.data=i.data,void 0!==(n=((C.event.special[i.origType]||{}).handle||i.handler).apply(r.elem,s))&&!1===(e.result=n)&&(e.preventDefault(),e.stopPropagation()));return c.postDispatch&&c.postDispatch.call(this,e),e.result}},handlers:function(e,t){var n,i,r,o,a=[],s=t.delegateCount,l=e.target;if(s&&l.nodeType&&(!e.button||"click"!==e.type))for(;l!=this;l=l.parentNode||this)if(1===l.nodeType&&(!0!==l.disabled||"click"!==e.type)){for(r=[],o=0;o<s;o++)void 0===r[n=(i=t[o]).selector+" "]&&(r[n]=i.needsContext?0<=C(n,this).index(l):C.find(n,this,null,[l]).length),r[n]&&r.push(i);r.length&&a.push({elem:l,handlers:r})}return s<t.length&&a.push({elem:this,handlers:t.slice(s)}),a},fix:function(e){if(e[C.expando])return e;var t,n,i,r=e.type,o=e,a=this.fixHooks[r];for(a||(this.fixHooks[r]=a=X.test(r)?this.mouseHooks:V.test(r)?this.keyHooks:{}),i=a.props?this.props.concat(a.props):this.props,e=new C.Event(o),t=i.length;t--;)e[n=i[t]]=o[n];return e.target||(e.target=o.srcElement||$),3===e.target.nodeType&&(e.target=e.target.parentNode),e.metaKey=!!e.metaKey,a.filter?a.filter(e,o):e},props:"altKey bubbles cancelable ctrlKey currentTarget eventPhase metaKey relatedTarget shiftKey target timeStamp view which".split(" "),fixHooks:{},keyHooks:{props:"char charCode key keyCode".split(" "),filter:function(e,t){return null==e.which&&(e.which=null!=t.charCode?t.charCode:t.keyCode),e}},mouseHooks:{props:"button buttons clientX clientY fromElement offsetX offsetY pageX pageY screenX screenY toElement".split(" "),filter:function(e,t){var n,i,r,o=t.button,a=t.fromElement;return null==e.pageX&&null!=t.clientX&&(r=(i=e.target.ownerDocument||$).documentElement,n=i.body,e.pageX=t.clientX+(r&&r.scrollLeft||n&&n.scrollLeft||0)-(r&&r.clientLeft||n&&n.clientLeft||0),e.pageY=t.clientY+(r&&r.scrollTop||n&&n.scrollTop||0)-(r&&r.clientTop||n&&n.clientTop||0)),!e.relatedTarget&&a&&(e.relatedTarget=a===e.target?t.toElement:a),e.which||void 0===o||(e.which=1&o?1:2&o?3:4&o?2:0),e}},special:{load:{noBubble:!0},focus:{trigger:function(){if(this!==ee()&&this.focus)try{return this.focus(),!1}catch(e){}},delegateType:"focusin"},blur:{trigger:function(){if(this===ee()&&this.blur)return this.blur(),!1},delegateType:"focusout"},click:{trigger:function(){if(C.nodeName(this,"input")&&"checkbox"===this.type&&this.click)return this.click(),!1},_default:function(e){return C.nodeName(e.target,"a")}},beforeunload:{postDispatch:function(e){void 0!==e.result&&(e.originalEvent.returnValue=e.result)}}},simulate:function(e,t,n,i){var r=C.extend(new C.Event,n,{type:e,isSimulated:!0,originalEvent:{}});i?C.event.trigger(r,null,t):C.event.dispatch.call(t,r),r.isDefaultPrevented()&&n.preventDefault()}},C.removeEvent=$.removeEventListener?function(e,t,n){e.removeEventListener&&e.removeEventListener(t,n,!1)}:function(e,t,n){var i="on"+t;e.detachEvent&&(typeof e[i]===O&&(e[i]=null),e.detachEvent(i,n))},C.Event=function(e,t){if(!(this instanceof C.Event))return new C.Event(e,t);e&&e.type?(this.originalEvent=e,this.type=e.type,this.isDefaultPrevented=e.defaultPrevented||void 0===e.defaultPrevented&&(!1===e.returnValue||e.getPreventDefault&&e.getPreventDefault())?J:Z):this.type=e,t&&C.extend(this,t),this.timeStamp=e&&e.timeStamp||C.now(),this[C.expando]=!0},C.Event.prototype={isDefaultPrevented:Z,isPropagationStopped:Z,isImmediatePropagationStopped:Z,preventDefault:function(){var e=this.originalEvent;this.isDefaultPrevented=J,e&&(e.preventDefault?e.preventDefault():e.returnValue=!1)},stopPropagation:function(){var e=this.originalEvent;this.isPropagationStopped=J,e&&(e.stopPropagation&&e.stopPropagation(),e.cancelBubble=!0)},stopImmediatePropagation:function(){this.isImmediatePropagationStopped=J,this.stopPropagation()}},C.each({mouseenter:"mouseover",mouseleave:"mouseout"},function(e,r){C.event.special[e]={delegateType:r,bindType:r,handle:function(e){var t,n=e.relatedTarget,i=e.handleObj;return n&&(n===this||C.contains(this,n))||(e.type=i.origType,t=i.handler.apply(this,arguments),e.type=r),t}}}),v.submitBubbles||(C.event.special.submit={setup:function(){if(C.nodeName(this,"form"))return!1;C.event.add(this,"click._submit keypress._submit",function(e){var t=e.target,n=C.nodeName(t,"input")||C.nodeName(t,"button")?t.form:void 0;n&&!C._data(n,"submitBubbles")&&(C.event.add(n,"submit._submit",function(e){e._submit_bubble=!0}),C._data(n,"submitBubbles",!0))})},postDispatch:function(e){e._submit_bubble&&(delete e._submit_bubble,this.parentNode&&!e.isTrigger&&C.event.simulate("submit",this.parentNode,e,!0))},teardown:function(){if(C.nodeName(this,"form"))return!1;C.event.remove(this,"._submit")}}),v.changeBubbles||(C.event.special.change={setup:function(){if(Y.test(this.nodeName))return"checkbox"!==this.type&&"radio"!==this.type||(C.event.add(this,"propertychange._change",function(e){"checked"===e.originalEvent.propertyName&&(this._just_changed=!0)}),C.event.add(this,"click._change",function(e){this._just_changed&&!e.isTrigger&&(this._just_changed=!1),C.event.simulate("change",this,e,!0)})),!1;C.event.add(this,"beforeactivate._change",function(e){var t=e.target;Y.test(t.nodeName)&&!C._data(t,"changeBubbles")&&(C.event.add(t,"change._change",function(e){!this.parentNode||e.isSimulated||e.isTrigger||C.event.simulate("change",this.parentNode,e,!0)}),C._data(t,"changeBubbles",!0))})},handle:function(e){var t=e.target;if(this!==t||e.isSimulated||e.isTrigger||"radio"!==t.type&&"checkbox"!==t.type)return e.handleObj.handler.apply(this,arguments)},teardown:function(){return C.event.remove(this,"._change"),!Y.test(this.nodeName)}}),v.focusinBubbles||C.each({focus:"focusin",blur:"focusout"},function(n,i){function r(e){C.event.simulate(i,e.target,C.event.fix(e),!0)}C.event.special[i]={setup:function(){var e=this.ownerDocument||this,t=C._data(e,i);t||e.addEventListener(n,r,!0),C._data(e,i,(t||0)+1)},teardown:function(){var e=this.ownerDocument||this,t=C._data(e,i)-1;t?C._data(e,i,t):(e.removeEventListener(n,r,!0),C._removeData(e,i))}}}),C.fn.extend({on:function(e,t,n,i,r){var o,a;if("object"==typeof e){for(o in"string"!=typeof t&&(n=n||t,t=void 0),e)this.on(o,t,n,e[o],r);return this}if(null==n&&null==i?(i=t,n=t=void 0):null==i&&("string"==typeof t?(i=n,n=void 0):(i=n,n=t,t=void 0)),!1===i)i=Z;else if(!i)return this;return 1===r&&(a=i,(i=function(e){return C().off(e),a.apply(this,arguments)}).guid=a.guid||(a.guid=C.guid++)),this.each(function(){C.event.add(this,e,i,n,t)})},one:function(e,t,n,i){return this.on(e,t,n,i,1)},off:function(e,t,n){var i,r;if(e&&e.preventDefault&&e.handleObj)return i=e.handleObj,C(e.delegateTarget).off(i.namespace?i.origType+"."+i.namespace:i.origType,i.selector,i.handler),this;if("object"!=typeof e)return!1!==t&&"function"!=typeof t||(n=t,t=void 0),!1===n&&(n=Z),this.each(function(){C.event.remove(this,e,n,t)});for(r in e)this.off(r,t,e[r]);return this},trigger:function(e,t){return this.each(function(){C.event.trigger(e,t,this)})},triggerHandler:function(e,t){var n=this[0];if(n)return C.event.trigger(e,t,n,!0)}});var ne="abbr|article|aside|audio|bdi|canvas|data|datalist|details|figcaption|figure|footer|header|hgroup|mark|meter|nav|output|progress|section|summary|time|video",ie=/ jQuery\d+="(?:null|\d+)"/g,re=new RegExp("<(?:"+ne+")[\\s/>]","i"),oe=/^\s+/,ae=/<(?!area|br|col|embed|hr|img|input|link|meta|param)(([\w:]+)[^>]*)\/>/gi,se=/<([\w:]+)/,le=/<tbody/i,ce=/<|&#?\w+;/,ue=/<(?:script|style|link)/i,de=/checked\s*(?:[^=]|=\s*.checked.)/i,fe=/^$|\/(?:java|ecma)script/i,he=/^true\/(.*)/,pe=/^\s*<!(?:\[CDATA\[|--)|(?:\]\]|--)>\s*$/g,me={option:[1,"<select multiple='multiple'>","</select>"],legend:[1,"<fieldset>","</fieldset>"],area:[1,"<map>","</map>"],param:[1,"<object>","</object>"],thead:[1,"<table>","</table>"],tr:[2,"<table><tbody>","</tbody></table>"],col:[2,"<table><tbody></tbody><colgroup>","</colgroup></table>"],td:[3,"<table><tbody><tr>","</tr></tbody></table>"],_default:v.htmlSerialize?[0,"",""]:[1,"X<div>","</div>"]},ge=te($).appendChild($.createElement("div"));function ve(e,t){var n,i,r=0,o=typeof e.getElementsByTagName!==O?e.getElementsByTagName(t||"*"):typeof e.querySelectorAll!==O?e.querySelectorAll(t||"*"):void 0;if(!o)for(o=[],n=e.childNodes||e;null!=(i=n[r]);r++)!t||C.nodeName(i,t)?o.push(i):C.merge(o,ve(i,t));return void 0===t||t&&C.nodeName(e,t)?C.merge([e],o):o}function ye(e){Q.test(e.type)&&(e.defaultChecked=e.checked)}function be(e,t){return C.nodeName(e,"table")&&C.nodeName(11!==t.nodeType?t:t.firstChild,"tr")?e.getElementsByTagName("tbody")[0]||e.appendChild(e.ownerDocument.createElement("tbody")):e}function we(e){return e.type=(null!==C.find.attr(e,"type"))+"/"+e.type,e}function xe(e){var t=he.exec(e.type);return t?e.type=t[1]:e.removeAttribute("type"),e}function ke(e,t){for(var n,i=0;null!=(n=e[i]);i++)C._data(n,"globalEval",!t||C._data(t[i],"globalEval"))}function Ce(e,t){if(1===t.nodeType&&C.hasData(e)){var n,i,r,o=C._data(e),a=C._data(t,o),s=o.events;if(s)for(n in delete a.handle,a.events={},s)for(i=0,r=s[n].length;i<r;i++)C.event.add(t,n,s[n][i]);a.data&&(a.data=C.extend({},a.data))}}me.optgroup=me.option,me.tbody=me.tfoot=me.colgroup=me.caption=me.thead,me.th=me.td,C.extend({clone:function(e,t,n){var i,r,o,a,s,l=C.contains(e.ownerDocument,e);if(v.html5Clone||C.isXMLDoc(e)||!re.test("<"+e.nodeName+">")?o=e.cloneNode(!0):(ge.innerHTML=e.outerHTML,ge.removeChild(o=ge.firstChild)),!(v.noCloneEvent&&v.noCloneChecked||1!==e.nodeType&&11!==e.nodeType||C.isXMLDoc(e)))for(i=ve(o),s=ve(e),a=0;null!=(r=s[a]);++a)i[a]&&function(e,t){var n,i,r;if(1===t.nodeType){if(n=t.nodeName.toLowerCase(),!v.noCloneEvent&&t[C.expando]){for(i in(r=C._data(t)).events)C.removeEvent(t,i,r.handle);t.removeAttribute(C.expando)}"script"===n&&t.text!==e.text?(we(t).text=e.text,xe(t)):"object"===n?(t.parentNode&&(t.outerHTML=e.outerHTML),v.html5Clone&&e.innerHTML&&!C.trim(t.innerHTML)&&(t.innerHTML=e.innerHTML)):"input"===n&&Q.test(e.type)?(t.defaultChecked=t.checked=e.checked,t.value!==e.value&&(t.value=e.value)):"option"===n?t.defaultSelected=t.selected=e.defaultSelected:"input"!==n&&"textarea"!==n||(t.defaultValue=e.defaultValue)}}(r,i[a]);if(t)if(n)for(s=s||ve(e),i=i||ve(o),a=0;null!=(r=s[a]);a++)Ce(r,i[a]);else Ce(e,o);return 0<(i=ve(o,"script")).length&&ke(i,!l&&ve(e,"script")),i=s=r=null,o},buildFragment:function(e,t,n,i){for(var r,o,a,s,l,c,u,d=e.length,f=te(t),h=[],p=0;p<d;p++)if((o=e[p])||0===o)if("object"===C.type(o))C.merge(h,o.nodeType?[o]:o);else if(ce.test(o)){for(s=s||f.appendChild(t.createElement("div")),l=(se.exec(o)||["",""])[1].toLowerCase(),u=me[l]||me._default,s.innerHTML=u[1]+o.replace(ae,"<$1></$2>")+u[2],r=u[0];r--;)s=s.lastChild;if(!v.leadingWhitespace&&oe.test(o)&&h.push(t.createTextNode(oe.exec(o)[0])),!v.tbody)for(r=(o="table"!==l||le.test(o)?"<table>"!==u[1]||le.test(o)?0:s:s.firstChild)&&o.childNodes.length;r--;)C.nodeName(c=o.childNodes[r],"tbody")&&!c.childNodes.length&&o.removeChild(c);for(C.merge(h,s.childNodes),s.textContent="";s.firstChild;)s.removeChild(s.firstChild);s=f.lastChild}else h.push(t.createTextNode(o));for(s&&f.removeChild(s),v.appendChecked||C.grep(ve(h,"input"),ye),p=0;o=h[p++];)if((!i||-1===C.inArray(o,i))&&(a=C.contains(o.ownerDocument,o),s=ve(f.appendChild(o),"script"),a&&ke(s),n))for(r=0;o=s[r++];)fe.test(o.type||"")&&n.push(o);return s=null,f},cleanData:function(e,t){for(var n,i,r,o,a=0,s=C.expando,l=C.cache,c=v.deleteExpando,u=C.event.special;null!=(n=e[a]);a++)if((t||C.acceptData(n))&&(o=(r=n[s])&&l[r])){if(o.events)for(i in o.events)u[i]?C.event.remove(n,i):C.removeEvent(n,i,o.handle);l[r]&&(delete l[r],c?delete n[s]:typeof n.removeAttribute!==O?n.removeAttribute(s):n[s]=null,d.push(r))}}}),C.fn.extend({text:function(e){return q(this,function(e){return void 0===e?C.text(this):this.empty().append((this[0]&&this[0].ownerDocument||$).createTextNode(e))},null,e,arguments.length)},append:function(){return this.domManip(arguments,function(e){1!==this.nodeType&&11!==this.nodeType&&9!==this.nodeType||be(this,e).appendChild(e)})},prepend:function(){return this.domManip(arguments,function(e){var t;1!==this.nodeType&&11!==this.nodeType&&9!==this.nodeType||(t=be(this,e)).insertBefore(e,t.firstChild)})},before:function(){return this.domManip(arguments,function(e){this.parentNode&&this.parentNode.insertBefore(e,this)})},after:function(){return this.domManip(arguments,function(e){this.parentNode&&this.parentNode.insertBefore(e,this.nextSibling)})},remove:function(e,t){for(var n,i=e?C.filter(e,this):this,r=0;null!=(n=i[r]);r++)t||1!==n.nodeType||C.cleanData(ve(n)),n.parentNode&&(t&&C.contains(n.ownerDocument,n)&&ke(ve(n,"script")),n.parentNode.removeChild(n));return this},empty:function(){for(var e,t=0;null!=(e=this[t]);t++){for(1===e.nodeType&&C.cleanData(ve(e,!1));e.firstChild;)e.removeChild(e.firstChild);e.options&&C.nodeName(e,"select")&&(e.options.length=0)}return this},clone:function(e,t){return e=null!=e&&e,t=null==t?e:t,this.map(function(){return C.clone(this,e,t)})},html:function(e){return q(this,function(e){var t=this[0]||{},n=0,i=this.length;if(void 0===e)return 1===t.nodeType?t.innerHTML.replace(ie,""):void 0;if("string"==typeof e&&!ue.test(e)&&(v.htmlSerialize||!re.test(e))&&(v.leadingWhitespace||!oe.test(e))&&!me[(se.exec(e)||["",""])[1].toLowerCase()]){e=e.replace(ae,"<$1></$2>");try{for(;n<i;n++)1===(t=this[n]||{}).nodeType&&(C.cleanData(ve(t,!1)),t.innerHTML=e);t=0}catch(e){}}t&&this.empty().append(e)},null,e,arguments.length)},replaceWith:function(){var t=arguments[0];return this.domManip(arguments,function(e){t=this.parentNode,C.cleanData(ve(this)),t&&t.replaceChild(e,this)}),t&&(t.length||t.nodeType)?this:this.remove()},detach:function(e){return this.remove(e,!0)},domManip:function(n,i){n=m.apply([],n);var e,t,r,o,a,s,l=0,c=this.length,u=this,d=c-1,f=n[0],h=C.isFunction(f);if(h||1<c&&"string"==typeof f&&!v.checkClone&&de.test(f))return this.each(function(e){var t=u.eq(e);h&&(n[0]=f.call(this,e,t.html())),t.domManip(n,i)});if(c&&(e=(s=C.buildFragment(n,this[0].ownerDocument,!1,this)).firstChild,1===s.childNodes.length&&(s=e),e)){for(r=(o=C.map(ve(s,"script"),we)).length;l<c;l++)t=s,l!==d&&(t=C.clone(t,!0,!0),r&&C.merge(o,ve(t,"script"))),i.call(this[l],t,l);if(r)for(a=o[o.length-1].ownerDocument,C.map(o,xe),l=0;l<r;l++)t=o[l],fe.test(t.type||"")&&!C._data(t,"globalEval")&&C.contains(a,t)&&(t.src?C._evalUrl&&C._evalUrl(t.src):C.globalEval((t.text||t.textContent||t.innerHTML||"").replace(pe,"")));s=e=null}return this}}),C.each({appendTo:"append",prependTo:"prepend",insertBefore:"before",insertAfter:"after",replaceAll:"replaceWith"},function(e,a){C.fn[e]=function(e){for(var t,n=0,i=[],r=C(e),o=r.length-1;n<=o;n++)t=n===o?this:this.clone(!0),C(r[n])[a](t),s.apply(i,t.get());return this.pushStack(i)}});var $e,Te,Se,_e,Ee={};function je(e,t){var n=C(t.createElement(e)).appendTo(t.body),i=p.getDefaultComputedStyle?p.getDefaultComputedStyle(n[0]).display:C.css(n[0],"display");return n.detach(),i}function Ie(e){var t=$,n=Ee[e];return n||("none"!==(n=je(e,t))&&n||((t=(($e=($e||C("<iframe frameborder='0' width='0' height='0'/>")).appendTo(t.documentElement))[0].contentWindow||$e[0].contentDocument).document).write(),t.close(),n=je(e,t),$e.detach()),Ee[e]=n),n}(_e=$.createElement("div")).innerHTML="  <link/><table></table><a href='/a'>a</a><input type='checkbox'/>",(Te=_e.getElementsByTagName("a")[0]).style.cssText="float:left;opacity:.5",v.opacity=/^0.5/.test(Te.style.opacity),v.cssFloat=!!Te.style.cssFloat,_e.style.backgroundClip="content-box",_e.cloneNode(!0).style.backgroundClip="",v.clearCloneStyle="content-box"===_e.style.backgroundClip,Te=_e=null,v.shrinkWrapBlocks=function(){var e,t,n;if(null==Se){if(!(e=$.getElementsByTagName("body")[0]))return;t=$.createElement("div"),n=$.createElement("div"),e.appendChild(t).appendChild(n),Se=!1,typeof n.style.zoom!==O&&(n.style.cssText="-webkit-box-sizing:content-box;-moz-box-sizing:content-box;box-sizing:content-box;display:block;padding:0;margin:0;border:0;width:1px;padding:1px;zoom:1",n.innerHTML="<div></div>",n.firstChild.style.width="5px",Se=3!==n.offsetWidth),e.removeChild(t),e=n=null}return Se};var Pe,De,Me,Ne,Oe,Ae,Le,Fe,Re,ze,He=/^margin/,We=new RegExp("^("+B+")(?!px)[a-z%]+$","i"),Be=/^(top|right|bottom|left)$/;function Ue(t,n){return{get:function(){var e=t();if(null!=e){if(!e)return(this.get=n).apply(this,arguments);delete this.get}}}}function qe(){var e,t,n=$.getElementsByTagName("body")[0];n&&(e=$.createElement("div"),t=$.createElement("div"),e.style.cssText=ze,n.appendChild(e).appendChild(t),t.style.cssText="-webkit-box-sizing:border-box;-moz-box-sizing:border-box;box-sizing:border-box;position:absolute;display:block;padding:1px;border:1px;width:4px;margin-top:1%;top:1%",C.swap(n,null!=n.style.zoom?{zoom:1}:{},function(){Oe=4===t.offsetWidth}),Fe=!(Le=!(Ae=!0)),p.getComputedStyle&&(Le="1%"!==(p.getComputedStyle(t,null)||{}).top,Ae="4px"===(p.getComputedStyle(t,null)||{width:"4px"}).width),n.removeChild(e),t=n=null)}p.getComputedStyle?(Pe=function(e){return e.ownerDocument.defaultView.getComputedStyle(e,null)},De=function(e,t,n){var i,r,o,a=e.style,s=(n=n||Pe(e))?n.getPropertyValue(t)||n[t]:void 0;return n&&(""!==s||C.contains(e.ownerDocument,e)||(s=C.style(e,t)),We.test(s)&&He.test(t)&&(i=a.width,r=a.minWidth,o=a.maxWidth,a.minWidth=a.maxWidth=a.width=s,s=n.width,a.width=i,a.minWidth=r,a.maxWidth=o)),void 0===s?s:s+""}):$.documentElement.currentStyle&&(Pe=function(e){return e.currentStyle},De=function(e,t,n){var i,r,o,a,s=e.style;return null==(a=(n=n||Pe(e))?n[t]:void 0)&&s&&s[t]&&(a=s[t]),We.test(a)&&!Be.test(t)&&(i=s.left,(o=(r=e.runtimeStyle)&&r.left)&&(r.left=e.currentStyle.left),s.left="fontSize"===t?"1em":a,a=s.pixelLeft+"px",s.left=i,o&&(r.left=o)),void 0===a?a:a+""||"auto"}),Re=$.createElement("div"),ze="border:0;width:0;height:0;position:absolute;top:0;left:-9999px",Re.innerHTML="  <link/><table></table><a href='/a'>a</a><input type='checkbox'/>",(Me=Re.getElementsByTagName("a")[0]).style.cssText="float:left;opacity:.5",v.opacity=/^0.5/.test(Me.style.opacity),v.cssFloat=!!Me.style.cssFloat,Re.style.backgroundClip="content-box",Re.cloneNode(!0).style.backgroundClip="",v.clearCloneStyle="content-box"===Re.style.backgroundClip,Me=Re=null,C.extend(v,{reliableHiddenOffsets:function(){if(null!=Ne)return Ne;var e,t,n,i=$.createElement("div"),r=$.getElementsByTagName("body")[0];return r?(i.setAttribute("className","t"),i.innerHTML="  <link/><table></table><a href='/a'>a</a><input type='checkbox'/>",(e=$.createElement("div")).style.cssText=ze,r.appendChild(e).appendChild(i),i.innerHTML="<table><tr><td></td><td>t</td></tr></table>",(t=i.getElementsByTagName("td"))[0].style.cssText="padding:0;margin:0;border:0;display:none",n=0===t[0].offsetHeight,t[0].style.display="",t[1].style.display="none",Ne=n&&0===t[0].offsetHeight,r.removeChild(e),i=r=null,Ne):void 0},boxSizing:function(){return null==Oe&&qe(),Oe},boxSizingReliable:function(){return null==Ae&&qe(),Ae},pixelPosition:function(){return null==Le&&qe(),Le},reliableMarginRight:function(){var e,t,n,i;if(null==Fe&&p.getComputedStyle){if(!(e=$.getElementsByTagName("body")[0]))return;t=$.createElement("div"),n=$.createElement("div"),t.style.cssText=ze,e.appendChild(t).appendChild(n),(i=n.appendChild($.createElement("div"))).style.cssText=n.style.cssText="-webkit-box-sizing:content-box;-moz-box-sizing:content-box;box-sizing:content-box;display:block;padding:0;margin:0;border:0",i.style.marginRight=i.style.width="0",n.style.width="1px",Fe=!parseFloat((p.getComputedStyle(i,null)||{}).marginRight),e.removeChild(t)}return Fe}}),C.swap=function(e,t,n,i){var r,o,a={};for(o in t)a[o]=e.style[o],e.style[o]=t[o];for(o in r=n.apply(e,i||[]),t)e.style[o]=a[o];return r};var Qe=/alpha\([^)]*\)/i,Ye=/opacity\s*=\s*([^)]*)/,Ve=/^(none|table(?!-c[ea]).+)/,Xe=new RegExp("^("+B+")(.*)$","i"),Ke=new RegExp("^([+-])=("+B+")","i"),Ge={position:"absolute",visibility:"hidden",display:"block"},Je={letterSpacing:0,fontWeight:400},Ze=["Webkit","O","Moz","ms"];function et(e,t){if(t in e)return t;for(var n=t.charAt(0).toUpperCase()+t.slice(1),i=t,r=Ze.length;r--;)if((t=Ze[r]+n)in e)return t;return i}function tt(e,t){for(var n,i,r,o=[],a=0,s=e.length;a<s;a++)(i=e[a]).style&&(o[a]=C._data(i,"olddisplay"),n=i.style.display,t?(o[a]||"none"!==n||(i.style.display=""),""===i.style.display&&W(i)&&(o[a]=C._data(i,"olddisplay",Ie(i.nodeName)))):o[a]||(r=W(i),(n&&"none"!==n||!r)&&C._data(i,"olddisplay",r?n:C.css(i,"display"))));for(a=0;a<s;a++)(i=e[a]).style&&(t&&"none"!==i.style.display&&""!==i.style.display||(i.style.display=t?o[a]||"":"none"));return e}function nt(e,t,n){var i=Xe.exec(t);return i?Math.max(0,i[1]-(n||0))+(i[2]||"px"):t}function it(e,t,n,i,r){for(var o=n===(i?"border":"content")?4:"width"===t?1:0,a=0;o<4;o+=2)"margin"===n&&(a+=C.css(e,n+U[o],!0,r)),i?("content"===n&&(a-=C.css(e,"padding"+U[o],!0,r)),"margin"!==n&&(a-=C.css(e,"border"+U[o]+"Width",!0,r))):(a+=C.css(e,"padding"+U[o],!0,r),"padding"!==n&&(a+=C.css(e,"border"+U[o]+"Width",!0,r)));return a}function rt(e,t,n){var i=!0,r="width"===t?e.offsetWidth:e.offsetHeight,o=Pe(e),a=v.boxSizing()&&"border-box"===C.css(e,"boxSizing",!1,o);if(r<=0||null==r){if(((r=De(e,t,o))<0||null==r)&&(r=e.style[t]),We.test(r))return r;i=a&&(v.boxSizingReliable()||r===e.style[t]),r=parseFloat(r)||0}return r+it(e,t,n||(a?"border":"content"),i,o)+"px"}function ot(e,t,n,i,r){return new ot.prototype.init(e,t,n,i,r)}C.extend({cssHooks:{opacity:{get:function(e,t){if(t){var n=De(e,"opacity");return""===n?"1":n}}}},cssNumber:{columnCount:!0,fillOpacity:!0,fontWeight:!0,lineHeight:!0,opacity:!0,order:!0,orphans:!0,widows:!0,zIndex:!0,zoom:!0},cssProps:{float:v.cssFloat?"cssFloat":"styleFloat"},style:function(e,t,n,i){if(e&&3!==e.nodeType&&8!==e.nodeType&&e.style){var r,o,a,s=C.camelCase(t),l=e.style;if(t=C.cssProps[s]||(C.cssProps[s]=et(l,s)),a=C.cssHooks[t]||C.cssHooks[s],void 0===n)return a&&"get"in a&&void 0!==(r=a.get(e,!1,i))?r:l[t];if("string"===(o=typeof n)&&(r=Ke.exec(n))&&(n=(r[1]+1)*r[2]+parseFloat(C.css(e,t)),o="number"),null!=n&&n==n&&("number"!==o||C.cssNumber[s]||(n+="px"),v.clearCloneStyle||""!==n||0!==t.indexOf("background")||(l[t]="inherit"),!(a&&"set"in a&&void 0===(n=a.set(e,n,i)))))try{l[t]="",l[t]=n}catch(e){}}},css:function(e,t,n,i){var r,o,a,s=C.camelCase(t);return t=C.cssProps[s]||(C.cssProps[s]=et(e.style,s)),(a=C.cssHooks[t]||C.cssHooks[s])&&"get"in a&&(o=a.get(e,!0,n)),void 0===o&&(o=De(e,t,i)),"normal"===o&&t in Je&&(o=Je[t]),""===n||n?(r=parseFloat(o),!0===n||C.isNumeric(r)?r||0:o):o}}),C.each(["height","width"],function(e,r){C.cssHooks[r]={get:function(e,t,n){if(t)return 0===e.offsetWidth&&Ve.test(C.css(e,"display"))?C.swap(e,Ge,function(){return rt(e,r,n)}):rt(e,r,n)},set:function(e,t,n){var i=n&&Pe(e);return nt(0,t,n?it(e,r,n,v.boxSizing()&&"border-box"===C.css(e,"boxSizing",!1,i),i):0)}}}),v.opacity||(C.cssHooks.opacity={get:function(e,t){return Ye.test((t&&e.currentStyle?e.currentStyle.filter:e.style.filter)||"")?.01*parseFloat(RegExp.$1)+"":t?"1":""},set:function(e,t){var n=e.style,i=e.currentStyle,r=C.isNumeric(t)?"alpha(opacity="+100*t+")":"",o=i&&i.filter||n.filter||"";((n.zoom=1)<=t||""===t)&&""===C.trim(o.replace(Qe,""))&&n.removeAttribute&&(n.removeAttribute("filter"),""===t||i&&!i.filter)||(n.filter=Qe.test(o)?o.replace(Qe,r):o+" "+r)}}),C.cssHooks.marginRight=Ue(v.reliableMarginRight,function(e,t){if(t)return C.swap(e,{display:"inline-block"},De,[e,"marginRight"])}),C.each({margin:"",padding:"",border:"Width"},function(r,o){C.cssHooks[r+o]={expand:function(e){for(var t=0,n={},i="string"==typeof e?e.split(" "):[e];t<4;t++)n[r+U[t]+o]=i[t]||i[t-2]||i[0];return n}},He.test(r)||(C.cssHooks[r+o].set=nt)}),C.fn.extend({css:function(e,t){return q(this,function(e,t,n){var i,r,o={},a=0;if(C.isArray(t)){for(i=Pe(e),r=t.length;a<r;a++)o[t[a]]=C.css(e,t[a],!1,i);return o}return void 0!==n?C.style(e,t,n):C.css(e,t)},e,t,1<arguments.length)},show:function(){return tt(this,!0)},hide:function(){return tt(this)},toggle:function(e){return"boolean"==typeof e?e?this.show():this.hide():this.each(function(){W(this)?C(this).show():C(this).hide()})}}),(C.Tween=ot).prototype={constructor:ot,init:function(e,t,n,i,r,o){this.elem=e,this.prop=n,this.easing=r||"swing",this.options=t,this.start=this.now=this.cur(),this.end=i,this.unit=o||(C.cssNumber[n]?"":"px")},cur:function(){var e=ot.propHooks[this.prop];return e&&e.get?e.get(this):ot.propHooks._default.get(this)},run:function(e){var t,n=ot.propHooks[this.prop];return this.options.duration?this.pos=t=C.easing[this.easing](e,this.options.duration*e,0,1,this.options.duration):this.pos=t=e,this.now=(this.end-this.start)*t+this.start,this.options.step&&this.options.step.call(this.elem,this.now,this),n&&n.set?n.set(this):ot.propHooks._default.set(this),this}},ot.prototype.init.prototype=ot.prototype,ot.propHooks={_default:{get:function(e){var t;return null==e.elem[e.prop]||e.elem.style&&null!=e.elem.style[e.prop]?(t=C.css(e.elem,e.prop,""))&&"auto"!==t?t:0:e.elem[e.prop]},set:function(e){C.fx.step[e.prop]?C.fx.step[e.prop](e):e.elem.style&&(null!=e.elem.style[C.cssProps[e.prop]]||C.cssHooks[e.prop])?C.style(e.elem,e.prop,e.now+e.unit):e.elem[e.prop]=e.now}}},ot.propHooks.scrollTop=ot.propHooks.scrollLeft={set:function(e){e.elem.nodeType&&e.elem.parentNode&&(e.elem[e.prop]=e.now)}},C.easing={linear:function(e){return e},swing:function(e){return.5-Math.cos(e*Math.PI)/2}},C.fx=ot.prototype.init,C.fx.step={};var at,st,lt,ct,ut,dt,ft,ht=/^(?:toggle|show|hide)$/,pt=new RegExp("^(?:([+-])=|)("+B+")([a-z%]*)$","i"),mt=/queueHooks$/,gt=[function(t,e,n){var i,r,o,a,s,l,c,u,d=this,f={},h=t.style,p=t.nodeType&&W(t),m=C._data(t,"fxshow");n.queue||(null==(s=C._queueHooks(t,"fx")).unqueued&&(s.unqueued=0,l=s.empty.fire,s.empty.fire=function(){s.unqueued||l()}),s.unqueued++,d.always(function(){d.always(function(){s.unqueued--,C.queue(t,"fx").length||s.empty.fire()})}));1===t.nodeType&&("height"in e||"width"in e)&&(n.overflow=[h.overflow,h.overflowX,h.overflowY],c=C.css(t,"display"),u=Ie(t.nodeName),"none"===c&&(c=u),"inline"===c&&"none"===C.css(t,"float")&&(v.inlineBlockNeedsLayout&&"inline"!==u?h.zoom=1:h.display="inline-block"));n.overflow&&(h.overflow="hidden",v.shrinkWrapBlocks()||d.always(function(){h.overflow=n.overflow[0],h.overflowX=n.overflow[1],h.overflowY=n.overflow[2]}));for(i in e)if(r=e[i],ht.exec(r)){if(delete e[i],o=o||"toggle"===r,r===(p?"hide":"show")){if("show"!==r||!m||void 0===m[i])continue;p=!0}f[i]=m&&m[i]||C.style(t,i)}if(!C.isEmptyObject(f))for(i in m?"hidden"in m&&(p=m.hidden):m=C._data(t,"fxshow",{}),o&&(m.hidden=!p),p?C(t).show():d.done(function(){C(t).hide()}),d.done(function(){for(var e in C._removeData(t,"fxshow"),f)C.style(t,e,f[e])}),f)a=wt(p?m[i]:0,i,d),i in m||(m[i]=a.start,p&&(a.end=a.start,a.start="width"===i||"height"===i?1:0))}],vt={"*":[function(e,t){var n=this.createTween(e,t),i=n.cur(),r=pt.exec(t),o=r&&r[3]||(C.cssNumber[e]?"":"px"),a=(C.cssNumber[e]||"px"!==o&&+i)&&pt.exec(C.css(n.elem,e)),s=1,l=20;if(a&&a[3]!==o)for(o=o||a[3],r=r||[],a=+i||1;a/=s=s||".5",C.style(n.elem,e,a+o),s!==(s=n.cur()/i)&&1!==s&&--l;);return r&&(a=n.start=+a||+i||0,n.unit=o,n.end=r[1]?a+(r[1]+1)*r[2]:+r[2]),n}]};function yt(){return setTimeout(function(){at=void 0}),at=C.now()}function bt(e,t){var n,i={height:e},r=0;for(t=t?1:0;r<4;r+=2-t)i["margin"+(n=U[r])]=i["padding"+n]=e;return t&&(i.opacity=i.width=e),i}function wt(e,t,n){for(var i,r=(vt[t]||[]).concat(vt["*"]),o=0,a=r.length;o<a;o++)if(i=r[o].call(n,t,e))return i}function xt(o,e,t){var n,a,i=0,r=gt.length,s=C.Deferred().always(function(){delete l.elem}),l=function(){if(a)return!1;for(var e=at||yt(),t=Math.max(0,c.startTime+c.duration-e),n=1-(t/c.duration||0),i=0,r=c.tweens.length;i<r;i++)c.tweens[i].run(n);return s.notifyWith(o,[c,n,t]),n<1&&r?t:(s.resolveWith(o,[c]),!1)},c=s.promise({elem:o,props:C.extend({},e),opts:C.extend(!0,{specialEasing:{}},t),originalProperties:e,originalOptions:t,startTime:at||yt(),duration:t.duration,tweens:[],createTween:function(e,t){var n=C.Tween(o,c.opts,e,t,c.opts.specialEasing[e]||c.opts.easing);return c.tweens.push(n),n},stop:function(e){var t=0,n=e?c.tweens.length:0;if(a)return this;for(a=!0;t<n;t++)c.tweens[t].run(1);return e?s.resolveWith(o,[c,e]):s.rejectWith(o,[c,e]),this}}),u=c.props;for(!function(e,t){var n,i,r,o,a;for(n in e)if(r=t[i=C.camelCase(n)],o=e[n],C.isArray(o)&&(r=o[1],o=e[n]=o[0]),n!==i&&(e[i]=o,delete e[n]),(a=C.cssHooks[i])&&"expand"in a)for(n in o=a.expand(o),delete e[i],o)n in e||(e[n]=o[n],t[n]=r);else t[i]=r}(u,c.opts.specialEasing);i<r;i++)if(n=gt[i].call(c,o,u,c.opts))return n;return C.map(u,wt,c),C.isFunction(c.opts.start)&&c.opts.start.call(o,c),C.fx.timer(C.extend(l,{elem:o,anim:c,queue:c.opts.queue})),c.progress(c.opts.progress).done(c.opts.done,c.opts.complete).fail(c.opts.fail).always(c.opts.always)}C.Animation=C.extend(xt,{tweener:function(e,t){for(var n,i=0,r=(e=C.isFunction(e)?(t=e,["*"]):e.split(" ")).length;i<r;i++)n=e[i],vt[n]=vt[n]||[],vt[n].unshift(t)},prefilter:function(e,t){t?gt.unshift(e):gt.push(e)}}),C.speed=function(e,t,n){var i=e&&"object"==typeof e?C.extend({},e):{complete:n||!n&&t||C.isFunction(e)&&e,duration:e,easing:n&&t||t&&!C.isFunction(t)&&t};return i.duration=C.fx.off?0:"number"==typeof i.duration?i.duration:i.duration in C.fx.speeds?C.fx.speeds[i.duration]:C.fx.speeds._default,null!=i.queue&&!0!==i.queue||(i.queue="fx"),i.old=i.complete,i.complete=function(){C.isFunction(i.old)&&i.old.call(this),i.queue&&C.dequeue(this,i.queue)},i},C.fn.extend({fadeTo:function(e,t,n,i){return this.filter(W).css("opacity",0).show().end().animate({opacity:t},e,n,i)},animate:function(t,e,n,i){function r(){var e=xt(this,C.extend({},t),a);(o||C._data(this,"finish"))&&e.stop(!0)}var o=C.isEmptyObject(t),a=C.speed(e,n,i);return r.finish=r,o||!1===a.queue?this.each(r):this.queue(a.queue,r)},stop:function(r,e,o){function a(e){var t=e.stop;delete e.stop,t(o)}return"string"!=typeof r&&(o=e,e=r,r=void 0),e&&!1!==r&&this.queue(r||"fx",[]),this.each(function(){var e=!0,t=null!=r&&r+"queueHooks",n=C.timers,i=C._data(this);if(t)i[t]&&i[t].stop&&a(i[t]);else for(t in i)i[t]&&i[t].stop&&mt.test(t)&&a(i[t]);for(t=n.length;t--;)n[t].elem!==this||null!=r&&n[t].queue!==r||(n[t].anim.stop(o),e=!1,n.splice(t,1));!e&&o||C.dequeue(this,r)})},finish:function(a){return!1!==a&&(a=a||"fx"),this.each(function(){var e,t=C._data(this),n=t[a+"queue"],i=t[a+"queueHooks"],r=C.timers,o=n?n.length:0;for(t.finish=!0,C.queue(this,a,[]),i&&i.stop&&i.stop.call(this,!0),e=r.length;e--;)r[e].elem===this&&r[e].queue===a&&(r[e].anim.stop(!0),r.splice(e,1));for(e=0;e<o;e++)n[e]&&n[e].finish&&n[e].finish.call(this);delete t.finish})}}),C.each(["toggle","show","hide"],function(e,i){var r=C.fn[i];C.fn[i]=function(e,t,n){return null==e||"boolean"==typeof e?r.apply(this,arguments):this.animate(bt(i,!0),e,t,n)}}),C.each({slideDown:bt("show"),slideUp:bt("hide"),slideToggle:bt("toggle"),fadeIn:{opacity:"show"},fadeOut:{opacity:"hide"},fadeToggle:{opacity:"toggle"}},function(e,i){C.fn[e]=function(e,t,n){return this.animate(i,e,t,n)}}),C.timers=[],C.fx.tick=function(){var e,t=C.timers,n=0;for(at=C.now();n<t.length;n++)(e=t[n])()||t[n]!==e||t.splice(n--,1);t.length||C.fx.stop(),at=void 0},C.fx.timer=function(e){C.timers.push(e),e()?C.fx.start():C.timers.pop()},C.fx.interval=13,C.fx.start=function(){st=st||setInterval(C.fx.tick,C.fx.interval)},C.fx.stop=function(){clearInterval(st),st=null},C.fx.speeds={slow:600,fast:200,_default:400},C.fn.delay=function(i,e){return i=C.fx&&C.fx.speeds[i]||i,e=e||"fx",this.queue(e,function(e,t){var n=setTimeout(e,i);t.stop=function(){clearTimeout(n)}})},(ft=$.createElement("div")).setAttribute("className","t"),ft.innerHTML="  <link/><table></table><a href='/a'>a</a><input type='checkbox'/>",lt=ft.getElementsByTagName("a")[0],dt=(ut=$.createElement("select")).appendChild($.createElement("option")),ct=ft.getElementsByTagName("input")[0],lt.style.cssText="top:1px",v.getSetAttribute="t"!==ft.className,v.style=/top/.test(lt.getAttribute("style")),v.hrefNormalized="/a"===lt.getAttribute("href"),v.checkOn=!!ct.value,v.optSelected=dt.selected,v.enctype=!!$.createElement("form").enctype,ut.disabled=!0,v.optDisabled=!dt.disabled,(ct=$.createElement("input")).setAttribute("value",""),v.input=""===ct.getAttribute("value"),ct.value="t",ct.setAttribute("type","radio"),v.radioValue="t"===ct.value,lt=ct=ut=ft=null;var kt=/\r/g;C.fn.extend({val:function(n){var i,e,r,t=this[0];return arguments.length?(r=C.isFunction(n),this.each(function(e){var t;1===this.nodeType&&(null==(t=r?n.call(this,e,C(this).val()):n)?t="":"number"==typeof t?t+="":C.isArray(t)&&(t=C.map(t,function(e){return null==e?"":e+""})),(i=C.valHooks[this.type]||C.valHooks[this.nodeName.toLowerCase()])&&"set"in i&&void 0!==i.set(this,t,"value")||(this.value=t))})):t?(i=C.valHooks[t.type]||C.valHooks[t.nodeName.toLowerCase()])&&"get"in i&&void 0!==(e=i.get(t,"value"))?e:"string"==typeof(e=t.value)?e.replace(kt,""):null==e?"":e:void 0}}),C.extend({valHooks:{option:{get:function(e){var t=C.find.attr(e,"value");return null!=t?t:C.text(e)}},select:{get:function(e){for(var t,n,i=e.options,r=e.selectedIndex,o="select-one"===e.type||r<0,a=o?null:[],s=o?r+1:i.length,l=r<0?s:o?r:0;l<s;l++)if(((n=i[l]).selected||l===r)&&(v.optDisabled?!n.disabled:null===n.getAttribute("disabled"))&&(!n.parentNode.disabled||!C.nodeName(n.parentNode,"optgroup"))){if(t=C(n).val(),o)return t;a.push(t)}return a},set:function(e,t){for(var n,i,r=e.options,o=C.makeArray(t),a=r.length;a--;)if(i=r[a],0<=C.inArray(C.valHooks.option.get(i),o))try{i.selected=n=!0}catch(e){i.scrollHeight}else i.selected=!1;return n||(e.selectedIndex=-1),r}}}}),C.each(["radio","checkbox"],function(){C.valHooks[this]={set:function(e,t){if(C.isArray(t))return e.checked=0<=C.inArray(C(e).val(),t)}},v.checkOn||(C.valHooks[this].get=function(e){return null===e.getAttribute("value")?"on":e.value})});var Ct,$t,Tt=C.expr.attrHandle,St=/^(?:checked|selected)$/i,_t=v.getSetAttribute,Et=v.input;C.fn.extend({attr:function(e,t){return q(this,C.attr,e,t,1<arguments.length)},removeAttr:function(e){return this.each(function(){C.removeAttr(this,e)})}}),C.extend({attr:function(e,t,n){var i,r,o=e.nodeType;if(e&&3!==o&&8!==o&&2!==o)return typeof e.getAttribute===O?C.prop(e,t,n):(1===o&&C.isXMLDoc(e)||(t=t.toLowerCase(),i=C.attrHooks[t]||(C.expr.match.bool.test(t)?$t:Ct)),void 0===n?!(i&&"get"in i&&null!==(r=i.get(e,t)))&&null==(r=C.find.attr(e,t))?void 0:r:null!==n?i&&"set"in i&&void 0!==(r=i.set(e,n,t))?r:(e.setAttribute(t,n+""),n):void C.removeAttr(e,t))},removeAttr:function(e,t){var n,i,r=0,o=t&&t.match(I);if(o&&1===e.nodeType)for(;n=o[r++];)i=C.propFix[n]||n,C.expr.match.bool.test(n)?Et&&_t||!St.test(n)?e[i]=!1:e[C.camelCase("default-"+n)]=e[i]=!1:C.attr(e,n,""),e.removeAttribute(_t?n:i)},attrHooks:{type:{set:function(e,t){if(!v.radioValue&&"radio"===t&&C.nodeName(e,"input")){var n=e.value;return e.setAttribute("type",t),n&&(e.value=n),t}}}}}),$t={set:function(e,t,n){return!1===t?C.removeAttr(e,n):Et&&_t||!St.test(n)?e.setAttribute(!_t&&C.propFix[n]||n,n):e[C.camelCase("default-"+n)]=e[n]=!0,n}},C.each(C.expr.match.bool.source.match(/\w+/g),function(e,t){var o=Tt[t]||C.find.attr;Tt[t]=Et&&_t||!St.test(t)?function(e,t,n){var i,r;return n||(r=Tt[t],Tt[t]=i,i=null!=o(e,t,n)?t.toLowerCase():null,Tt[t]=r),i}:function(e,t,n){if(!n)return e[C.camelCase("default-"+t)]?t.toLowerCase():null}}),Et&&_t||(C.attrHooks.value={set:function(e,t,n){if(!C.nodeName(e,"input"))return Ct&&Ct.set(e,t,n);e.defaultValue=t}}),_t||(Ct={set:function(e,t,n){var i=e.getAttributeNode(n);if(i||e.setAttributeNode(i=e.ownerDocument.createAttribute(n)),i.value=t+="","value"===n||t===e.getAttribute(n))return t}},Tt.id=Tt.name=Tt.coords=function(e,t,n){var i;if(!n)return(i=e.getAttributeNode(t))&&""!==i.value?i.value:null},C.valHooks.button={get:function(e,t){var n=e.getAttributeNode(t);if(n&&n.specified)return n.value},set:Ct.set},C.attrHooks.contenteditable={set:function(e,t,n){Ct.set(e,""!==t&&t,n)}},C.each(["width","height"],function(e,n){C.attrHooks[n]={set:function(e,t){if(""===t)return e.setAttribute(n,"auto"),t}}})),v.style||(C.attrHooks.style={get:function(e){return e.style.cssText||void 0},set:function(e,t){return e.style.cssText=t+""}});var jt=/^(?:input|select|textarea|button|object)$/i,It=/^(?:a|area)$/i;C.fn.extend({prop:function(e,t){return q(this,C.prop,e,t,1<arguments.length)},removeProp:function(e){return e=C.propFix[e]||e,this.each(function(){try{this[e]=void 0,delete this[e]}catch(e){}})}}),C.extend({propFix:{for:"htmlFor",class:"className"},prop:function(e,t,n){var i,r,o=e.nodeType;if(e&&3!==o&&8!==o&&2!==o)return(1!==o||!C.isXMLDoc(e))&&(t=C.propFix[t]||t,r=C.propHooks[t]),void 0!==n?r&&"set"in r&&void 0!==(i=r.set(e,n,t))?i:e[t]=n:r&&"get"in r&&null!==(i=r.get(e,t))?i:e[t]},propHooks:{tabIndex:{get:function(e){var t=C.find.attr(e,"tabindex");return t?parseInt(t,10):jt.test(e.nodeName)||It.test(e.nodeName)&&e.href?0:-1}}}}),v.hrefNormalized||C.each(["href","src"],function(e,t){C.propHooks[t]={get:function(e){return e.getAttribute(t,4)}}}),v.optSelected||(C.propHooks.selected={get:function(e){var t=e.parentNode;return t&&(t.selectedIndex,t.parentNode&&t.parentNode.selectedIndex),null}}),C.each(["tabIndex","readOnly","maxLength","cellSpacing","cellPadding","rowSpan","colSpan","useMap","frameBorder","contentEditable"],function(){C.propFix[this.toLowerCase()]=this}),v.enctype||(C.propFix.enctype="encoding");var Pt=/[\t\r\n\f]/g;C.fn.extend({addClass:function(t){var e,n,i,r,o,a,s=0,l=this.length,c="string"==typeof t&&t;if(C.isFunction(t))return this.each(function(e){C(this).addClass(t.call(this,e,this.className))});if(c)for(e=(t||"").match(I)||[];s<l;s++)if(i=1===(n=this[s]).nodeType&&(n.className?(" "+n.className+" ").replace(Pt," "):" ")){for(o=0;r=e[o++];)i.indexOf(" "+r+" ")<0&&(i+=r+" ");a=C.trim(i),n.className!==a&&(n.className=a)}return this},removeClass:function(t){var e,n,i,r,o,a,s=0,l=this.length,c=0===arguments.length||"string"==typeof t&&t;if(C.isFunction(t))return this.each(function(e){C(this).removeClass(t.call(this,e,this.className))});if(c)for(e=(t||"").match(I)||[];s<l;s++)if(i=1===(n=this[s]).nodeType&&(n.className?(" "+n.className+" ").replace(Pt," "):"")){for(o=0;r=e[o++];)for(;0<=i.indexOf(" "+r+" ");)i=i.replace(" "+r+" "," ");a=t?C.trim(i):"",n.className!==a&&(n.className=a)}return this},toggleClass:function(r,t){var o=typeof r;return"boolean"==typeof t&&"string"==o?t?this.addClass(r):this.removeClass(r):C.isFunction(r)?this.each(function(e){C(this).toggleClass(r.call(this,e,this.className,t),t)}):this.each(function(){if("string"==o)for(var e,t=0,n=C(this),i=r.match(I)||[];e=i[t++];)n.hasClass(e)?n.removeClass(e):n.addClass(e);else o!==O&&"boolean"!=o||(this.className&&C._data(this,"__className__",this.className),this.className=!this.className&&!1!==r&&C._data(this,"__className__")||"")})},hasClass:function(e){for(var t=" "+e+" ",n=0,i=this.length;n<i;n++)if(1===this[n].nodeType&&0<=(" "+this[n].className+" ").replace(Pt," ").indexOf(t))return!0;return!1}}),C.each("blur focus focusin focusout load resize scroll unload click dblclick mousedown mouseup mousemove mouseover mouseout mouseenter mouseleave change select submit keydown keypress keyup error contextmenu".split(" "),function(e,n){C.fn[n]=function(e,t){return 0<arguments.length?this.on(n,null,e,t):this.trigger(n)}}),C.fn.extend({hover:function(e,t){return this.mouseenter(e).mouseleave(t||e)},bind:function(e,t,n){return this.on(e,null,t,n)},unbind:function(e,t){return this.off(e,null,t)},delegate:function(e,t,n,i){return this.on(t,e,n,i)},undelegate:function(e,t,n){return 1===arguments.length?this.off(e,"**"):this.off(t,e||"**",n)}});var Dt=C.now(),Mt=/\?/,Nt=/(,)|(\[|{)|(}|])|"(?:[^"\\\r\n]|\\["\\\/bfnrt]|\\u[\da-fA-F]{4})*"\s*:?|true|false|null|-?(?!0\d)\d+(?:\.\d+|)(?:[eE][+-]?\d+|)/g;C.parseJSON=function(e){if(p.JSON&&p.JSON.parse)return p.JSON.parse(e+"");var r,o=null,t=C.trim(e+"");return t&&!C.trim(t.replace(Nt,function(e,t,n,i){return r&&t&&(o=0),0===o?e:(r=n||t,o+=!i-!n,"")}))?Function("return "+t)():C.error("Invalid JSON: "+e)},C.parseXML=function(e){var t;if(!e||"string"!=typeof e)return null;try{p.DOMParser?t=(new DOMParser).parseFromString(e,"text/xml"):((t=new ActiveXObject("Microsoft.XMLDOM")).async="false",t.loadXML(e))}catch(e){t=void 0}return t&&t.documentElement&&!t.getElementsByTagName("parsererror").length||C.error("Invalid XML: "+e),t};var Ot,At,Lt=/#.*$/,Ft=/([?&])_=[^&]*/,Rt=/^(.*?):[ \t]*([^\r\n]*)\r?$/gm,zt=/^(?:GET|HEAD)$/,Ht=/^\/\//,Wt=/^([\w.+-]+:)(?:\/\/(?:[^\/?#]*@|)([^\/?#:]*)(?::(\d+)|)|)/,Bt={},Ut={},qt="*/".concat("*");try{At=location.href}catch(e){(At=$.createElement("a")).href="",At=At.href}function Qt(o){return function(e,t){"string"!=typeof e&&(t=e,e="*");var n,i=0,r=e.toLowerCase().match(I)||[];if(C.isFunction(t))for(;n=r[i++];)"+"===n.charAt(0)?(n=n.slice(1)||"*",(o[n]=o[n]||[]).unshift(t)):(o[n]=o[n]||[]).push(t)}}function Yt(t,r,o,a){var s={},l=t===Ut;function c(e){var i;return s[e]=!0,C.each(t[e]||[],function(e,t){var n=t(r,o,a);return"string"!=typeof n||l||s[n]?l?!(i=n):void 0:(r.dataTypes.unshift(n),c(n),!1)}),i}return c(r.dataTypes[0])||!s["*"]&&c("*")}function Vt(e,t){var n,i,r=C.ajaxSettings.flatOptions||{};for(i in t)void 0!==t[i]&&((r[i]?e:n=n||{})[i]=t[i]);return n&&C.extend(!0,e,n),e}Ot=Wt.exec(At.toLowerCase())||[],C.extend({active:0,lastModified:{},etag:{},ajaxSettings:{url:At,type:"GET",isLocal:/^(?:about|app|app-storage|.+-extension|file|res|widget):$/.test(Ot[1]),global:!0,processData:!0,async:!0,contentType:"application/x-www-form-urlencoded; charset=UTF-8",accepts:{"*":qt,text:"text/plain",html:"text/html",xml:"application/xml, text/xml",json:"application/json, text/javascript"},contents:{xml:/xml/,html:/html/,json:/json/},responseFields:{xml:"responseXML",text:"responseText",json:"responseJSON"},converters:{"* text":String,"text html":!0,"text json":C.parseJSON,"text xml":C.parseXML},flatOptions:{url:!0,context:!0}},ajaxSetup:function(e,t){return t?Vt(Vt(e,C.ajaxSettings),t):Vt(C.ajaxSettings,e)},ajaxPrefilter:Qt(Bt),ajaxTransport:Qt(Ut),ajax:function(e,t){"object"==typeof e&&(t=e,e=void 0),t=t||{};var n,i,u,d,f,h,p,r,m=C.ajaxSetup({},t),g=m.context||m,v=m.context&&(g.nodeType||g.jquery)?C(g):C.event,y=C.Deferred(),b=C.Callbacks("once memory"),w=m.statusCode||{},o={},a={},x=0,s="canceled",k={readyState:0,getResponseHeader:function(e){var t;if(2===x){if(!r)for(r={};t=Rt.exec(d);)r[t[1].toLowerCase()]=t[2];t=r[e.toLowerCase()]}return null==t?null:t},getAllResponseHeaders:function(){return 2===x?d:null},setRequestHeader:function(e,t){var n=e.toLowerCase();return x||(e=a[n]=a[n]||e,o[e]=t),this},overrideMimeType:function(e){return x||(m.mimeType=e),this},statusCode:function(e){if(e)if(x<2)for(var t in e)w[t]=[w[t],e[t]];else k.always(e[k.status]);return this},abort:function(e){var t=e||s;return p&&p.abort(t),l(0,t),this}};if(y.promise(k).complete=b.add,k.success=k.done,k.error=k.fail,m.url=((e||m.url||At)+"").replace(Lt,"").replace(Ht,Ot[1]+"//"),m.type=t.method||t.type||m.method||m.type,m.dataTypes=C.trim(m.dataType||"*").toLowerCase().match(I)||[""],null==m.crossDomain&&(n=Wt.exec(m.url.toLowerCase()),m.crossDomain=!(!n||n[1]===Ot[1]&&n[2]===Ot[2]&&(n[3]||("http:"===n[1]?"80":"443"))===(Ot[3]||("http:"===Ot[1]?"80":"443")))),m.data&&m.processData&&"string"!=typeof m.data&&(m.data=C.param(m.data,m.traditional)),Yt(Bt,m,t,k),2===x)return k;for(i in(h=m.global)&&0==C.active++&&C.event.trigger("ajaxStart"),m.type=m.type.toUpperCase(),m.hasContent=!zt.test(m.type),u=m.url,m.hasContent||(m.data&&(u=m.url+=(Mt.test(u)?"&":"?")+m.data,delete m.data),!1===m.cache&&(m.url=Ft.test(u)?u.replace(Ft,"$1_="+Dt++):u+(Mt.test(u)?"&":"?")+"_="+Dt++)),m.ifModified&&(C.lastModified[u]&&k.setRequestHeader("If-Modified-Since",C.lastModified[u]),C.etag[u]&&k.setRequestHeader("If-None-Match",C.etag[u])),(m.data&&m.hasContent&&!1!==m.contentType||t.contentType)&&k.setRequestHeader("Content-Type",m.contentType),k.setRequestHeader("Accept",m.dataTypes[0]&&m.accepts[m.dataTypes[0]]?m.accepts[m.dataTypes[0]]+("*"!==m.dataTypes[0]?", "+qt+"; q=0.01":""):m.accepts["*"]),m.headers)k.setRequestHeader(i,m.headers[i]);if(m.beforeSend&&(!1===m.beforeSend.call(g,k,m)||2===x))return k.abort();for(i in s="abort",{success:1,error:1,complete:1})k[i](m[i]);if(p=Yt(Ut,m,t,k)){k.readyState=1,h&&v.trigger("ajaxSend",[k,m]),m.async&&0<m.timeout&&(f=setTimeout(function(){k.abort("timeout")},m.timeout));try{x=1,p.send(o,l)}catch(e){if(!(x<2))throw e;l(-1,e)}}else l(-1,"No Transport");function l(e,t,n,i){var r,o,a,s,l,c=t;2!==x&&(x=2,f&&clearTimeout(f),p=void 0,d=i||"",k.readyState=0<e?4:0,r=200<=e&&e<300||304===e,n&&(s=function(e,t,n){for(var i,r,o,a,s=e.contents,l=e.dataTypes;"*"===l[0];)l.shift(),void 0===r&&(r=e.mimeType||t.getResponseHeader("Content-Type"));if(r)for(a in s)if(s[a]&&s[a].test(r)){l.unshift(a);break}if(l[0]in n)o=l[0];else{for(a in n){if(!l[0]||e.converters[a+" "+l[0]]){o=a;break}i=i||a}o=o||i}if(o)return o!==l[0]&&l.unshift(o),n[o]}(m,k,n)),s=function(e,t,n,i){var r,o,a,s,l,c={},u=e.dataTypes.slice();if(u[1])for(a in e.converters)c[a.toLowerCase()]=e.converters[a];for(o=u.shift();o;)if(e.responseFields[o]&&(n[e.responseFields[o]]=t),!l&&i&&e.dataFilter&&(t=e.dataFilter(t,e.dataType)),l=o,o=u.shift())if("*"===o)o=l;else if("*"!==l&&l!==o){if(!(a=c[l+" "+o]||c["* "+o]))for(r in c)if((s=r.split(" "))[1]===o&&(a=c[l+" "+s[0]]||c["* "+s[0]])){!0===a?a=c[r]:!0!==c[r]&&(o=s[0],u.unshift(s[1]));break}if(!0!==a)if(a&&e.throws)t=a(t);else try{t=a(t)}catch(e){return{state:"parsererror",error:a?e:"No conversion from "+l+" to "+o}}}return{state:"success",data:t}}(m,s,k,r),r?(m.ifModified&&((l=k.getResponseHeader("Last-Modified"))&&(C.lastModified[u]=l),(l=k.getResponseHeader("etag"))&&(C.etag[u]=l)),204===e||"HEAD"===m.type?c="nocontent":304===e?c="notmodified":(c=s.state,o=s.data,r=!(a=s.error))):(a=c,!e&&c||(c="error",e<0&&(e=0))),k.status=e,k.statusText=(t||c)+"",r?y.resolveWith(g,[o,c,k]):y.rejectWith(g,[k,c,a]),k.statusCode(w),w=void 0,h&&v.trigger(r?"ajaxSuccess":"ajaxError",[k,m,r?o:a]),b.fireWith(g,[k,c]),h&&(v.trigger("ajaxComplete",[k,m]),--C.active||C.event.trigger("ajaxStop")))}return k},getJSON:function(e,t,n){return C.get(e,t,n,"json")},getScript:function(e,t){return C.get(e,void 0,t,"script")}}),C.each(["get","post"],function(e,r){C[r]=function(e,t,n,i){return C.isFunction(t)&&(i=i||n,n=t,t=void 0),C.ajax({url:e,type:r,dataType:i,data:t,success:n})}}),C.each(["ajaxStart","ajaxStop","ajaxComplete","ajaxError","ajaxSuccess","ajaxSend"],function(e,t){C.fn[t]=function(e){return this.on(t,e)}}),C._evalUrl=function(e){return C.ajax({url:e,type:"GET",dataType:"script",async:!1,global:!1,throws:!0})},C.fn.extend({wrapAll:function(t){return C.isFunction(t)?this.each(function(e){C(this).wrapAll(t.call(this,e))}):(this[0]&&(e=C(t,this[0].ownerDocument).eq(0).clone(!0),this[0].parentNode&&e.insertBefore(this[0]),e.map(function(){for(var e=this;e.firstChild&&1===e.firstChild.nodeType;)e=e.firstChild;return e}).append(this)),this);var e},wrapInner:function(n){return C.isFunction(n)?this.each(function(e){C(this).wrapInner(n.call(this,e))}):this.each(function(){var e=C(this),t=e.contents();t.length?t.wrapAll(n):e.append(n)})},wrap:function(t){var n=C.isFunction(t);return this.each(function(e){C(this).wrapAll(n?t.call(this,e):t)})},unwrap:function(){return this.parent().each(function(){C.nodeName(this,"body")||C(this).replaceWith(this.childNodes)}).end()}}),C.expr.filters.hidden=function(e){return e.offsetWidth<=0&&e.offsetHeight<=0||!v.reliableHiddenOffsets()&&"none"===(e.style&&e.style.display||C.css(e,"display"))},C.expr.filters.visible=function(e){return!C.expr.filters.hidden(e)};var Xt=/%20/g,Kt=/\[\]$/,Gt=/\r?\n/g,Jt=/^(?:submit|button|image|reset|file)$/i,Zt=/^(?:input|select|textarea|keygen)/i;C.param=function(e,t){function n(e,t){t=C.isFunction(t)?t():null==t?"":t,r[r.length]=encodeURIComponent(e)+"="+encodeURIComponent(t)}var i,r=[];if(void 0===t&&(t=C.ajaxSettings&&C.ajaxSettings.traditional),C.isArray(e)||e.jquery&&!C.isPlainObject(e))C.each(e,function(){n(this.name,this.value)});else for(i in e)!function n(i,e,r,o){if(C.isArray(e))C.each(e,function(e,t){r||Kt.test(i)?o(i,t):n(i+"["+("object"==typeof t?e:"")+"]",t,r,o)});else if(r||"object"!==C.type(e))o(i,e);else for(var t in e)n(i+"["+t+"]",e[t],r,o)}(i,e[i],t,n);return r.join("&").replace(Xt,"+")},C.fn.extend({serialize:function(){return C.param(this.serializeArray())},serializeArray:function(){return this.map(function(){var e=C.prop(this,"elements");return e?C.makeArray(e):this}).filter(function(){var e=this.type;return this.name&&!C(this).is(":disabled")&&Zt.test(this.nodeName)&&!Jt.test(e)&&(this.checked||!Q.test(e))}).map(function(e,t){var n=C(this).val();return null==n?null:C.isArray(n)?C.map(n,function(e){return{name:t.name,value:e.replace(Gt,"\r\n")}}):{name:t.name,value:n.replace(Gt,"\r\n")}}).get()}}),C.ajaxSettings.xhr=void 0!==p.ActiveXObject?function(){return!this.isLocal&&/^(get|post|head|put|delete|options)$/i.test(this.type)&&rn()||function(){try{return new p.ActiveXObject("Microsoft.XMLHTTP")}catch(e){}}()}:rn;var en=0,tn={},nn=C.ajaxSettings.xhr();function rn(){try{return new p.XMLHttpRequest}catch(e){}}p.ActiveXObject&&C(p).on("unload",function(){for(var e in tn)tn[e](void 0,!0)}),v.cors=!!nn&&"withCredentials"in nn,(nn=v.ajax=!!nn)&&C.ajaxTransport(function(l){var c;if(!l.crossDomain||v.cors)return{send:function(e,o){var t,a=l.xhr(),s=++en;if(a.open(l.type,l.url,l.async,l.username,l.password),l.xhrFields)for(t in l.xhrFields)a[t]=l.xhrFields[t];for(t in l.mimeType&&a.overrideMimeType&&a.overrideMimeType(l.mimeType),l.crossDomain||e["X-Requested-With"]||(e["X-Requested-With"]="XMLHttpRequest"),e)void 0!==e[t]&&a.setRequestHeader(t,e[t]+"");a.send(l.hasContent&&l.data||null),c=function(e,t){var n,i,r;if(c&&(t||4===a.readyState))if(delete tn[s],c=void 0,a.onreadystatechange=C.noop,t)4!==a.readyState&&a.abort();else{r={},n=a.status,"string"==typeof a.responseText&&(r.text=a.responseText);try{i=a.statusText}catch(e){i=""}n||!l.isLocal||l.crossDomain?1223===n&&(n=204):n=r.text?200:404}r&&o(n,i,r,a.getAllResponseHeaders())},l.async?4===a.readyState?setTimeout(c):a.onreadystatechange=tn[s]=c:c()},abort:function(){c&&c(void 0,!0)}}}),C.ajaxSetup({accepts:{script:"text/javascript, application/javascript, application/ecmascript, application/x-ecmascript"},contents:{script:/(?:java|ecma)script/},converters:{"text script":function(e){return C.globalEval(e),e}}}),C.ajaxPrefilter("script",function(e){void 0===e.cache&&(e.cache=!1),e.crossDomain&&(e.type="GET",e.global=!1)}),C.ajaxTransport("script",function(t){if(t.crossDomain){var i,r=$.head||C("head")[0]||$.documentElement;return{send:function(e,n){(i=$.createElement("script")).async=!0,t.scriptCharset&&(i.charset=t.scriptCharset),i.src=t.url,i.onload=i.onreadystatechange=function(e,t){!t&&i.readyState&&!/loaded|complete/.test(i.readyState)||(i.onload=i.onreadystatechange=null,i.parentNode&&i.parentNode.removeChild(i),i=null,t||n(200,"success"))},r.insertBefore(i,r.firstChild)},abort:function(){i&&i.onload(void 0,!0)}}}});var on=[],an=/(=)\?(?=&|$)|\?\?/;C.ajaxSetup({jsonp:"callback",jsonpCallback:function(){var e=on.pop()||C.expando+"_"+Dt++;return this[e]=!0,e}}),C.ajaxPrefilter("json jsonp",function(e,t,n){var i,r,o,a=!1!==e.jsonp&&(an.test(e.url)?"url":"string"==typeof e.data&&!(e.contentType||"").indexOf("application/x-www-form-urlencoded")&&an.test(e.data)&&"data");if(a||"jsonp"===e.dataTypes[0])return i=e.jsonpCallback=C.isFunction(e.jsonpCallback)?e.jsonpCallback():e.jsonpCallback,a?e[a]=e[a].replace(an,"$1"+i):!1!==e.jsonp&&(e.url+=(Mt.test(e.url)?"&":"?")+e.jsonp+"="+i),e.converters["script json"]=function(){return o||C.error(i+" was not called"),o[0]},e.dataTypes[0]="json",r=p[i],p[i]=function(){o=arguments},n.always(function(){p[i]=r,e[i]&&(e.jsonpCallback=t.jsonpCallback,on.push(i)),o&&C.isFunction(r)&&r(o[0]),o=r=void 0}),"script"}),C.parseHTML=function(e,t,n){if(!e||"string"!=typeof e)return null;"boolean"==typeof t&&(n=t,t=!1),t=t||$;var i=b.exec(e),r=!n&&[];return i?[t.createElement(i[1])]:(i=C.buildFragment([e],t,r),r&&r.length&&C(r).remove(),C.merge([],i.childNodes))};var sn=C.fn.load;C.fn.load=function(e,t,n){if("string"!=typeof e&&sn)return sn.apply(this,arguments);var i,r,o,a=this,s=e.indexOf(" ");return 0<=s&&(i=e.slice(s,e.length),e=e.slice(0,s)),C.isFunction(t)?(n=t,t=void 0):t&&"object"==typeof t&&(o="POST"),0<a.length&&C.ajax({url:e,type:o,dataType:"html",data:t}).done(function(e){r=arguments,a.html(i?C("<div>").append(C.parseHTML(e)).find(i):e)}).complete(n&&function(e,t){a.each(n,r||[e.responseText,t,e])}),this},C.expr.filters.animated=function(t){return C.grep(C.timers,function(e){return t===e.elem}).length};var ln=p.document.documentElement;function cn(e){return C.isWindow(e)?e:9===e.nodeType&&(e.defaultView||e.parentWindow)}C.offset={setOffset:function(e,t,n){var i,r,o,a,s,l,c=C.css(e,"position"),u=C(e),d={};"static"===c&&(e.style.position="relative"),s=u.offset(),o=C.css(e,"top"),l=C.css(e,"left"),r=("absolute"===c||"fixed"===c)&&-1<C.inArray("auto",[o,l])?(a=(i=u.position()).top,i.left):(a=parseFloat(o)||0,parseFloat(l)||0),C.isFunction(t)&&(t=t.call(e,n,s)),null!=t.top&&(d.top=t.top-s.top+a),null!=t.left&&(d.left=t.left-s.left+r),"using"in t?t.using.call(e,d):u.css(d)}},C.fn.extend({offset:function(t){if(arguments.length)return void 0===t?this:this.each(function(e){C.offset.setOffset(this,t,e)});var e,n,i={top:0,left:0},r=this[0],o=r&&r.ownerDocument;return o?(e=o.documentElement,C.contains(e,r)?(typeof r.getBoundingClientRect!==O&&(i=r.getBoundingClientRect()),n=cn(o),{top:i.top+(n.pageYOffset||e.scrollTop)-(e.clientTop||0),left:i.left+(n.pageXOffset||e.scrollLeft)-(e.clientLeft||0)}):i):void 0},position:function(){if(this[0]){var e,t,n={top:0,left:0},i=this[0];return"fixed"===C.css(i,"position")?t=i.getBoundingClientRect():(e=this.offsetParent(),t=this.offset(),C.nodeName(e[0],"html")||(n=e.offset()),n.top+=C.css(e[0],"borderTopWidth",!0),n.left+=C.css(e[0],"borderLeftWidth",!0)),{top:t.top-n.top-C.css(i,"marginTop",!0),left:t.left-n.left-C.css(i,"marginLeft",!0)}}},offsetParent:function(){return this.map(function(){for(var e=this.offsetParent||ln;e&&!C.nodeName(e,"html")&&"static"===C.css(e,"position");)e=e.offsetParent;return e||ln})}}),C.each({scrollLeft:"pageXOffset",scrollTop:"pageYOffset"},function(t,r){var o=/Y/.test(r);C.fn[t]=function(e){return q(this,function(e,t,n){var i=cn(e);if(void 0===n)return i?r in i?i[r]:i.document.documentElement[t]:e[t];i?i.scrollTo(o?C(i).scrollLeft():n,o?n:C(i).scrollTop()):e[t]=n},t,e,arguments.length,null)}}),C.each(["top","left"],function(e,n){C.cssHooks[n]=Ue(v.pixelPosition,function(e,t){if(t)return t=De(e,n),We.test(t)?C(e).position()[n]+"px":t})}),C.each({Height:"height",Width:"width"},function(o,a){C.each({padding:"inner"+o,content:a,"":"outer"+o},function(i,e){C.fn[e]=function(e,t){var n=arguments.length&&(i||"boolean"!=typeof e),r=i||(!0===e||!0===t?"margin":"border");return q(this,function(e,t,n){var i;return C.isWindow(e)?e.document.documentElement["client"+o]:9===e.nodeType?(i=e.documentElement,Math.max(e.body["scroll"+o],i["scroll"+o],e.body["offset"+o],i["offset"+o],i["client"+o])):void 0===n?C.css(e,t,r):C.style(e,t,n,r)},a,n?e:void 0,n,null)}})}),C.fn.size=function(){return this.length},C.fn.andSelf=C.fn.addBack,void 0===(pn=function(){return C}.apply(hn,[]))||(fn.exports=pn);var un=p.jQuery,dn=p.$;return C.noConflict=function(e){return p.$===C&&(p.$=dn),e&&p.jQuery===C&&(p.jQuery=un),C},typeof e===O&&(p.jQuery=p.$=C),C},"object"==typeof fn.exports?fn.exports=t.document?n(t,!0):function(e){if(!e.document)throw new Error("jQuery requires a window with a document");return n(e)}:n(t)},function(e,t,n){"use strict";var i=Object.prototype.hasOwnProperty,h="~";function r(){}function s(e,t,n){this.fn=e,this.context=t,this.once=n||!1}function o(e,t,n,i,r){if("function"!=typeof n)throw new TypeError("The listener must be a function");var o=new s(n,i||e,r),a=h?h+t:t;return e._events[a]?e._events[a].fn?e._events[a]=[e._events[a],o]:e._events[a].push(o):(e._events[a]=o,e._eventsCount++),e}function c(e,t){0==--e._eventsCount?e._events=new r:delete e._events[t]}function a(){this._events=new r,this._eventsCount=0}Object.create&&(r.prototype=Object.create(null),(new r).__proto__||(h=!1)),a.prototype.eventNames=function(){var e,t,n=[];if(0===this._eventsCount)return n;for(t in e=this._events)i.call(e,t)&&n.push(h?t.slice(1):t);return Object.getOwnPropertySymbols?n.concat(Object.getOwnPropertySymbols(e)):n},a.prototype.listeners=function(e){var t=h?h+e:e,n=this._events[t];if(!n)return[];if(n.fn)return[n.fn];for(var i=0,r=n.length,o=new Array(r);i<r;i++)o[i]=n[i].fn;return o},a.prototype.listenerCount=function(e){var t=h?h+e:e,n=this._events[t];return n?n.fn?1:n.length:0},a.prototype.emit=function(e,t,n,i,r,o){var a=h?h+e:e;if(!this._events[a])return!1;var s,l=this._events[a],c=arguments.length;if(l.fn){switch(l.once&&this.removeListener(e,l.fn,void 0,!0),c){case 1:return l.fn.call(l.context),!0;case 2:return l.fn.call(l.context,t),!0;case 3:return l.fn.call(l.context,t,n),!0;case 4:return l.fn.call(l.context,t,n,i),!0;case 5:return l.fn.call(l.context,t,n,i,r),!0;case 6:return l.fn.call(l.context,t,n,i,r,o),!0}for(f=1,s=new Array(c-1);f<c;f++)s[f-1]=arguments[f];l.fn.apply(l.context,s)}else for(var u,d=l.length,f=0;f<d;f++)switch(l[f].once&&this.removeListener(e,l[f].fn,void 0,!0),c){case 1:l[f].fn.call(l[f].context);break;case 2:l[f].fn.call(l[f].context,t);break;case 3:l[f].fn.call(l[f].context,t,n);break;case 4:l[f].fn.call(l[f].context,t,n,i);break;default:if(!s)for(u=1,s=new Array(c-1);u<c;u++)s[u-1]=arguments[u];l[f].fn.apply(l[f].context,s)}return!0},a.prototype.on=function(e,t,n){return o(this,e,t,n,!1)},a.prototype.once=function(e,t,n){return o(this,e,t,n,!0)},a.prototype.removeListener=function(e,t,n,i){var r=h?h+e:e;if(!this._events[r])return this;if(!t)return c(this,r),this;var o=this._events[r];if(o.fn)o.fn!==t||i&&!o.once||n&&o.context!==n||c(this,r);else{for(var a=0,s=[],l=o.length;a<l;a++)(o[a].fn!==t||i&&!o[a].once||n&&o[a].context!==n)&&s.push(o[a]);s.length?this._events[r]=1===s.length?s[0]:s:c(this,r)}return this},a.prototype.removeAllListeners=function(e){var t;return e?(t=h?h+e:e,this._events[t]&&c(this,t)):(this._events=new r,this._eventsCount=0),this},a.prototype.off=a.prototype.removeListener,a.prototype.addListener=a.prototype.on,a.prefixed=h,a.EventEmitter=a,e.exports=a},,function(e,t,n){"use strict";var i=n(27);t.a={WebkitTransition:"webkitTransitionEnd",MozTransition:"transitionend",OTransition:"oTransitionEnd",transition:"transitionend"}[i.prefixed("transition")]},function(e,t){e.exports=function(e){return e.webpackPolyfill||(e.deprecate=function(){},e.paths=[],e.children||(e.children=[]),Object.defineProperty(e,"loaded",{enumerable:!0,get:function(){return e.l}}),Object.defineProperty(e,"id",{enumerable:!0,get:function(){return e.i}}),e.webpackPolyfill=1),e}},,,,,function(L,e,t){var n,i,r;n=window,i="Modernizr"in n,r=n.Modernizr,function(e,f,h,p){var s=[],t={_version:"3.11.3",_config:{classPrefix:"",enableClasses:!0,enableJSClass:!0,usePrefixes:!0},_q:[],on:function(e,t){var n=this;setTimeout(function(){t(n[e])},0)},addTest:function(e,t,n){s.push({name:e,fn:t,options:n})},addAsyncTest:function(e){s.push({name:null,fn:e})}},l=function(){};l.prototype=t,l=new l;var c=[];function u(e,t){return typeof e===t}var m=h.documentElement,g="svg"===m.nodeName.toLowerCase();var n="Moz O ms Webkit",d=t._config.usePrefixes?n.toLowerCase().split(" "):[];t._domPrefixes=d,g||function(e,l){var c,u,t=e.html5||{},r=/^<|^(?:button|map|select|textarea|object|iframe|option|optgroup)$/i,o=/^(?:a|b|code|div|fieldset|h1|h2|h3|h4|h5|h6|i|label|li|ol|p|q|span|strong|style|table|tbody|td|th|tr|ul)$/i,n="_html5shiv",i=0,a={};function d(){var e=p.elements;return"string"==typeof e?e.split(" "):e}function f(e){var t=a[e[n]];return t||(t={},i++,e[n]=i,a[i]=t),t}function h(e,t,n){return t=t||l,u?t.createElement(e):!(i=(n=n||f(t)).cache[e]?n.cache[e].cloneNode():o.test(e)?(n.cache[e]=n.createElem(e)).cloneNode():n.createElem(e)).canHaveChildren||r.test(e)||i.tagUrn?i:n.frag.appendChild(i);var i}function s(e){var t,n,i,r,o,a,s=f(e=e||l);return!p.shivCSS||c||s.hasCSS||(s.hasCSS=(n="article,aside,dialog,figcaption,figure,footer,header,hgroup,main,nav,section{display:block}mark{background:#FF0;color:#000}template{display:none}",i=(t=e).createElement("p"),r=t.getElementsByTagName("head")[0]||t.documentElement,i.innerHTML="x<style>"+n+"</style>",!!r.insertBefore(i.lastChild,r.firstChild))),u||(o=e,(a=s).cache||(a.cache={},a.createElem=o.createElement,a.createFrag=o.createDocumentFragment,a.frag=a.createFrag()),o.createElement=function(e){return p.shivMethods?h(e,o,a):a.createElem(e)},o.createDocumentFragment=Function("h,f","return function(){var n=f.cloneNode(),c=n.createElement;h.shivMethods&&("+d().join().replace(/[\w\-:]+/g,function(e){return a.createElem(e),a.frag.createElement(e),'c("'+e+'")'})+");return n}")(p,a.frag)),e}!function(){try{var e=l.createElement("a");e.innerHTML="<xyz></xyz>",c="hidden"in e,u=1==e.childNodes.length||function(){l.createElement("a");var e=l.createDocumentFragment();return void 0===e.cloneNode||void 0===e.createDocumentFragment||void 0===e.createElement}()}catch(e){u=c=!0}}();var p={elements:t.elements||"abbr article aside audio bdi canvas data datalist details dialog figcaption figure footer header hgroup main mark meter nav output picture progress section summary template time video",version:"3.7.3",shivCSS:!1!==t.shivCSS,supportsUnknownElements:u,shivMethods:!1!==t.shivMethods,type:"default",shivDocument:s,createElement:h,createDocumentFragment:function(e,t){if(e=e||l,u)return e.createDocumentFragment();for(var n=(t=t||f(e)).frag.cloneNode(),i=0,r=d(),o=r.length;i<o;i++)n.createElement(r[i]);return n},addElements:function(e,t){var n=p.elements;"string"!=typeof n&&(n=n.join(" ")),"string"!=typeof e&&(e=e.join(" ")),p.elements=n+" "+e,s(t)}};e.html5=p,s(l),L.exports&&(L.exports=p)}(void 0!==f?f:this,h);var v=t._config.usePrefixes?n.split(" "):[];function y(e){return"function"!=typeof h.createElement?h.createElement(e):g?h.createElementNS.call(h,"http://www.w3.org/2000/svg",e):h.createElement.apply(h,arguments)}t._cssomPrefixes=v;var i={elem:y("modernizr")};l._q.push(function(){delete i.elem});var b={style:i.elem.style};function w(e,t,n,i){var r,o,a,s,l,c="modernizr",u=y("div"),d=((l=h.body)||((l=y(g?"svg":"body")).fake=!0),l);if(parseInt(n,10))for(;n--;)(a=y("div")).id=i?i[n]:c+(n+1),u.appendChild(a);return(r=y("style")).type="text/css",r.id="s"+c,(d.fake?d:u).appendChild(r),d.appendChild(u),r.styleSheet?r.styleSheet.cssText=e:r.appendChild(h.createTextNode(e)),u.id=c,d.fake&&(d.style.background="",d.style.overflow="hidden",s=m.style.overflow,m.style.overflow="hidden",m.appendChild(d)),o=t(u,e),d.fake?(d.parentNode.removeChild(d),m.style.overflow=s,m.offsetHeight):u.parentNode.removeChild(u),!!o}function x(e){return e.replace(/([A-Z])/g,function(e,t){return"-"+t.toLowerCase()}).replace(/^ms-/,"-ms-")}function k(e,t,n){var i,r;return"getComputedStyle"in f?(i=getComputedStyle.call(f,e,t),r=f.console,null!==i?n&&(i=i.getPropertyValue(n)):r&&r[r.error?"error":"log"].call(r,"getComputedStyle returning null, its possible modernizr test results are inaccurate")):i=!t&&e.currentStyle&&e.currentStyle[n],i}function C(e){return e.replace(/([a-z])-([a-z])/g,function(e,t,n){return t+n.toUpperCase()}).replace(/^-/,"")}function $(e,t,n,i){if(i=void 0!==i&&i,void 0!==n){var r=function(e,t){var n=e.length;if("CSS"in f&&"supports"in f.CSS){for(;n--;)if(f.CSS.supports(x(e[n]),t))return!0;return!1}if("CSSSupportsRule"in f){for(var i=[];n--;)i.push("("+x(e[n])+":"+t+")");return w("@supports ("+(i=i.join(" or "))+") { #modernizr { position: absolute; } }",function(e){return"absolute"===k(e,null,"position")})}return p}(e,n);if(void 0!==r)return r}for(var o,a,s,l,c,u=["modernizr","tspan","samp"];!b.style&&u.length;)o=!0,b.modElem=y(u.shift()),b.style=b.modElem.style;function d(){o&&(delete b.style,delete b.modElem)}for(s=e.length,a=0;a<s;a++)if(l=e[a],c=b.style[l],~(""+l).indexOf("-")&&(l=C(l)),b.style[l]!==p){if(i||void 0===n)return d(),"pfx"!==t||l;try{b.style[l]=n}catch(e){}if(b.style[l]!==c)return d(),"pfx"!==t||l}return d(),!1}function T(e,t,n){var i,r;for(r in e)if(e[r]in t)return!1===n?e[r]:u(i=t[e[r]],"function")?function(e,t){return function(){return e.apply(t,arguments)}}(i,n||t):i;return!1}function r(e,t,n,i,r){var o=e.charAt(0).toUpperCase()+e.slice(1),a=(e+" "+v.join(o+" ")+o).split(" ");return u(t,"string")||void 0===t?$(a,t,i,r):T(a=(e+" "+d.join(o+" ")+o).split(" "),t,n)}l._q.unshift(function(){delete b.style}),t.testAllProps=r;function o(e){var t,n=S.length,i=f.CSSRule;if(void 0===i)return p;if(!e)return!1;if((t=(e=e.replace(/^@/,"")).replace(/-/g,"_").toUpperCase()+"_RULE")in i)return"@"+e;for(var r=0;r<n;r++){var o=S[r];if(o.toUpperCase()+"_"+t in i)return"@-"+o.toLowerCase()+"-"+e}return!1}t.atRule=o;var a=t.prefixed=function(e,t,n){return 0===e.indexOf("@")?o(e):(-1!==e.indexOf("-")&&(e=C(e)),t?r(e,t,n):r(e,"pfx"))},S=t._config.usePrefixes?" -webkit- -moz- -o- -ms- ".split(" "):["",""];function _(e,t,n){return r(e,p,p,t,n)}t._prefixes=S,t.testAllProps=_;t.testProp=function(e,t,n){return $([e],p,t,n)},t.testStyles=w;
/*!
{
  "name": "CSS Animations",
  "property": "cssanimations",
  "caniuse": "css-animation",
  "polyfills": ["transformie", "csssandpaper"],
  "tags": ["css"],
  "warnings": ["Android < 4 will pass this test, but can only animate a single property at a time"],
  "notes": [{
    "name": "Article: 'Dispelling the Android CSS animation myths'",
    "href": "https://web.archive.org/web/20180602074607/https://daneden.me/2011/12/14/putting-up-with-androids-bullshit/"
  }]
}
!*/
l.addTest("cssanimations",_("animationName","a",!0)),
/*!
{
  "name": "Backdrop Filter",
  "property": "backdropfilter",
  "authors": ["Brian Seward"],
  "tags": ["css"],
  "caniuse": "css-backdrop-filter",
  "notes": [{
    "name": "W3C Editor’s Draft Spec",
    "href": "https://drafts.fxtf.org/filters-2/#BackdropFilterProperty"
  }, {
    "name": "WebKit Blog introduction + Demo",
    "href": "https://www.webkit.org/blog/3632/introducing-backdrop-filters/"
  }]
}
!*/
l.addTest("backdropfilter",_("backdropFilter")),
/*!
{
  "name": "CSS Transforms",
  "property": "csstransforms",
  "caniuse": "transforms2d",
  "tags": ["css"]
}
!*/
l.addTest("csstransforms",function(){return-1===navigator.userAgent.indexOf("Android 2.")&&_("transform","scale(1)",!0)});
/*!
{
  "name": "CSS Supports",
  "property": "supports",
  "caniuse": "css-featurequeries",
  "tags": ["css"],
  "builderAliases": ["css_supports"],
  "notes": [{
    "name": "W3C Spec (The @supports rule)",
    "href": "https://dev.w3.org/csswg/css3-conditional/#at-supports"
  }, {
    "name": "Related Github Issue",
    "href": "https://github.com/Modernizr/Modernizr/issues/648"
  }, {
    "name": "W3C Spec (The CSSSupportsRule interface)",
    "href": "https://dev.w3.org/csswg/css3-conditional/#the-csssupportsrule-interface"
  }]
}
!*/
var E="CSS"in f&&"supports"in f.CSS,j="supportsCSS"in f;l.addTest("supports",E||j),
/*!
{
  "name": "CSS Transforms 3D",
  "property": "csstransforms3d",
  "caniuse": "transforms3d",
  "tags": ["css"],
  "warnings": [
    "Chrome may occasionally fail this test on some systems; more info: https://bugs.chromium.org/p/chromium/issues/detail?id=129004"
  ]
}
!*/
l.addTest("csstransforms3d",function(){return!!_("perspective","1px",!0)}),
/*!
{
  "name": "CSS Transitions",
  "property": "csstransitions",
  "caniuse": "css-transitions",
  "tags": ["css"]
}
!*/
l.addTest("csstransitions",_("transition","all",!0)),
/*!
{
  "name": "Flexbox",
  "property": "flexbox",
  "caniuse": "flexbox",
  "tags": ["css"],
  "notes": [{
    "name": "The _new_ flexbox",
    "href": "https://www.w3.org/TR/css-flexbox-1/"
  }],
  "warnings": [
    "A `true` result for this detect does not imply that the `flex-wrap` property is supported; see the `flexwrap` detect."
  ]
}
!*/
l.addTest("flexbox",_("flexBasis","1px",!0)),
/*!
{
  "name": "Flexbox (legacy)",
  "property": "flexboxlegacy",
  "tags": ["css"],
  "polyfills": ["flexie"],
  "notes": [{
    "name": "The _old_ flexbox",
    "href": "https://www.w3.org/TR/2009/WD-css3-flexbox-20090723/"
  }]
}
!*/
l.addTest("flexboxlegacy",_("boxDirection","reverse",!0)),
/*!
{
  "name": "CSS Object Fit",
  "caniuse": "object-fit",
  "property": "objectfit",
  "tags": ["css"],
  "builderAliases": ["css_objectfit"],
  "notes": [{
    "name": "Opera Article on Object Fit",
    "href": "https://dev.opera.com/articles/css3-object-fit-object-position/"
  }]
}
!*/
l.addTest("objectfit",!!a("objectFit"),{aliases:["object-fit"]}),
/*!
{
  "name": "SVG",
  "property": "svg",
  "caniuse": "svg",
  "tags": ["svg"],
  "authors": ["Erik Dahlstrom"],
  "polyfills": [
    "svgweb",
    "raphael",
    "amplesdk",
    "canvg",
    "svg-boilerplate",
    "sie",
    "dojogfx",
    "fabricjs"
  ]
}
!*/
l.addTest("svg",!!h.createElementNS&&!!h.createElementNS("http://www.w3.org/2000/svg","svg").createSVGRect);var I,P,D,M,N,O=(I=f.matchMedia||f.msMatchMedia)?function(e){var t=I(e);return t&&t.matches||!1}:function(e){var t=!1;return w("@media "+e+" { #modernizr { position: absolute; } }",function(e){t="absolute"===k(e,null,"position")}),t};t.mq=O,
/*!
{
  "name": "Touch Events",
  "property": "touchevents",
  "caniuse": "touch",
  "tags": ["media", "attribute"],
  "notes": [{
    "name": "Touch Events spec",
    "href": "https://www.w3.org/TR/2013/WD-touch-events-20130124/"
  }],
  "warnings": [
    "** DEPRECATED see https://github.com/Modernizr/Modernizr/pull/2432 **",
    "Indicates if the browser supports the Touch Events spec, and does not necessarily reflect a touchscreen device"
  ],
  "knownBugs": [
    "False-positive on some configurations of Nokia N900",
    "False-positive on some BlackBerry 6.0 builds – https://github.com/Modernizr/Modernizr/issues/372#issuecomment-3112695"
  ]
}
!*/
l.addTest("touchevents",function(){if("ontouchstart"in f||f.TouchEvent||f.DocumentTouch&&h instanceof DocumentTouch)return!0;var e=["(",S.join("touch-enabled),("),"heartz",")"].join("");return O(e)}),function(){var e,t,n,i,r,o,a;for(a in s)if(s.hasOwnProperty(a)){if(e=[],(t=s[a]).name&&(e.push(t.name.toLowerCase()),t.options&&t.options.aliases&&t.options.aliases.length))for(n=0;n<t.options.aliases.length;n++)e.push(t.options.aliases[n].toLowerCase());for(i=u(t.fn,"function")?t.fn():t.fn,r=0;r<e.length;r++)1===(o=e[r].split(".")).length?l[o[0]]=i:(l[o[0]]&&(!l[o[0]]||l[o[0]]instanceof Boolean)||(l[o[0]]=new Boolean(l[o[0]])),l[o[0]][o[1]]=i),c.push((i?"":"no-")+o.join("-"))}}(),P=c,M=m.className,N=l._config.classPrefix||"",g&&(M=M.baseVal),l._config.enableJSClass&&(D=new RegExp("(^|\\s)"+N+"no-js(\\s|$)"),M=M.replace(D,"$1"+N+"js$2")),l._config.enableClasses&&(0<P.length&&(M+=" "+N+P.join(" "+N)),g?m.className.baseVal=M:m.className=M),delete t.addTest,delete t.addAsyncTest;for(var A=0;A<l._q.length;A++)l._q[A]();e.Modernizr=l}(n,n,document),L.exports=n.Modernizr,i?n.Modernizr=r:delete n.Modernizr},,,,function(e,t,n){"use strict";var s=n(6);t.a=function(e,i,r){for(var o=this,t=arguments.length,a=new Array(3<t?t-3:0),n=3;n<t;n++)a[n-3]=arguments[n];this._contextInstances={},this.contextObserver=e.createNewObserver(r),this.contextObserver.on("contextchange",function(e,t){var n;!t||(n=o._contextInstances[t])&&n[s.a.SUSPEND](),e&&i[e]instanceof Function&&(o._contextInstances[e]||(o._contextInstances[e]=new(Function.prototype.bind.apply(i[e],[null,o,r].concat(a)))),o._contextInstances[e][s.a.WAKE]())},this)}},,,,,,function(e,t,n){"use strict";var i=n(18),r=n.n(i);window.$=r.a,window.jQuery=r.a},function(e,t){"undefined"!=typeof globals&&void 0!==globals.typekitId&&(TypekitConfig={kitId:globals.typekitId,scriptTimeout:3e3},TypekitConfig.kitId&&function(){var e=document.getElementsByTagName("html")[0];e.className+=" wf-loading";var t=setTimeout(function(){e.className=e.className.replace(/(\s|^)wf-loading(\s|$)/g,""),e.className+=" wf-inactive"},TypekitConfig.scriptTimeout),n=document.createElement("script");n.src="//use.typekit.com/"+TypekitConfig.kitId+".js",n.type="text/javascript",n.async="true",n.onload=n.onreadystatechange=function(){var e=this.readyState;if(!e||"complete"==e||"loaded"==e){clearTimeout(t);try{Typekit.load(TypekitConfig)}catch(e){}}};var i=document.getElementsByTagName("script")[0];i.parentNode.insertBefore(n,i)}())},,,,,,,,function(e,t,n){"use strict";e.exports=n(325)},function(e,t){function n(e){return(n="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}var c,i;c=jQuery,i={init:function(i){return this.each(function(){var e,t,r=c(this),o=r.data("spinner"),a=["-webkit-","-moz-","-ms-","-o-",""];function s(){return"lb"+(new Date).getTime()+Math.floor(1001*Math.random())}function l(e){for(var t="",n=0;n<a.length;n++)t+=a[n]+e+";";return t}function n(){for(var e=s(),t=c("<"+o.element+' id="'+e+'-spinner" class="lb-spinner" style="width:'+o.size+"px; height:"+o.size+'px;"><'+o.element+' class="lb-spinner-body"></'+o.element+"></"+o.element+">"),n="",n="#"+e+"-spinner {display: inline-block; width: "+o.size+"px; height: "+o.size+"px; } #"+e+"-spinner .lb-spinner-body { width: "+o.size+"px; height: "+o.size+"px; display: block; "+l("border-radius: "+o.size/2+"px")+l("animation: spinY 2s infinite")+l("animation-timing-function: cubic-bezier(.3,.64,.69,.36)")+"}",i=0;i<a.length;i++)n+="@"+a[i]+"keyframes spinY { 0%\t\t{ "+a[i]+"transform: rotateY(90deg);  background: #209CE4; } 33.3%\t{ "+a[i]+"transform: rotateY(270deg); background: #209CE4; } 33.31%\t{ "+a[i]+"transform: rotateY(90deg);  background: #EE7000; } 66.6%\t{ "+a[i]+"transform: rotateY(270deg); background: #EE7000; } 66.61%\t{ "+a[i]+"transform: rotateY(90deg);  background: #00AC20; } 100%\t{ "+a[i]+"transform: rotateY(270deg); background: #00AC20; } }";c("<style>").prop("type","text/css").attr("id",e+"-css").html(n).appendTo("head"),"append"==o.insertion?r.data("lb-spinner-id",e).append(t):"prepend"==o.insertion&&r.data("lb-spinner-id",e).prepend(t)}return void 0===o&&(o=c.extend({},c.fn.lbSpinner.defaults,i),r.data("spinner",o)),"undefined"==typeof Modernizr||Modernizr.cssanimations?n():""==o.fallback?window.console&&window.console.log&&window.console.log("Requires fallback image URL"):(e=s(),t=c("<"+o.element+' id="'+e+'-spinner" class="lb-spinner" style="width:'+o.size+"px; height:"+o.size+'px;"><img src="'+o.fallback+'" width="'+o.size+'" height="'+o.size+'" class="lb-spinner-fallback" /></'+o.element+">"),"append"==o.insertion?r.data("lb-spinner-id",e).append(t):"prepend"==o.insertion&&r.data("lb-spinner-id",e).prepend(t)),this})},stop:function(){return this.each(function(){var e=c(this),t=e.data("lb-spinner-id");c("#"+t+"-css").remove(),c("#"+t+"-spinner").remove(),e.removeData("spinner")})}},c.fn.lbSpinner=function(e){var t=e;if(i[t])t=i[t];else{if("object"!=n(t)&&t)return c.error("Method "+t+" does not exist on jQuery.pluginName"),this;t=i.init}return t.apply(this,arguments)},c.fn.lbSpinner.defaults={size:16,fallback:"",insertion:"append",element:"div"}},function(e,t){function i(e,t){var n,i,r,o=e.nodeName.toLowerCase();return"area"===o?(i=(n=e.parentNode).name,!(!e.href||!i||"map"!==n.nodeName.toLowerCase())&&(!!(r=s("img[usemap=#"+i+"]")[0])&&a(r))):(/input|select|textarea|button|object/.test(o)?!e.disabled:"a"===o&&e.href||t)&&a(e)}function a(e){return s.expr.filters.visible(e)&&!s(e).parents().addBack().filter(function(){return"hidden"===s.css(this,"visibility")}).length}
/*!
 * jQuery UI Core 1.10.3
 * http://jqueryui.com
 *
 * Copyright 2013 jQuery Foundation and other contributors
 * Released under the MIT license.
 * http://jquery.org/license
 *
 * http://api.jqueryui.com/category/ui-core/
 */
var s,r,n,o,l;s=jQuery,o=0,l=/^ui-id-\d+$/,s.ui=s.ui||{},s.extend(s.ui,{version:"1.10.3",keyCode:{BACKSPACE:8,COMMA:188,DELETE:46,DOWN:40,END:35,ENTER:13,ESCAPE:27,HOME:36,LEFT:37,NUMPAD_ADD:107,NUMPAD_DECIMAL:110,NUMPAD_DIVIDE:111,NUMPAD_ENTER:108,NUMPAD_MULTIPLY:106,NUMPAD_SUBTRACT:109,PAGE_DOWN:34,PAGE_UP:33,PERIOD:190,RIGHT:39,SPACE:32,TAB:9,UP:38}}),s.fn.extend({focus:(r=s.fn.focus,function(t,n){return"number"==typeof t?this.each(function(){var e=this;setTimeout(function(){s(e).focus(),n&&n.call(e)},t)}):r.apply(this,arguments)}),scrollParent:function(){var e;return e=s.ui.ie&&/(static|relative)/.test(this.css("position"))||/absolute/.test(this.css("position"))?this.parents().filter(function(){return/(relative|absolute|fixed)/.test(s.css(this,"position"))&&/(auto|scroll)/.test(s.css(this,"overflow")+s.css(this,"overflow-y")+s.css(this,"overflow-x"))}).eq(0):this.parents().filter(function(){return/(auto|scroll)/.test(s.css(this,"overflow")+s.css(this,"overflow-y")+s.css(this,"overflow-x"))}).eq(0),/fixed/.test(this.css("position"))||!e.length?s(document):e},zIndex:function(e){if(void 0!==e)return this.css("zIndex",e);if(this.length)for(var t,n,i=s(this[0]);i.length&&i[0]!==document;){if(("absolute"===(t=i.css("position"))||"relative"===t||"fixed"===t)&&(n=parseInt(i.css("zIndex"),10),!isNaN(n)&&0!==n))return n;i=i.parent()}return 0},uniqueId:function(){return this.each(function(){this.id||(this.id="ui-id-"+ ++o)})},removeUniqueId:function(){return this.each(function(){l.test(this.id)&&s(this).removeAttr("id")})}}),s.extend(s.expr[":"],{data:s.expr.createPseudo?s.expr.createPseudo(function(t){return function(e){return!!s.data(e,t)}}):function(e,t,n){return!!s.data(e,n[3])},focusable:function(e){return i(e,!isNaN(s.attr(e,"tabindex")))},tabbable:function(e){var t=s.attr(e,"tabindex"),n=isNaN(t);return(n||0<=t)&&i(e,!n)}}),s("<a>").outerWidth(1).jquery||s.each(["Width","Height"],function(e,n){var r="Width"===n?["Left","Right"]:["Top","Bottom"],i=n.toLowerCase(),o={innerWidth:s.fn.innerWidth,innerHeight:s.fn.innerHeight,outerWidth:s.fn.outerWidth,outerHeight:s.fn.outerHeight};function a(e,t,n,i){return s.each(r,function(){t-=parseFloat(s.css(e,"padding"+this))||0,n&&(t-=parseFloat(s.css(e,"border"+this+"Width"))||0),i&&(t-=parseFloat(s.css(e,"margin"+this))||0)}),t}s.fn["inner"+n]=function(e){return void 0===e?o["inner"+n].call(this):this.each(function(){s(this).css(i,a(this,e)+"px")})},s.fn["outer"+n]=function(e,t){return"number"!=typeof e?o["outer"+n].call(this,e):this.each(function(){s(this).css(i,a(this,e,!0,t)+"px")})}}),s.fn.addBack||(s.fn.addBack=function(e){return this.add(null==e?this.prevObject:this.prevObject.filter(e))}),s("<a>").data("a-b","a").removeData("a-b").data("a-b")&&(s.fn.removeData=(n=s.fn.removeData,function(e){return arguments.length?n.call(this,s.camelCase(e)):n.call(this)})),s.ui.ie=!!/msie [\w.]+/.exec(navigator.userAgent.toLowerCase()),s.support.selectstart="onselectstart"in document.createElement("div"),s.fn.extend({disableSelection:function(){return this.bind((s.support.selectstart?"selectstart":"mousedown")+".ui-disableSelection",function(e){e.preventDefault()})},enableSelection:function(){return this.unbind(".ui-disableSelection")}}),s.extend(s.ui,{plugin:{add:function(e,t,n){var i,r=s.ui[e].prototype;for(i in n)r.plugins[i]=r.plugins[i]||[],r.plugins[i].push([t,n[i]])},call:function(e,t,n){var i,r=e.plugins[t];if(r&&e.element[0].parentNode&&11!==e.element[0].parentNode.nodeType)for(i=0;i<r.length;i++)e.options[r[i][0]]&&r[i][1].apply(e.element,n)}},hasScroll:function(e,t){if("hidden"===s(e).css("overflow"))return!1;var n,i=t&&"left"===t?"scrollLeft":"scrollTop";return 0<e[i]||(e[i]=1,n=0<e[i],e[i]=0,n)}})},function(e,t){
/*!
 * jQuery UI Widget 1.10.3
 * http://jqueryui.com
 *
 * Copyright 2013 jQuery Foundation and other contributors
 * Released under the MIT license.
 * http://jquery.org/license
 *
 * http://api.jqueryui.com/jQuery.widget/
 */
var u,s,n,l,i;u=jQuery,n=0,l=Array.prototype.slice,i=u.cleanData,u.cleanData=function(e){for(var t,n=0;null!=(t=e[n]);n++)try{u(t).triggerHandler("remove")}catch(e){}i(e)},u.widget=function(e,n,t){var i,r,o,a,s={},l=e.split(".")[0];e=e.split(".")[1],i=l+"-"+e,t||(t=n,n=u.Widget),u.expr[":"][i.toLowerCase()]=function(e){return!!u.data(e,i)},u[l]=u[l]||{},r=u[l][e],o=u[l][e]=function(e,t){if(!this._createWidget)return new o(e,t);arguments.length&&this._createWidget(e,t)},u.extend(o,r,{version:t.version,_proto:u.extend({},t),_childConstructors:[]}),(a=new n).options=u.widget.extend({},a.options),u.each(t,function(t,i){function r(){return n.prototype[t].apply(this,arguments)}function o(e){return n.prototype[t].apply(this,e)}u.isFunction(i)?s[t]=function(){var e,t=this._super,n=this._superApply;return this._super=r,this._superApply=o,e=i.apply(this,arguments),this._super=t,this._superApply=n,e}:s[t]=i}),o.prototype=u.widget.extend(a,{widgetEventPrefix:r?a.widgetEventPrefix:e},s,{constructor:o,namespace:l,widgetName:e,widgetFullName:i}),r?(u.each(r._childConstructors,function(e,t){var n=t.prototype;u.widget(n.namespace+"."+n.widgetName,o,t._proto)}),delete r._childConstructors):n._childConstructors.push(o),u.widget.bridge(e,o)},u.widget.extend=function(e){for(var t,n,i=l.call(arguments,1),r=0,o=i.length;r<o;r++)for(t in i[r])n=i[r][t],i[r].hasOwnProperty(t)&&n!==s&&(u.isPlainObject(n)?e[t]=u.isPlainObject(e[t])?u.widget.extend({},e[t],n):u.widget.extend({},n):e[t]=n);return e},u.widget.bridge=function(o,t){var a=t.prototype.widgetFullName||o;u.fn[o]=function(n){var e="string"==typeof n,i=l.call(arguments,1),r=this;return n=!e&&i.length?u.widget.extend.apply(null,[n].concat(i)):n,e?this.each(function(){var e,t=u.data(this,a);return t?u.isFunction(t[n])&&"_"!==n.charAt(0)?(e=t[n].apply(t,i))!==t&&e!==s?(r=e&&e.jquery?r.pushStack(e.get()):e,!1):void 0:u.error("no such method '"+n+"' for "+o+" widget instance"):u.error("cannot call methods on "+o+" prior to initialization; attempted to call method '"+n+"'")}):this.each(function(){var e=u.data(this,a);e?e.option(n||{})._init():u.data(this,a,new t(n,this))}),r}},u.Widget=function(){},u.Widget._childConstructors=[],u.Widget.prototype={widgetName:"widget",widgetEventPrefix:"",defaultElement:"<div>",options:{disabled:!1,create:null},_createWidget:function(e,t){t=u(t||this.defaultElement||this)[0],this.element=u(t),this.uuid=n++,this.eventNamespace="."+this.widgetName+this.uuid,this.options=u.widget.extend({},this.options,this._getCreateOptions(),e),this.bindings=u(),this.hoverable=u(),this.focusable=u(),t!==this&&(u.data(t,this.widgetFullName,this),this._on(!0,this.element,{remove:function(e){e.target===t&&this.destroy()}}),this.document=u(t.style?t.ownerDocument:t.document||t),this.window=u(this.document[0].defaultView||this.document[0].parentWindow)),this._create(),this._trigger("create",null,this._getCreateEventData()),this._init()},_getCreateOptions:u.noop,_getCreateEventData:u.noop,_create:u.noop,_init:u.noop,destroy:function(){this._destroy(),this.element.unbind(this.eventNamespace).removeData(this.widgetName).removeData(this.widgetFullName).removeData(u.camelCase(this.widgetFullName)),this.widget().unbind(this.eventNamespace).removeAttr("aria-disabled").removeClass(this.widgetFullName+"-disabled ui-state-disabled"),this.bindings.unbind(this.eventNamespace),this.hoverable.removeClass("ui-state-hover"),this.focusable.removeClass("ui-state-focus")},_destroy:u.noop,widget:function(){return this.element},option:function(e,t){var n,i,r,o=e;if(0===arguments.length)return u.widget.extend({},this.options);if("string"==typeof e)if(o={},e=(n=e.split(".")).shift(),n.length){for(i=o[e]=u.widget.extend({},this.options[e]),r=0;r<n.length-1;r++)i[n[r]]=i[n[r]]||{},i=i[n[r]];if(e=n.pop(),t===s)return i[e]===s?null:i[e];i[e]=t}else{if(t===s)return this.options[e]===s?null:this.options[e];o[e]=t}return this._setOptions(o),this},_setOptions:function(e){for(var t in e)this._setOption(t,e[t]);return this},_setOption:function(e,t){return this.options[e]=t,"disabled"===e&&(this.widget().toggleClass(this.widgetFullName+"-disabled ui-state-disabled",!!t).attr("aria-disabled",t),this.hoverable.removeClass("ui-state-hover"),this.focusable.removeClass("ui-state-focus")),this},enable:function(){return this._setOption("disabled",!1)},disable:function(){return this._setOption("disabled",!0)},_on:function(a,s,e){var l,c=this;"boolean"!=typeof a&&(e=s,s=a,a=!1),e?(s=l=u(s),this.bindings=this.bindings.add(s)):(e=s,s=this.element,l=this.widget()),u.each(e,function(e,t){function n(){if(a||!0!==c.options.disabled&&!u(this).hasClass("ui-state-disabled"))return("string"==typeof t?c[t]:t).apply(c,arguments)}"string"!=typeof t&&(n.guid=t.guid=t.guid||n.guid||u.guid++);var i=e.match(/^(\w+)\s*(.*)$/),r=i[1]+c.eventNamespace,o=i[2];o?l.delegate(o,r,n):s.bind(r,n)})},_off:function(e,t){t=(t||"").split(" ").join(this.eventNamespace+" ")+this.eventNamespace,e.unbind(t).undelegate(t)},_delay:function(e,t){var n=this;return setTimeout(function(){return("string"==typeof e?n[e]:e).apply(n,arguments)},t||0)},_hoverable:function(e){this.hoverable=this.hoverable.add(e),this._on(e,{mouseenter:function(e){u(e.currentTarget).addClass("ui-state-hover")},mouseleave:function(e){u(e.currentTarget).removeClass("ui-state-hover")}})},_focusable:function(e){this.focusable=this.focusable.add(e),this._on(e,{focusin:function(e){u(e.currentTarget).addClass("ui-state-focus")},focusout:function(e){u(e.currentTarget).removeClass("ui-state-focus")}})},_trigger:function(e,t,n){var i,r,o=this.options[e];if(n=n||{},(t=u.Event(t)).type=(e===this.widgetEventPrefix?e:this.widgetEventPrefix+e).toLowerCase(),t.target=this.element[0],r=t.originalEvent)for(i in r)i in t||(t[i]=r[i]);return this.element.trigger(t,n),!(u.isFunction(o)&&!1===o.apply(this.element[0],[t].concat(n))||t.isDefaultPrevented())}},u.each({show:"fadeIn",hide:"fadeOut"},function(o,a){u.Widget.prototype["_"+o]=function(t,e,n){"string"==typeof e&&(e={effect:e});var i,r=e?!0!==e&&"number"!=typeof e&&e.effect||a:o;"number"==typeof(e=e||{})&&(e={duration:e}),i=!u.isEmptyObject(e),e.complete=n,e.delay&&t.delay(e.delay),i&&u.effects&&u.effects.effect[r]?t[o](e):r!==o&&t[r]?t[r](e.duration,e.easing,n):t.queue(function(e){u(this)[o](),n&&n.call(t[0]),e()})}})},function(e,t){
/*!
 * jQuery UI Mouse 1.10.3
 * http://jqueryui.com
 *
 * Copyright 2013 jQuery Foundation and other contributors
 * Released under the MIT license.
 * http://jquery.org/license
 *
 * http://api.jqueryui.com/mouse/
 *
 * Depends:
 *	jquery.ui.widget.js
 */
var r,o;r=jQuery,o=!1,r(document).mouseup(function(){o=!1}),r.widget("ui.mouse",{version:"1.10.3",options:{cancel:"input,textarea,button,select,option",distance:1,delay:0},_mouseInit:function(){var t=this;this.element.bind("mousedown."+this.widgetName,function(e){return t._mouseDown(e)}).bind("click."+this.widgetName,function(e){if(!0===r.data(e.target,t.widgetName+".preventClickEvent"))return r.removeData(e.target,t.widgetName+".preventClickEvent"),e.stopImmediatePropagation(),!1}),this.started=!1},_mouseDestroy:function(){this.element.unbind("."+this.widgetName),this._mouseMoveDelegate&&r(document).unbind("mousemove."+this.widgetName,this._mouseMoveDelegate).unbind("mouseup."+this.widgetName,this._mouseUpDelegate)},_mouseDown:function(e){if(!o){this._mouseStarted&&this._mouseUp(e),this._mouseDownEvent=e;var t=this,n=1===e.which,i=!("string"!=typeof this.options.cancel||!e.target.nodeName)&&r(e.target).closest(this.options.cancel).length;return n&&!i&&this._mouseCapture(e)?(this.mouseDelayMet=!this.options.delay,this.mouseDelayMet||(this._mouseDelayTimer=setTimeout(function(){t.mouseDelayMet=!0},this.options.delay)),this._mouseDistanceMet(e)&&this._mouseDelayMet(e)&&(this._mouseStarted=!1!==this._mouseStart(e),!this._mouseStarted)?(e.preventDefault(),!0):(!0===r.data(e.target,this.widgetName+".preventClickEvent")&&r.removeData(e.target,this.widgetName+".preventClickEvent"),this._mouseMoveDelegate=function(e){return t._mouseMove(e)},this._mouseUpDelegate=function(e){return t._mouseUp(e)},r(document).bind("mousemove."+this.widgetName,this._mouseMoveDelegate).bind("mouseup."+this.widgetName,this._mouseUpDelegate),e.preventDefault(),o=!0)):!0}},_mouseMove:function(e){return r.ui.ie&&(!document.documentMode||document.documentMode<9)&&!e.button?this._mouseUp(e):this._mouseStarted?(this._mouseDrag(e),e.preventDefault()):(this._mouseDistanceMet(e)&&this._mouseDelayMet(e)&&(this._mouseStarted=!1!==this._mouseStart(this._mouseDownEvent,e),this._mouseStarted?this._mouseDrag(e):this._mouseUp(e)),!this._mouseStarted)},_mouseUp:function(e){return r(document).unbind("mousemove."+this.widgetName,this._mouseMoveDelegate).unbind("mouseup."+this.widgetName,this._mouseUpDelegate),this._mouseStarted&&(this._mouseStarted=!1,e.target===this._mouseDownEvent.target&&r.data(e.target,this.widgetName+".preventClickEvent",!0),this._mouseStop(e)),!1},_mouseDistanceMet:function(e){return Math.max(Math.abs(this._mouseDownEvent.pageX-e.pageX),Math.abs(this._mouseDownEvent.pageY-e.pageY))>=this.options.distance},_mouseDelayMet:function(){return this.mouseDelayMet},_mouseStart:function(){},_mouseDrag:function(){},_mouseStop:function(){},_mouseCapture:function(){return!0}})},function(e,t){function n(e,t){var n,i;1<e.originalEvent.touches.length||(e.preventDefault(),n=e.originalEvent.changedTouches[0],(i=document.createEvent("MouseEvents")).initMouseEvent(t,!0,!0,window,1,n.screenX,n.screenY,n.clientX,n.clientY,!1,!1,!1,!1,0,null),e.target.dispatchEvent(i))}
/*!
 * jQuery UI Touch Punch 0.2.2
 *
 * Copyright 2011, Dave Furfero
 * Dual licensed under the MIT or GPL Version 2 licenses.
 *
 * Depends:
 *  jquery.ui.widget.js
 *  jquery.ui.mouse.js
 */
var i,r,o,a;(i=jQuery).support.touch="ontouchend"in document,i.support.touch&&(r=i.ui.mouse.prototype,o=r._mouseInit,r._touchStart=function(e){!a&&this._mouseCapture(e.originalEvent.changedTouches[0])&&(a=!0,this._touchMoved=!1,n(e,"mouseover"),n(e,"mousemove"),n(e,"mousedown"))},r._touchMove=function(e){a&&(this._touchMoved=!0,n(e,"mousemove"))},r._touchEnd=function(e){a&&(n(e,"mouseup"),n(e,"mouseout"),this._touchMoved||n(e,"click"),a=!1)},r._mouseInit=function(){var e=this;e.element.bind("touchstart",i.proxy(e,"_touchStart")).bind("touchmove",i.proxy(e,"_touchMove")).bind("touchend",i.proxy(e,"_touchEnd")),o.call(e)})},function(e,t){function Re(e){return(Re="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}!function(){var e,h=this;function t(){}function u(e){var t=Re(e);if("object"==t){if(!e)return"null";if(e instanceof Array||!(e instanceof Object)&&"[object Array]"==Object.prototype.toString.call(e)||"number"==typeof e.length&&void 0!==e.splice&&void 0!==e.propertyIsEnumerable&&!e.propertyIsEnumerable("splice"))return"array";if(!(e instanceof Object||"[object Function]"!=Object.prototype.toString.call(e)&&(void 0===e.call||void 0===e.propertyIsEnumerable||e.propertyIsEnumerable("call"))))return"function"}else if("function"==t&&void 0===e.call)return"object";return t}function i(e){var t=u(e);return"array"==t||"object"==t&&"number"==typeof e.length}function d(e){return e.hasOwnProperty&&e.hasOwnProperty(n)||e[n]||(e[n]=++r),e[n]}var n="closure_uid_"+Math.floor(2147483648*Math.random()).toString(36),r=0,p=Date.now||function(){return+new Date};function o(e,t){function n(){}n.prototype=t.prototype,e.L=t.prototype,e.prototype=new n}var a,s,l,c,f,m,g=Array.prototype,v=g.indexOf?function(e,t,n){return g.indexOf.call(e,t,n)}:function(e,t,n){if(n=null==n?0:n<0?Math.max(0,e.length+n):n,"string"==typeof e)return"string"!=typeof t||1!=t.length?-1:e.indexOf(t,n);for(;n<e.length;n++)if(n in e&&e[n]===t)return n;return-1},y=g.forEach?function(e,t,n){g.forEach.call(e,t,n)}:function(e,t,n){for(var i=e.length,r="string"==typeof e?e.split(""):e,o=0;o<i;o++)o in r&&t.call(n,r[o],o,e)};function b(e,t){for(var n=0,i=String(e).replace(/^[\s\xa0]+|[\s\xa0]+$/g,"").split("."),r=String(t).replace(/^[\s\xa0]+|[\s\xa0]+$/g,"").split("."),o=Math.max(i.length,r.length),a=0;0==n&&a<o;a++){var s=i[a]||"",l=r[a]||"",c=new RegExp("(\\d*)(\\D*)","g"),u=new RegExp("(\\d*)(\\D*)","g");do{var d=c.exec(s)||["","",""],f=u.exec(l)||["","",""];if(0==d[0].length&&0==f[0].length)break;n=w(0==d[1].length?0:parseInt(d[1],10),0==f[1].length?0:parseInt(f[1],10))||w(0==d[2].length,0==f[2].length)||w(d[2],f[2])}while(0==n)}return n}function w(e,t){return e<t?-1:t<e?1:0}function x(){return h.navigator?h.navigator.userAgent:null}m=f=c=l=!1,(a=x())&&(s=h.navigator,c=!(l=0==a.indexOf("Opera"))&&-1!=a.indexOf("MSIE"),f=!l&&-1!=a.indexOf("WebKit"),m=!l&&!f&&"Gecko"==s.product);var k,C,$,T,S=l,_=c,E=m,j=f,I=h.navigator,P=-1!=(I&&I.platform||"").indexOf("Mac"),D="";S&&h.opera?D="function"==typeof($=h.opera.version)?$():$:(E?C=/rv\:([^\);]+)(\)|;)/:_?C=/MSIE\s+([^\);]+)(\)|;)/:j&&(C=/WebKit\/(\S+)/),C&&(D=(T=C.exec(x()))?T[1]:"")),k=D;var M={};function N(e,t,n,i){if(i=i||e,t=t&&"*"!=t?t.toUpperCase():"",i.querySelectorAll&&(t||n)&&(!j||"CSS1Compat"==e.compatMode||M[528]||(M[528]=0<=b(k,"528"))))return i.querySelectorAll(t+(n?"."+n:""));if(n&&i.getElementsByClassName){if(e=i.getElementsByClassName(n),t){i={};for(var r,o=0,a=0;r=e[a];a++)t==r.nodeName&&(i[o++]=r);return i.length=o,i}return e}if(e=i.getElementsByTagName(t||"*"),n){for(i={},a=o=0;r=e[a];a++)"function"==typeof(t=r.className).split&&0<=v(t.split(/\s+/),n)&&(i[o++]=r);return i.length=o,i}return e}function O(e,t){var n=[];return function e(t,n,i,r){if(null!=t)for(var o,a=0;o=t.childNodes[a];a++){if(n(o)&&(i.push(o),r))return!0;if(e(o,n,i,r))return!0}return!1}(e,t,n,!1),n}function A(e){for(var t,n=new RegExp("(^|[\\(\\s\"-])'([\\s\\S]*?)'($|[\\)\\s\".,;:?!-])","g");e=(t=e).replace(n,"$1‘$2’$3"),t!=e;);for(var i=0,r=(t=[{g:"\\.\\.\\.",replace:"…"},{g:"'",replace:"’"},{g:'"($|[\\)\\s/.,;:?!\\u2019])',replace:"”$1"},{g:'(^|[\\(\\s-/\\u2018])"',replace:"$1“"},{g:"---",replace:"—"},{g:"--",replace:"–"},{g:" - ",replace:" – "}]).length;i<r;++i){var o=t[i],n=new RegExp(o.g,"g");e=e.replace(n,o.replace)}return e}function L(e,t){var n=(i=t||{}).uglyTags||[],i=i.uglyClass||"";if(null==e)return null;if(3==e.nodeType)e.data=A(e.data);else if(!(0<=v(n,e.nodeName.toLowerCase())||e.className&&e.className==i))for(n=e.childNodes,i=0;i<n.length;i++){var r=L(n[i],t),o=n[i],a=o.parentNode;a&&a.replaceChild(r,o)}return e}function F(){for(var e=N(document,null,"prettify",void 0),t={uglyTags:["code","kbd","pre","script"],uglyClass:"keepugly"},n=0;n<e.length;n++)L(e[n],t)}function R(){}function z(e,t){this.type=e,this.currentTarget=this.target=t}function H(e,t){e&&this.l(e,t)}function W(){}R.prototype.w=!1,R.prototype.k=function(){this.w||(this.w=!0,this.f())},R.prototype.f=function(){},o(z,R),z.prototype.f=function(){delete this.type,delete this.target,delete this.currentTarget},z.prototype.r=!1,z.prototype.T=!0,o(H,z),(e=H.prototype).target=null,e.relatedTarget=null,e.offsetX=0,e.offsetY=0,e.clientX=0,e.clientY=0,e.screenX=0,e.screenY=0,e.button=0,e.keyCode=0,e.charCode=0,e.ctrlKey=!1,e.altKey=!1,e.shiftKey=!1,e.metaKey=!1,e.S=!1,e.A=null,e.l=function(e,t){var n=this.type=e.type;this.target=e.target||e.srcElement,this.currentTarget=t;var i=e.relatedTarget;if(i){if(E)try{i=i.nodeName&&i}catch(e){i=null}}else"mouseover"==n?i=e.fromElement:"mouseout"==n&&(i=e.toElement);this.relatedTarget=i,this.offsetX=void 0!==e.offsetX?e.offsetX:e.layerX,this.offsetY=void 0!==e.offsetY?e.offsetY:e.layerY,this.clientX=void 0!==e.clientX?e.clientX:e.pageX,this.clientY=void 0!==e.clientY?e.clientY:e.pageY,this.screenX=e.screenX||0,this.screenY=e.screenY||0,this.button=e.button,this.keyCode=e.keyCode||0,this.charCode=e.charCode||("keypress"==n?e.keyCode:0),this.ctrlKey=e.ctrlKey,this.altKey=e.altKey,this.shiftKey=e.shiftKey,this.metaKey=e.metaKey,this.S=P?e.metaKey:e.ctrlKey,this.A=e,delete this.T,delete this.r},_&&(M[8]||(M[8]=0<=b(k,"8"))),H.prototype.f=function(){H.L.f.call(this),this.relatedTarget=this.currentTarget=this.target=this.A=null};var B,U=0;function q(e,t){if(this.G=t,this.d=[],e>this.G)throw Error("[goog.structs.SimplePool] Initial cannot be greater than max");for(var n=0;n<e;n++)this.d.push(this.j())}function Q(e){return e.d.length?e.d.pop():e.j()}function Y(e,t){e.d.length<e.G?e.d.push(t):e.p(t)}(e=W.prototype).key=0,e.i=!1,e.t=!1,e.l=function(e,t,n,i,r,o){if("function"==u(e))this.F=!0;else{if(!e||!e.handleEvent||"function"!=u(e.handleEvent))throw Error("Invalid listener argument");this.F=!1}this.m=e,this.J=t,this.src=n,this.type=i,this.capture=!!r,this.C=o,this.t=!1,this.key=++U,this.i=!1},e.handleEvent=function(e){return this.F?this.m.call(this.C||this.src,e):this.m.handleEvent.call(this.m,e)},o(q,R),q.prototype.c=null,q.prototype.v=null,q.prototype.j=function(){return this.c?this.c():{}},q.prototype.p=function(e){if(this.v)this.v(e);else if("function"==u(e.k))e.k();else for(var t in e)delete e[t]},q.prototype.f=function(){q.L.f.call(this);for(var e=this.d;e.length;)this.p(e.pop());delete this.d};var V,X,K,G,J,Z,ee,te,ne,ie,re,oe,ae,se,le,ce,ue,de,fe=(B="ScriptEngine"in h&&"JScript"==h.ScriptEngine())?h.ScriptEngineMajorVersion()+"."+h.ScriptEngineMinorVersion()+"."+h.ScriptEngineBuildVersion():"0";function he(){return{b:0,h:0}}function pe(){return[]}function me(){return function e(t){return oe.call(e.src,e.key,t)}}function ge(){return new W}function ve(){return new H}de=B&&!(0<=b(fe,"5.7")),Z=function(e){oe=e},de?(V=function(){return Q(ae)},X=function(e){Y(ae,e)},K=function(){return Q(se)},G=function(e){Y(se,e)},J=function(){return Q(le)},ee=function(){Y(le,me())},te=function(){return Q(ce)},ne=function(e){Y(ce,e)},ie=function(){return Q(ue)},re=function(e){Y(ue,e)},(ae=new q(0,600)).c=he,(se=new q(0,600)).c=pe,(le=new q(0,600)).c=me,(ce=new q(0,600)).c=ge,(ue=new q(0,600)).c=ve):(V=he,K=pe,J=me,te=ge,ie=ve,re=ne=ee=G=X=t);var ye={},be={},we={},xe={};function ke(e,t,n,i){if(!i.n&&i.H){for(var r,o=0,a=0;o<i.length;o++){i[o].i?((r=i[o].J).src=null,ee(r),ne(i[o])):(o!=a&&(i[a]=i[o]),a++)}i.length=a,i.H=!1,0==a&&(G(i),delete be[e][t][n],be[e][t].b--,0==be[e][t].b&&(X(be[e][t]),delete be[e][t],be[e].b--),0==be[e].b&&(X(be[e]),delete be[e]))}}function Ce(e){return e in xe?xe[e]:xe[e]="on"+e}function $e(e,t,n,i,r){var o=1;if(e[t=d(t)]){e.h--,(e=e[t]).n?e.n++:e.n=1;try{for(var a=e.length,s=0;s<a;s++){var l=e[s];l&&!l.i&&(o&=!1!==Te(l,r))}}finally{e.n--,ke(n,i,t,e)}}return Boolean(o)}function Te(e,t){var n,i,r,o,a,s,l,c,u=e.handleEvent(t);return e.t&&(n=e.key,ye[n]&&((i=ye[n]).i||(r=i.src,o=i.type,a=i.J,s=i.capture,r.removeEventListener?r!=h&&r.P||r.removeEventListener(o,a,s):r.detachEvent&&r.detachEvent(Ce(o),a),r=d(r),a=be[o][s][r],we[r]&&(l=we[r],0<=(c=v(l,i))&&g.splice.call(l,c,1),0==l.length&&delete we[r]),i.i=!0,a.H=!0,ke(o,s,r,a),delete ye[n]))),u}Z(function(e,t){if(!ye[e])return!0;var n,i,r,o=ye[e],a=o.type,s=be;if(!(a in s))return!0;if(s=s[a],_){if(!(r=t))e:{r="window.event".split(".");for(var l=h;n=r.shift();){if(!l[n]){r=null;break e}l=l[n]}r=l}if(n=r,r=!0 in s,l=!1 in s,r){if(n.keyCode<0||null!=n.returnValue)return!0;e:{var c=!1;if(0==n.keyCode)try{n.keyCode=-1;break e}catch(e){c=!0}!c&&null!=n.returnValue||(n.returnValue=!0)}}(c=ie()).l(n,this),n=!0;try{if(r){for(var u=K(),d=c.currentTarget;d;d=d.parentNode)u.push(d);(i=s[!0]).h=i.b;for(var f=u.length-1;!c.r&&0<=f&&i.h;f--)c.currentTarget=u[f],n&=$e(i,u[f],a,!0,c);if(l)for((i=s[!1]).h=i.b,f=0;!c.r&&f<u.length&&i.h;f++)c.currentTarget=u[f],n&=$e(i,u[f],a,!1,c)}else n=Te(o,c)}finally{u&&(u.length=0,G(u)),c.k(),re(c)}return n}a=new H(t,this);try{n=Te(o,a)}finally{a.k()}return n});var Se,_e="StopIteration"in h?h.StopIteration:Error("StopIteration");function Ee(){}function je(e,t,n){if(i(e))try{y(e,t,n)}catch(e){if(e!==_e)throw e}else{e=function(e){if(e instanceof Ee)return e;if("function"==typeof e.o)return e.o(!1);if(i(e)){var t=0,n=new Ee;return n.next=function(){for(;;){if(t>=e.length)throw _e;if(t in e)return e[t++];t++}},n}throw Error("Not implemented")}(e);try{for(;;)t.call(n,e.next(),void 0,e)}catch(e){if(e!==_e)throw e}}}function Ie(e){this.e={},this.a=[];var t,n=arguments.length;if(1<n){if(n%2)throw Error("Uneven number of arguments");for(var i=0;i<n;i+=2)Me(this,arguments[i],arguments[i+1])}else if(e){if(e instanceof Ie)for(i=Pe(e),De(e),t=[],n=0;n<e.a.length;n++)t.push(e.e[e.a[n]]);else{n=[];var r=0;for(i in e)n[r++]=i;for(t in i=n,n=[],r=0,e)n[r++]=e[t];t=n}for(n=0;n<i.length;n++)Me(this,i[n],t[n])}}function Pe(e){return De(e),e.a.concat()}function De(e){if(e.b!=e.a.length){for(var t=0,n=0;t<e.a.length;){var i=e.a[t];Object.prototype.hasOwnProperty.call(e.e,i)&&(e.a[n++]=i),t++}e.a.length=n}if(e.b!=e.a.length){for(var r={},n=t=0;t<e.a.length;)i=e.a[t],Object.prototype.hasOwnProperty.call(r,i)||(r[e.a[n++]=i]=1),t++;e.a.length=n}}function Me(e,t,n){Object.prototype.hasOwnProperty.call(e.e,t)||(e.b++,e.a.push(t),e.s++),e.e[t]=n}function Ne(){this.B=[],this.I=new Ie,this.Z=this.$=this.aa=this.U=0,this.K=new Ie,this.O=this.Y=0,this.R=1,this.Q=new q(0,4e3),this.Q.j=function(){return new Ae},this.V=new q(0,50),this.V.j=function(){return new Oe};var e=this;this.D=new q(0,2e3),this.D.j=function(){return String(e.R++)},this.D.p=function(){},this.ba=3}function Oe(){this.M=this.W=this.u=0}function Ae(){}function Le(e){return((e=Math.round(e))<10?"   ":e<100?"  ":e<1e3?" ":"")+e}function Fe(e){return e=Math.round(e),String(100+e/1e3%60).substring(1,3)+"."+String(1e3+e%1e3).substring(1,4)}for(Se in Ee.prototype.next=function(){throw _e},Ee.prototype.o=function(){return this},Ie.prototype.b=0,Ie.prototype.s=0,Ie.prototype.o=function(t){De(this);var n=0,i=this.a,r=this.e,o=this.s,a=this,e=new Ee;return e.next=function(){for(;;){if(o!=a.s)throw Error("The map has changed since the iterator was created");if(n>=i.length)throw _e;var e=i[n++];return t?e:r[e]}},e},Oe.prototype.toString=function(){var e=[];return e.push(this.type," ",this.u," (",Math.round(10*this.W)/10," ms)"),this.M&&e.push(" [VarAlloc = ",this.M,"]"),e.join("")},Ae.prototype.toString=function(){return null==this.type?this.N:"["+this.type+"] "+this.N},Ne.prototype.toString=function(){for(var e,t,n,i,r,o,a,s,l,c=[],u=-1,d=[],f=0;f<this.B.length;f++){var h=this.B[f];1==h.q&&d.pop(),c.push(" ",(e=h,t=this.U,n=u,i=d.join(""),r=void 0,r=[],-1==n?r.push("    "):r.push(Le(e.z-n)),r.push(" ",Fe(e.z-t)),0==e.q?r.push(" Start        "):1==e.q?(r.push(" Done "),r.push(Le(e.ca-e.startTime)," ms ")):r.push(" Comment      "),r.push(i,e),0<e.X&&r.push("[VarAlloc ",e.X,"] "),r.join(""))),u=h.z,c.push("\n"),0==h.q&&d.push("|  ")}for(0!=this.I.b&&(o=p(),c.push(" Unstopped timers:\n"),je(this.I,function(e){c.push("  ",e," (",o-e.startTime," ms, started at ",Fe(e.startTime),")\n")})),u=Pe(this.K),f=0;f<u.length;f++)a=this.K,s=u[f],l=void 0,1<(d=Object.prototype.hasOwnProperty.call(a.e,s)?a.e[s]:l).u&&c.push(" TOTAL ",d,"\n");return c.push("Total tracers created ",this.Y,"\n","Total comments created ",this.O,"\n","Overhead start: ",this.aa," ms\n","Overhead end: ",this.$," ms\n","Overhead comment: ",this.Z," ms\n"),c.join("")},new Ne,new q(0,100),window.jsprettify={prettify:F,prettifyHtml:L,prettifyStr:A,prettifyTextInputs:function(){for(var e=N(document,"textarea",void 0,void 0),t=0,n=e.length;t<n;++t){var i=e[t];i.value=A(i.value)}for(t=0,n=(e=N(document,"input",void 0,void 0)).length;t<n;++t)"text"==(i=e[t]).type&&(i.value=A(i.value));for(t=0,n=(e=O(document.body,function(e){return"true"==e.contentEditable})).length;t<n;++t)L(e[t])},run:function(){!function e(t,n,i,r,o){if(n){if("array"==u(n)){for(var a=0;a<n.length;a++)e(t,n[a],i,r,o);return}r=!!r;var s=be;n in s||(s[n]=V()),r in(s=s[n])||(s[r]=V(),s.b++),s=s[r];var l,c=d(t);if(s.h++,s[c]){for(l=s[c],a=0;a<l.length;a++)if((s=l[a]).m==i&&s.C==o){if(s.i)break;return l[a].key}}else l=s[c]=K(),s.b++;return(a=J()).src=t,(s=te()).l(i,a,t,n,r,o),i=s.key,a.key=i,l.push(s),ye[i]=s,we[c]||(we[c]=K()),we[c].push(s),t.addEventListener?t!=h&&t.P||t.addEventListener(n,a,r):t.attachEvent(Ce(n),a),i}throw Error("Invalid event type")}(window,"load",function(){F()})}},window.jsprettify)window[Se]=function(){alert("WARNING: this page is calling jsprettify in a deprecated manner. The correct, current way to call jsprettify is through window.jsprettify.*, not window.*. Sorry for the inconvenience."),window.jsprettify[Se]()};window.prettifyTextInputs=function(){alert("You appear to be using an out-of-date version of the jsprettify bookmarklet. It may go away at some point. Meanwhile, go to http://code.google.com/p/jsprettify/wiki/MakingInputsPretty to get the updated bookmarklet.")}}()},function(e,t){function l(e){return(l="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}var c=!1;$(document).on("submit","form.ajax-form-json",function(e){e.preventDefault();var i=$(this);return $.ajax({url:i.attr("action"),type:"POST",data:i.serialize(),traditional:!0,xhrFields:{withCredentials:!0},success:function(e,t,n){e.csrf&&(supermodelCSRF=e.csrf,$("input[name=__csrf]").val(e.csrf)),i.trigger("ajax-success",[e,t,n])},complete:function(e,t){i.trigger("ajax-complete",[e,t]),i.trigger("ajax-work-complete")},error:function(e,t,n){-1!=e.statusText.indexOf("0x805e0006")&&(n=["Letterboxd can’t communicate with the server.  This is usually caused by the AdBlock Plus add-on.<br />Try disabling AdBlock Plus for Letterboxd.com."]),i.trigger("ajax-error",[e,n])}}),!1}).on("ajax-success","form.ajax-form-json:not(.ajax-reload-on-success)",function(e,t,n,i){t.messages&&bxd.showMessages(t.result?"success":"error",t.messages)}).on("ajax-error","form.ajax-form-json",function(e,t,n){bxd.showMessages("error","An unexpected network error occurred.  Please try saving the form again.")}),$(document).on("click",".ajax-click-action",function(e){e.preventDefault();var t,n,i=$(this);return i.data("ajax-disabled")||((t=i.data("confirm"))?(n=i.data("modal-confirm"))?bxd.colorboxModalConfirm(t,n,function(){i.trigger("ajax-action")}):window.confirm(t)&&i.trigger("ajax-action"):i.trigger("ajax-action")),!1}),$(document).on("click",".ajax-form-post",function(e){e.preventDefault();var t,n,i=$(this);i.data("ajax-working")||(i.trigger("ajax-working"),t=i.data("action"),n=$("<form action='"+t+"' method='post'><input type='hidden' name='__csrf' value='"+supermodelCSRF+"'/></form>"),$("body").append(n),n.submit())}),$(document).on("ajax-action",".ajax-action,.ajax-click-action",function(){c=!1;var e,n,t,i,r,o,a,s=$(this);s.data("ajax-working")||(s.trigger("ajax-working"),"function"==typeof(e=s.data("action"))?e(function(e,t,n){s.trigger("ajax-success",[e,t,n])},function(e,t,n){s.trigger("ajax-error",[e,n])}):(n="function"==typeof s.data("ajax-data")?s.data("ajax-data")():s.data("data"),(t=function(e,t){"string"==typeof n?n+="&"+e+"="+t:"object"==l(n)?n[e]=t:n=e+"="+t})("__csrf",supermodelCSRF),i=s.data("data-type")||"json",r={url:e,data:n,type:s.data("ajax-request-type")||"POST",dataType:i,traditional:!0,xhrFields:{withCredentials:!0},success:function(e,t,n){"json"==i&&e.csrf&&(supermodelCSRF=e.csrf,$("input[name=__csrf]").val(e.csrf)),s.trigger("ajax-success",[e,t,n])},complete:function(e,t){s.trigger("ajax-complete",[e,t]),s.trigger("ajax-work-complete")},error:function(e,t,n){-1!=e.statusText.indexOf("0x805e0006")&&(n=["Letterboxd can’t communicate with the server.  This is usually caused by the AdBlock Plus add-on.<br />Try disabling AdBlock Plus for Letterboxd.com."]),s.trigger("ajax-error",[e,n])}},o=!person||!person.loggedIn||!person.trusted,(a=s.data("recaptcha-action"))&&o?bxd.loadRecaptcha(function(){grecaptcha.execute(window.gRecaptchaKey,{action:a}).then(function(e){t("gRecaptchaResponse",e),t("gRecaptchaAction",a),r.data=n,$.ajax(r)})}):$.ajax(r)))}).on("ajax-working",".ajax-action,.ajax-click-action,.ajax-form-post",function(e){var t=$(this);t.data("ajax-working",!0),t.addClass("ajax-disabled");var n=t.data("ajax-working-semaphore");n?n+=1:n=1,t.data("ajax-working-semaphore",n)}).on("ajax-work-complete",".ajax-action,.ajax-click-action",function(e){var t=$(this),n=t.data("ajax-working-semaphore");n&&1<n?--n:(n=0,t.removeClass("ajax-disabled")),t.data("ajax-working-semaphore",n),t.data("ajax-working",0<n),t.trigger("ajax-ready-for-next-action")}).on("ajax-error",".ajax-action, .ajax-click-action",function(e,t,n){var i;c||((i=$(this)).trigger("ajax-working"),bxd.showMessages("error","The server returned an error message ("+t.status+"). Please try again later.")),i.trigger("ajax-work-complete")}),$(document).on("ajax-success",".ajax-reload-on-success",function(e,t,n,i){t&&t.result&&location.reload()}),$(document).on("submit","form.ajax-no-submit",function(e){return e.preventDefault(),!1}),$(window).bind("beforeunload",function(e){c=!0})},function(e,t,n){"use strict";n.r(t);var i=n(2),s=n.n(i),r=n(4),o=n(6),a=n(31),l=window.jQuery,c=o.b.createContext(function(e,t,n){this.$el=l(t),this._hasMeta=!!n.hasMeta,this._hasBio=!!n.hasBio,this._isLoggedIn=!!n.isLoggedIn,this.$followButtonWrapper=this.$el.find(".js-follow-button-wrapper"),this.$profileName=this.$el.find(".js-profile-name"),this.$profileInfo=this.$el.find(".js-profile-info"),this.$stats=this.$el.find(".js-profile-stats"),this.$metaData=this.$el.find(".js-profile-metadata"),this.$bio=this.$el.find(".js-bio"),this._onWindowResize=this._updateLayout.bind(this),this.on(o.a.WAKE,function(){this.$bio.on("revealed",this._onWindowResize),window.addEventListener("resize",this._onWindowResize),this._updateLayout(),this.$el.removeClass("-pending")}),this.on(o.a.SUSPEND,function(){this.$bio.off("revealed",this._onWindowResize),window.removeEventListener("resize",this._onWindowResize),this._resetLayout()})}),u=c.prototype;u._updateLayout=function(){if(!this._hasBio||this._hasMeta){this._resetLayout();var e=this.$stats[0].getBoundingClientRect();if(this._hasBio){var t=this.$bio.find(".js-bio-content"),n=t[0].getBoundingClientRect(),i=parseFloat(t.css("line-height"));if(n.height>i)return}var r,o,a,s={};this._hasMeta?(this.$metaData.css({maxWidth:this.$profileInfo.width()-e.width}),(r=this.$metaData[0].getBoundingClientRect()).height<e.height&&(o=this.$metaData.find(".js-metadatum").first().height(),this._isLoggedIn?s.marginTop=(o-r.height)/2:(a=this.$profileName[0].getBoundingClientRect(),s.marginTop=r.height-o-a.height-3))):s.marginTop=this.$profileName[0].offsetTop-(this.$stats[0].offsetTop-2),this.$profileName.css({paddingRight:e.width}),this.$stats.css(s)}},u._resetLayout=function(){this.$profileName.css({paddingRight:""}),this.$metaData.css({maxWidth:""}),this.$stats.css({marginTop:""})};window.jQuery;var f="profile-summary";function h(e,t){this.$el=e,this.options=s()({},this._DEFAULTS,t,Object(r.a)(this.$el,f));var n={};n.desktop=c,a.a.apply(this,[o.b,n,this.$el[0],this.options]),this._initAvatarZoom()}var d=h.prototype=Object.create({constructor:{value:h}});function p(e){return(p="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}d._DEFAULTS={},d._initAvatarZoom=function(){var e=s()({},{inline:!0,fixed:!0,overlayClose:!0,href:"#avatar-large",className:"-avatar"},renderMobile?{width:"100%",initialWidth:"288px",initialHeight:"288px",transition:"fade"}:{});this.$el.find("#avatar-zoom").colorbox(e)},"undefined"==typeof PubSub&&(window.PubSub={publish:function(){},subscribe:function(){}}),window.Bxd=function(){var n=$(".js-header-signin-form"),t=$("#search"),i=$("#search #search-q"),e=$("#list-items"),u=($("html"),$("body")),d=$("#tabbed-content"),r={$el:$(".js-page-footer")},o=(navigator.userAgent.indexOf("Android"),{menu:{added:!1,open:!1},login:{open:!1},search:{open:!1}}),a=[];return{init:function(){var e,t,n,i,r;$("body").hasClass("js-pattern-library")||(person.loggedIn?$("body").addClass("logged-in"):$("body").addClass("logged-out")),$.fn.localtime&&$.localtime.setFormat({"localtime-mmm-dd":"MMM dd","localtime-dd-mmm-yyyy":"dd MMM, yyyy","localtime-mmm-d-yyyy":"MMM d, yyyy"}),bxd.ratingChartLayout={chart:{renderTo:"",type:"column",backgroundColor:null,margin:0,borderRadius:0},title:{floating:!0,text:""},exporting:{enabled:!1},xAxis:{lineColor:"#456",minPadding:0,maxPadding:0,categories:["0.5","1","1.5","2","2.5","3","3.5","4","4.5","5"],labels:{enabled:!1}},credits:{enabled:!1},legend:{enabled:!1},yAxis:{min:0,tickInterval:1,title:{enabled:!1},gridLineColor:null,labels:{enabled:!1}},colors:["#456"],tooltip:{backgroundColor:"rgba(0,0,0,0.8)",borderColor:"#9AB",useHTML:!0,formatter:function(){return'<p style="color:#9ab;font-size:11px;text-align:center;margin:0;padding:5px 7px 0;"><span class="rating rating-large rated-large-'+2*this.x+'">'+this.x+'</span><br/><strong style="color:#fff;font-weight:normal;font-size:14px;">'+this.y+(1===this.y?" person":" people")+"</strong></p>"}},plotOptions:{column:{pointWidth:63,pointPadding:.4,borderWidth:0,borderColor:"#456",shadow:!1,minPointLength:2,animation:!1,point:{events:{mouseOver:function(){var e=this;setTimeout(function(){e.graphic.attr("fill","#6c3"),e.graphic.attr("stroke","#6c3")},1)},mouseOut:function(){var e=this;setTimeout(function(){e.graphic.attr("fill","#456"),e.graphic.attr("stroke","#456")},1)}}}}},series:[{data:[]}]},bxd.barChartMaxY=function(e,t){for(var n=0,i=0;i<e.length;i++)y=t?t(e[i]):e[i],y>n&&(n=y);return n},bxd.layout(u),bxd.showHideSignin(),u.find(".js-show-if-following").hide(),u.hasClass("films-page")&&bxd.filmsPage(),u.hasClass("film")&&bxd.filmPage(),u.hasClass("view")&&bxd.reviewPage(),u.hasClass("backdropped")&&(e=5e3,u.hasClass("js-instant-backdrop")&&(e=0),setTimeout(function(){$("body").hasClass("backdrop-loaded")||bxd.setupBackdrop()},e)),u.hasClass("person-yir")&&(t=$(".js-inline-backdrop"),bxd.loadBackdrop(t)),u.hasClass("lists-page")&&bxd.listsPage(),u.hasClass("profile")&&(n=$("#backdrop"),bxd.loadBackdrop(n),bxd.profilePage()),u.hasClass("diary")&&bxd.diaryPage(),u.hasClass("editorial")&&bxd.editorialPage(),u.hasClass("search-results")&&bxd.searchResultsPage(),u.hasClass("list-page")&&0<$("#content-nav .list-date").length&&(window.isTouchOnly||0<$("#content-nav p.list-date span.is-updated").length&&$("#content-nav p.list-date").hover(function(){$(this).children(".updated,.published").toggle()},function(){$(this).children(".updated,.published").toggle()})),0<u.find("#services-menu li.extended-services-title span").length&&u.find("#services-menu li.availability-primevideosubscription").insertAfter(u.find("#services-menu li.extended-services-title")),d.length&&(renderMobile&&d.hasClass("mob-no-tabs")||bxd.tabbedContent()),u.find("a.ellipsis, h3.ellipsis").each(function(){$(this).ellipsis()}),renderMobile||(0<(i=u.find(".js-widont,.headline-1,#tab-synopsis h4,#content div.body-text.-hero p,.secondary-heading a, h4.tagline").not(".person-summary .title-4").not(".-allow-widow")).length&&i.clwidont(),0<(r=u.find("ul.equalize li.poster-container, ul.equalize li.film-list-group")).length&&r.clequalize("height",4));var o=u.find("#content-nav .select ul");o.length&&o.hoverIntent(function(){$(this).addClass("hover")},function(){$(this).removeClass("hover")}),window.isTouchOnly&&u.find("#content-nav .select ul li.has-icon").click(function(){$(this).parent().toggleClass("hover")}),u.find("#featured-film-header").each(function(){var e=$(this).find("p");e.width()>=$(this).width()&&e.addClass("ellipsis")}),u.bind("reloaded",function(e){bxd.layout($(e.target))});var a,s=$("#frm-film-search");function l(e,t,n){e.preventDefault();var i=$(e.target).attr("href");window.open(i,"","menubar=0,location=0,toolbar=0,width="+t+",height="+n+",top=100,left=150")}s.length&&(s.autocomplete(s.data("url"),$.extend({},bxd.autocompleteConfig,{width:228})).result(function(e,t,n){location.href=t.url}),$("body").click(function(e){eventIsInsideElement(e,$("#find-film"))||eventIsInsideElement(e,$(".ac_results"))||setTimeout(function(){s.trigger("close")},300)}),$(window).resize(function(){s.trigger("close")})),$(".js-search-form").submit(function(e){e.preventDefault();var t=$(this).find("input[name=q]");return""===t.val()?t.focus():location.href=$(this).attr("action")+encodeURIComponent(t.val().trim().replace(/[\/\\]+/g," ")).replace(/%20/g,"+")+"/",!1}),$("#header").on("click",".js-nav-search-toggle a",function(e){e.preventDefault(),bxd.toggleSearch(!0)}),renderMobile||(u.find("header a.button-add").length?u.hasClass("search-results")&&bxd.toggleSearch(!1):(bxd.toggleSearch(!1),$("#header .js-nav-search-toggle").remove())),u.on("click",".js-allowed-html a",function(e){e.preventDefault(),$(this).next(".js-allowed-html-tags").show().end().hide()}),$(document).on("click","a.reveal, a.js-reveal",function(e){e.preventDefault(),$(this).hide();var t=$(this).closest(".collapsible-text"),n=t.data("full-text-url");n.startsWith("#")?(t.hide(),$(n).show(),bxd.revealCallback(this)):t.load(n,function(){bxd.revealCallback(this)})}),$(document).on("click","a.js-expand-container",function(e){e.preventDefault();var t=$("#"+$(this).data("container-id"));t.toggleClass("js-open"),$(this).text(t.hasClass("js-open")?"Close":"All")}),u.find(".truncate").each(function(){var e=$(this),t=e.data("truncate");e.condense({condensedLength:t,moreText:"&hellip;more",lessText:"&times;",ellipsis:"",moreSpeed:0,lessSpeed:0})}),$("body.editorial section.editorial-content h1:not(:first)").before("<div class='hr'><hr /></div>"),$("body.editorial section.tweets h1").append("<span></span>"),$("#more-directors").click(function(){$("#directors").trigger("click")}),$("div.film-list-summary .text[data-more]").each(function(){var e=' <a href="'+$(this).data("more")+'">more</a>';$(this).children("p:last-child").append(e)}),renderMobile||bxd.fixPosterSidebar(),window.isTouchOnly?renderMobile?($("#share-off").remove(),$("#share-on").show().find("input").removeAttr("readonly")):$(document).on("click","#share-off a",function(e){e.preventDefault(),$("#share-off,#share-on").toggle()}):(a=null,$(document).on("mouseover",".panel-share",function(){null!==a?clearTimeout(a):$("#share-off,#share-on").toggle()}).on("mouseout",".panel-share",function(){a=setTimeout(function(){a=null,$("#share-off,#share-on").toggle()},1e3)})),$(document).on("click",".tw-popup",function(e){l(e,640,480)}),$(document).on("click",".fb-popup",function(e){l(e,400,300)}),$(".js-glitchy").length&&.404<Math.random()&&setTimeout(function(){$(".js-glitchy").fadeIn(),u.on("click",".js-glitchy",function(e){e.preventDefault(),$(window).scrollTo(0,250);$("body").prepend("<iframe id='houston_frame' scrolling='no' src='"+$(this).data("url")+"' style='position:fixed;top:0;left:0;width:100%;height:100%;z-index:1337;overflow:hidden !important;'><\/script>"),setTimeout(function(){window.location.href="https://hackertyperclone.herokuapp.com"},1e4)})},5e3),$(document).on("focus",".panel-share input[type=text]",function(){var e=$(this);setTimeout(function(){e.select()},10)});var c=u.find("#comment-form textarea");c.length&&c.autogrow(),renderMobile&&bxd.mobileSetup(),$("a.mobile-site-switch").click(function(e){e.preventDefault(),$.cookie("useMobileSite",$(this).data("use-mobile-site"),{expires:365,path:"/"}),$.cookie("useMobileSite")?window.location.reload(!0):alert("Sorry, you’ll need to enable cookies to access the mobile version of Letterboxd.")}),$(".js-button-follow:visible").length&&$("body > footer.page-footer p.copyright span.recap").show(),renderMobile||disableAds||!person.showAds||$("#page-footer").addClass("-bottomrail"),bxd.profileHeader()},autocompleteConfig:{mustmatch:!0,scroll:!0,highlight:!1,selectFirst:!0,max:100,width:renderMobile?258:578,scrollHeight:window.isTouchOnly?1e4:180,postInitCallback:function(e){e.append("<div class='autocomplete-not-found'>Film not here? <a href='"+baseURL+"/about/film-data/' target='_blank'>Find out how to add it.</a></div>")},beforeSend:function(e){e.addClass("loading")},afterSend:function(e){e.removeClass("loading")},error:function(e){e.removeClass("loading")},formatItem:function(e){var t=e.name,n=e.originalName&&0<e.originalName.length&&e.originalName!=e.name;return(e.releaseYear||n)&&(t+=" (",e.releaseYear&&(t+=e.releaseYear,n&&(t+=", ")),n&&(t+=e.originalName),t+=")"),e.directors&&0<e.directors.length&&(t=t+" <span class='directors'>"+e.directors[0].name,1<e.directors.length&&(t=t+", "+e.directors[1].name),2<e.directors.length&&(t+=", et al."),t+="</span>"),t},formatResult:function(e,t,n,i,r){return r},handleNoResults:!0,formatNoResultsMessage:function(e){return"No films matching '"+$("<div></div>").text(e).html().trim()+"'."}},loadRecaptcha:function(e){var t;"undefined"==typeof grecaptcha?(window.recaptchaCallback=e,t=$('<script src="https://www.google.com/recaptcha/api.js?onload=recaptchaCallback&render='.concat(window.gRecaptchaKey,'" async defer><\/script>')),$("body").append(t)):grecaptcha.ready(e)},renderRecaptcha:function(){bxd.loadRecaptcha(function(){var e={sitekey:$("#recaptcha_el").data("key"),theme:"dark",callback:function(){$(".create-account-menu a, a.create-account-link").colorbox.resize()}};renderMobile&&(e.size="compact"),grecaptcha.render("recaptcha_el",e),$(".create-account-menu a, a.create-account-link").colorbox.resize()})},initUsernameChecker:function(){var i=null;function r(e,t){function n(e,t){var n;"username-check"===e?(n=$("<p class='username-checking'>"+t+"</p>")).lbSpinner({size:12,insertion:"prepend",element:"span"}):(n=$("<p class='"+e+" has-icon'>"+t+"</p>"),bxd.layout(n)),$("#check").html(n)}i&&clearTimeout(i),"username-check"===e?n(e,t):i=setTimeout(function(){n(e,t)},1e3)}$("#frm-reg-username").autocomplete($("#check").data("check-url"),{showAsDropDown:!1,dataType:"json",parse:function(){return[]},valueTooShort:function(){r("ajax-error","Too short")},beforeSend:function(){r("username-check","Checking...")},error:function(e,t,n,i){r("ajax-error",i+"("+n+")")},keyPress:function(){$("#check p").remove()},afterSend:function(e,t){"AVAILABLE"===t.result?r("username-available","Available"):"INVALID"===t.result?r("ajax-error","Use only a-z, 0-9 or underscore"):"ILLEGAL"===t.result?r("ajax-error","Unavailable"):"TOO_SHORT"===t.result||"MISSING"===t.result?r("ajax-error","Too short"):"TOO_LONG"===t.result?r("ajax-error","Too long!"):"YOU"===t.result?$("#check").html(""):r("username-taken","Taken")}})},addToWatchlist:function(e){$("a.remove-from-watchlist[data-film-id="+e+"]").closest("li").removeClass("hidden"),$("a.add-to-watchlist[data-film-id="+e+"]").closest("li").addClass("hidden"),$(".poster[data-film-id="+e+"], .film-poster-"+e+", .film-cell-"+e).data("film-in-watchlist",!0).attr("data-film-in-watchlist",!0).removeClass("removed-from-watchlist")},removeFromWatchlist:function(e){$("a.remove-from-watchlist[data-film-id="+e+"]").closest("li").addClass("hidden"),$("a.add-to-watchlist[data-film-id="+e+"]").closest("li").removeClass("hidden"),$(".poster[data-film-id="+e+"], .film-poster-"+e+", .film-cell-"+e).data("film-in-watchlist",!1).attr("data-film-in-watchlist",!1).addClass("removed-from-watchlist")},setAsWatched:function(e,t){var n,i=$(".film-poster-"+e),r=$("body").hasClass("diary")?$(".film-cell-"+e):i.filter("[data-mark-as-watched-action]").first(),o=i.parent(".poster-container,.td-film-details,li.film-detail"),a=t?"film-watched":"film-not-watched",s=t?"film-not-watched":"film-watched";0<o.length?o.hasClass("td-film-details")?o.closest("tr").addClass(a).removeClass(s):o.addClass(a).removeClass(s):i.addClass(a).removeClass(s);var l=$(".film-watch-link-target[data-film-id="+e+"]"),c=t?(n='<span class="film-watch-link"><span class="has-icon icon-16 icon-watched ajax-click-action" data-action="'+r.data("mark-as-not-watched-action")+'"><span class="replace icon"></span><span class="watched-text">You’ve seen this</span></span></span>','<span class="film-watch-link -large -watched"><span class="action -watch -on ajax-click-action" data-action="'+r.data("mark-as-not-watched-action")+'">Watched</span></span>'):(n='<span class="film-watch-link"><span class="has-icon icon-16 icon-watch ajax-click-action" data-action="'+r.data("mark-as-watched-action")+'"><span class="replace icon"></span>Seen this film?</span></span>','<span class="film-watch-link -large"><span class="action -watch ajax-click-action" data-action="'+r.data("mark-as-watched-action")+'">Watch</span></span>');l.each(function(){0<$(this).closest(".js-actions-panel").length?$(this).html(c):$(this).html(n)}),t&&($(".contains-spoilers[data-film-id="+e+"] .reveal").hide(),$(".contains-spoilers[data-film-id="+e+"] .js-reveal").hide(),$(".hidden-spoilers[data-film-id="+e+"]").show())},pluralise:function(e,t,n,i){return 1===e?e+" "+t:0===e&&i?i:(n=n||t+"s",bxd.formatNumber(e)+" "+n)},formatNumber:function(e,t,n){var i=(""+e).split("."),r=i[0],o=1<i.length&&0<parseInt(i[1],10)?"."+i[1]:"";if(t&&0<t)for(0===o.length&&(o=".0");o.length<t+1;)o+="0";if(n&&0<n&&""!==o)for(;o.length<n+1;)o+="0";for(var a=/(\d+)(\d{3})/;a.test(r);)r=r.replace(a,"$1,$2");return r+o},postForm:function(e){var t=$("<form action='"+e+"' method='post'><input type='hidden' name='__csrf' value='"+supermodelCSRF+"'/></form>");$("body").append(t),t.submit()},colorboxModalConfirm:function(e,t,n,i){var r=$('<div style="display:none;"></div>');"object"!==p(t)&&(t={}),"string"!=typeof t.title&&(t.title="Please confirm"),"string"!=typeof t.ok&&(t.ok="Okay"),"string"!=typeof t.okClass&&(t.okClass=""),"string"!=typeof t.cancel&&(t.cancel="Cancel");var o=$("<div id='confirm-modal' class='modal confirm'><article class='fields-reversed'><h1>"+t.title+"</h1><p class='body-text -hero'>"+e+"</p><div class='row buttons'></div></article></div>");r.append(o),o.find(".buttons").append($('<a class="modal-ok button -destructive right '+t.okClass+'" href="#">'+t.ok+"</a>")).append($('<a class="modal-cancel button right" href="#">'+t.cancel+"</a>")),o.on("click",".modal-cancel",function(e){e.preventDefault(),r.colorbox.close(),i&&i()}),o.on("click",".modal-ok",function(e){e.preventDefault(),r.colorbox.close(),n&&n()});var a={inline:!0,fixed:!0,overlayClose:!0,onClosed:function(){r.remove()},href:".confirm"};renderMobile&&(a.width="100%",a.initialWidth="288px",a.initialHeight="200px",a.speed=0),$("body").append(r),r.colorbox(a).trigger("click")},loadReallyLazyPosters:function(e){e.each(function(){var i=$(this);i.removeClass("really-lazy-load");var r=i.data("film-slug"),o=i.data("image-width"),a=i.data("image-height"),e=i.data("linked"),t=i.data("list-index"),n=i.data("menu"),s=i.data("target-link"),l=i.data("target-link-target"),c=baseURL+"/ajax/poster"+r+n+"/"+e+"/"+o+"x"+a+(i.is("li")?"/list-item/":"/");t&&(c=c+t+"/"),$.ajax({url:c,success:function(e){var t=$(e),n=t.find("img").attr("srcset");t.attr("data-target-link",s),t.attr("data-target-link-target",l),i.hasClass("react-component")?i.removeClass("really-lazy-load").find("img").attr("src",t.find("img").attr("src")).attr("srcset",n):(t.insertAfter(i),t.data("film-slug",r).data("image-width",o).data("image-height",a),i.remove(),bxd.layout(t))}})})},layout:function(e){window.componentFailed&&(window.componentFailed=!1,bxd.componentFailed()),PubSub.publish("csi"),PubSub.publish("really-lazy-load"),e.find(".hide-for-owner[data-owner="+person.username+"]").remove(),person.loggedIn?(e.find(".hide-when-logged-in").remove(),e.find(".show-when-logged-in").removeClass("show-when-logged-in").addClass("shown-when-logged-in"),e.find(".show-when-logged-out").remove(),e.find(".hide-when-logged-out").removeClass("hide-when-logged-out"),e.find(".show-for-owner[data-owner="+person.username+"]").removeClass("show-for-owner").addClass("shown-for-owner"),e.find(".link-if-member").each(function(){var e=$(this).data("href").replace("{username}",person.username),t=$("<a href='"+e+"' target='_blank'></a>");t.html($(this).html()),$(this).replaceWith(t)}),person.canUpgradeToPro&&e.find(".show-if-can-upgrade-to-pro").removeClass("show-if-can-upgrade-to-pro").addClass("shown-because-can-upgrade-to-pro"),"pro"===person.role&&e.find(".show-for-pro").removeClass("show-for-patron show-for-pro show-for-staff").addClass("shown-for-pro"),"patron"===person.role&&e.find(".show-for-patron").removeClass("show-for-patron show-for-pro show-for-staff").addClass("shown-for-patron"),"staff"===person.role&&e.find(".show-for-staff").removeClass("show-for-patron show-for-pro show-for-staff").addClass("shown-for-staff")):(e.find(".hide-when-logged-out").remove(),e.find(".show-when-logged-out").removeClass("show-when-logged-out").addClass("shown-when-logged-out"),e.find(".show-when-logged-in").remove(),e.find(".hide-when-logged-in").removeClass("hide-when-logged-in"),e.find(".link-if-member").each(function(){$(this).replaceWith($(this).wrapInner("<strong>"))})),e.find(".show-for-owner").remove();var t=e.hasClass("react-component")?e:e.find(".react-component");0<t.length&&(PubSub.publish("letterboxd-metadata",{reset:!0}),t.react()),e.find(".has-icon").add(e.filter(".has-icon")).not(e.find(".has-icon:has(> span.icon)")).prepend('<span class="icon"></span>'),e.find(".has-fade").add(e.filter(".has-fade")).not(e.find(".has-fade:has(> span.fadeout)")).each(function(){renderMobile||$(this).prepend('<span class="fadeout"></span>')}),e.find(".replace-if-you[data-person="+person.username+"]").each(function(){$(this).html($(this).data("replacement"))}),e.find(".poster-viewingdata").each(function(){var e=0;$(this).children().each(function(){e+=$(this).outerWidth(!0)}),150<e&&$(this).children("time").hide()}),e.find(".collapsed-text").each(function(){$(this).children().last().append(' <a href="#" class="reveal js-reveal">more</a>')}),!disableAds&&person.showAds||$(".pw-in-article-ads").remove(),window.isTouchOnly||renderMobile||(e.find("a.avatar").twipsy({delayIn:500,offset:1}),e.find(".tooltip").twipsy({delayIn:200,offset:1}).filter(".tooltip-close-on-click").on("click",function(){$(this).twipsy().hide()}),e.find("li.comment-collapsed .icon").twipsy({delayIn:200,offset:1,title:function(){return"Show hidden comments"}}));var n=e.find("time.timeago");0<n.length&&n.each(function(){var e=$(this);e.hasClass("-longform")?e.timeago({strings:{suffixAgo:"ago",suffixFromNow:"",seconds:"seconds",minute:"1 minute",minutes:"%d minutes",hour:"1 hour",hours:"%d hours",day:"1 day",days:"%d days",month:"1 month",months:"%d months",year:"1 year",years:"%d years"}}).addClass("timeago-complete").removeClass("timeago-pending"):e.timeago({strings:{suffixAgo:"",suffixFromNow:"",seconds:"just now",minute:"1m",minutes:"%dm",hour:"1h",hours:"%dh",day:"1d",days:"%dd",month:"1mo",months:"%dmo",year:"1y",years:"%dy"}}).addClass("timeago-complete").removeClass("timeago-pending")}),$.fn.localtime&&e.localtime(),person&&person.loggedIn&&person.hasExtendedServiceFilters?(e.find(".hide-if-can-filter-all-services").remove(),e.find(".show-if-can-filter-all-services").show()):(e.find(".can-filter-all-services a").each(function(){$(this).attr("href",$(this).closest(".smenu-menu").data("upgrade-url"))}),e.find(".js-watch-panel").each(function(){$(this).find(".show-if-can-filter-all-services").remove();var e=$(this).find(".js-watch-amazon-label"),t=e.parent().find(".link").eq(0).attr("href");"undefined"!==t&&e.attr("href",t)})),isMobile&&(e.find("#mobile-availability-dest").append($("#mobile-availability-source")),e.find("#mobile-availability-source").show());var i=e.find(".js-watch-panel"),r=i.find(".service:not(.js-expand-services)");0===i.find(".js-film-availability-link").length&&0===i.find(".js-watch-panel-trailer").length?i.remove():0===i.find("#watch").length&&0!==i.find(".js-watch-panel-trailer").length&&(i.find(".header h3").remove(),i.find(".trailer-link").addClass("-noavail")),r.each(function(){0===$(this).children().length&&$(this).addClass("-empty")});var o,a,s,l,c,u,d,f=r.length;5<f?(o=f-5+1,i.find(".js-expand-services span.name").text("Show "+o+" more"),i.find(".js-expand-services").show()):5===f&&$("#watch .services").addClass("-showall"),person&&person.loggedIn?(e.find("input[name=__csrf]").val(supermodelCSRF),e.find("td.film-actions, .rateit").each(function(){var e=$(this).data("film-id");PubSub.publish("letterboxd-metadata",{poster:e})}),e.find(".follow-button-wrapper").not("[disable-js]").each(function(){var e=$(this).attr("data-username");e&&(e===person.username?$(this).data("profile")?($(this).css("visibility","visible").html('<a href="'+baseURL+'/settings/" class="button -small" rel="nofollow">Edit Profile</a>'),bxd.layout($(this))):$(this).remove():(PubSub.publish("letterboxd-metadata",{follows:e}),0<$(this).find(".follows-message").length&&PubSub.publish("letterboxd-metadata",{followers:e})))}),tagAutocompleter.initialise(),$.fn.colorbox&&(a={inline:!0,overlayClose:!1,href:"#add-to-a-list-modal",onOpen:function(){$("#add-to-a-list-modal").show()}},renderMobile&&(a.width="100%",a.initialWidth="288px",a.initialHeight="200px",a.transition="fade",a.speed=0),e.find("#add-to-a-list").colorbox(a),s={inline:!0,escKey:!1,overlayClose:!1,href:"#modal",onOpen:function(){var n=$(this);$("#diary-entry-form-heading").text("Edit diary entry"),$("#diary-entry-submit-button").prop("value","Save"),$("#diary-entry-delete-button").data("action",function(e,t){e(),bxd.postForm(n.data("delete-viewing-url"))}),$("#diary-entry-delete-button").show(),$("#back-to-film-search").hide(),showReviewForm(n.data("viewing-id"),n.data("film-id"),n.attr("data-film-name"),n.data("film-poster"),n.data("film-year"),n.attr("data-viewing-date"),n.attr("data-viewing-date-str"),n.attr("data-review-text"),n.data("rating"),n.data("tags"),n.data("rewatch"),n.data("containsSpoilers"),n.data("specifiedDate"))},onClosed:function(){$("#diary-entry-form").protectUnsavedChanges({reset:!0}),$("#add-film").removeClass("expanded").addClass("not-expanded"),$("#add-film .standard-messages").remove(),$("#modal").removeClass("wide"),$("#add-new-button").colorbox.resize({innerWidth:"800px"}),$("#diary-entry-delete-button").hide(),$("#frm-film-name").trigger("close")}},renderMobile&&(s.width="100%",s.initialWidth="288px",s.initialHeight="200px",s.transition="fade",s.speed=0),e.find(".edit-review-button").colorbox(s),(l=e.find(".report-link")).length&&(c={href:function(){return $(this).data("report-url")},fixed:!0,onComplete:function(){var n=$(this);$("#report-modal article").css({paddingBottom:0}),$("#report-modal form").addClass("ajax-form-json").on("ajax-success",function(e,t){t.result&&n.colorbox.close()}).on("ajax-complete",function(e,t){$("#report-modal .btn-loading").removeClass("btn-loading")}),bxd.layout($("#report-modal"))}},isMobile&&(c.width="100%",c.initialWidth="288px",c.initialHeight="100px",c.transition="fade",c.speed=0),l.colorbox(c)),(u=e.find(".redact-link")).length&&(d={href:function(){return $(this).data("redact-url")},fixed:!0,onComplete:function(){var n=$(this);$("#redact-modal article").css({paddingBottom:0}),$("#redact-modal form").addClass("ajax-form-json").addClass("ajax-reload-on-success").on("ajax-success",function(e,t){t.result&&n.colorbox.close()}).on("ajax-complete",function(e,t){$("#redact-modal .btn-loading").removeClass("btn-loading")}),bxd.layout($("#redact-modal"))}},isMobile&&(d.width="100%",d.initialWidth="288px",d.initialHeight="100px",d.transition="fade",d.speed=0),u.colorbox(d))),e.find("div.rateit").not("[disable-js]").each(function(){var t=$(this);function e(){var e=t.parent().find(".rating-text");0===parseInt(t.rateit("value"),10)?e.text(""):e.text(.5*t.rateit("value")+" out of 5"),function(){{var e;!t.data("rateit-resetable")||(e=t.find(".rateit-reset")).length&&(0===parseInt(t.rateit("value"),10)?e.hide():e.show())}}()}$(this).rateit().bind("rated",e).bind("update-display",e).bind("reset",e),e()}),e.find("#frm-sidebar-rating").trigger("init-sidebar-rating"),e.find(".block-or-report-menu").each(function(){PubSub.publish("letterboxd-metadata",{follows:$(this).data("username")})}),e.find(".link-block").data("modal-confirm",{ok:"Block",okClass:"-red"}),e.find(".block-or-report-flag.popmenu-link").popmenu()):(e.find(".follow-button-wrapper").not("[disable-js]").remove(),e.find("a.signin-text-link").click(function(e){e.preventDefault(),0===$("body").prop("scrollTop")?$("#header .sign-in-menu a").trigger("click"):$("body").animate({scrollTop:0},500,function(){$("#header .sign-in-menu a").trigger("click")})})),e.find("#comments").length&&commentSection.layoutCommentSection(e),e.find(".yir-avatar-list").each(function(){$(this).find("li").each(function(e){$(this).find("span").before('<i class="list-number">'+(e+1)+"</i>")})}),$.fn.padme&&e.find("[data-padme-cols]").padme({placeholderClass:"padme-pad"}),renderMobile&&(e.find("form[method=post]").append("<input type='hidden' name='iOS6HTTPPostCacheBuster' value='"+Math.random()+"'/>"),$.fn.padme&&e.find("[data-padme-mob-cols]").padme({cols:$(this).data("padme-mob-cols"),placeholderClass:"padme-pad"})),$.fn.selectmenu&&e.find(".smenu").selectmenu(),e.find(".js-squircle-mask").each(function(e){var t=$(this),n=t.attr("src"),i=t.attr("width"),r=t.attr("height"),o=t.attr("alt"),a=$.now()+e,s=$('<svg version="1.1" baseProfile="full" xmlns="http://www.w3.org/2000/svg" width="'+i+'" height="'+r+'" viewBox="0 0 '+i+" "+r+'"><defs><clipPath id="maskID'+a+'"><path d="M12,24 C2.372583,24 0,21.627417 0,12 C0,2.372583 2.372583,0 12,0 C21.627417,0 24,2.372583 24,12 C24,21.627417 21.627417,24 12,24 Z"/></clipPath>  </defs><title></title><desc>'+o+'</desc><image clip-path="url(#maskID'+a+')" width="'+i+'" height="'+r+'" xlink:href="'+n+'" /><path d="M12,23.5 C21.2262746,23.5 23.5,21.2262746 23.5,12 C23.5,2.77372538 21.2262746,0.5 12,0.5 C2.77372538,0.5 0.5,2.77372538 0.5,12 C0.5,21.2262746 2.77372538,23.5 12,23.5 Z" class="overlay" stroke-opacity="0.35" stroke="#FFFFFF" fill="rgba(0,0,0,0)"></path></svg>');t.replaceWith(s)}),bxd.doMasonry()},doMasonry:function(){renderMobile||(clearTimeout(bxd.masonryTimeout),bxd.masonryTimeout=setTimeout(function(){bxd.$reviewTiles?bxd.$reviewTiles.masonry("layout"):0<$(".js-review-tiles").length&&(bxd.$reviewTiles=$(".js-review-tiles").masonry({itemSelector:".review-tile"}))},250))},revealCallback:function(e){$(e).trigger("revealed"),0<$(e).closest(".js-review-tiles").length&&bxd.$reviewTiles&&bxd.$reviewTiles.masonry("layout")},toggleSearch:function(e){$("#header").toggleClass("-searchopen"),$("#header .js-nav-search-toggle a").toggleClass("nav-search-active"),renderMobile&&(o.search.open?o.search.open=!1:(bxd.resetMobileNav("search"),o.search.open=!0)),e&&t.is(":visible")&&i.val("").focus()},showHideSignin:function(){n.css({opacity:0,zIndex:-1337}).hide();var t=!1;$("#header").on("click",".sign-in-menu a",function(e){e.preventDefault(),t?(t=!1,$(this).removeClass("selected"),0===n.css("opacity")?n.css({opacity:0,zIndex:-1337}).hide():renderMobile?(o.login.open=!1,n.css({opacity:0,zIndex:-1337}).hide()):(n.stop().animate({opacity:0},500,"easeOutExpo",function(){n.css({opacity:0,zIndex:-1337}).hide()}),u.find("#header nav").stop().show().animate({opacity:1},500,"easeOutExpo"))):(t=!0,$(this).addClass("selected"),n.css({opacity:0,zIndex:1003}).show(),renderMobile?(bxd.resetMobileNav("login"),o.login.open=!0,n.css({opacity:1}).find("#username").focus()):(n.stop().animate({opacity:1},500,"easeOutExpo"),u.find("#header nav").animate({opacity:0},500,"easeOutExpo",function(){$(this).hide()}),n.find("#username").focus()),bxd.layout(n))}),$(".js-header-signin-form .js-close-signin").click(function(){$("#header .sign-in-menu a").trigger("click")})},filterPopularLists:function(s,t){function l(){var e=s.find("section.list");0===e.length?s.remove():e.length>t&&e.slice(t).remove()}var e,n;person.loggedIn&&person.blockedMembers.length?(e=s.find("section.list").length,s.find("section.list").each(function(){var e=$(this);person.hasBlocked(e.attr("data-person"))&&e.remove()}),e===s.data("how-many")?(n=s.find("section.list").length,function r(o,a){var e,t;o<=0?l():(e=s.data("url"),t={start:a,howMany:12},$.ajax({url:e,type:"GET",data:t,success:function(e){var t,n,i;""!==$.trim(e)&&(t=$(e),bxd.layout(t),i=n=0,t.find("section.list").each(function(){n++;var e=$(this);i<o&&!person.hasBlocked(e.attr("data-person"))&&0===s.find("section.list[data-film-list-id="+e.data("film-list-id")+"]").length&&(i++,s.append(e))}),n===e.howMany?r(o-i,a+e.howMany):l())},error:function(){l()}}))}(t-n,e)):l()):l()},profilePage:function(){u.find(".person-yir-promo .popmenu-link").popmenu()},profileHeader:function(){$(".js-".concat(f)).each(function(e,t){var n=$(t),i=new h(n,{isLoggedIn:person&&person.loggedIn});n.data(f,i)})},listPlaceholders:function(e,t){var n=e.children("li.poster"),i=$('<li class="poster -placeholder"></li>');if(n.length<t)for(var r=n.length;r<t;r++)i.clone().appendTo(e)},listsPage:function(){$("#popular-lists ul.poster-list").each(function(){bxd.listPlaceholders($(this),5)}),PubSub.subscribe("csi-most-recently-liked-lists",function(){bxd.filterPopularLists($("#recently-liked-lists"),10)})},editorialPage:function(){renderMobile&&$("#editorial aside.sidebar").insertBefore($("#editorial .editorial-content"))},searchResultsPage:function(){var t,e;renderMobile&&(e=(t=$("#search-filter")).find("ul").find("li.selected"),t.find("h2").append(" <strong>"+e.text()+"</strong><span class='ir s'></span>").on("click",function(e){e.preventDefault(),t.toggleClass("search-filter-menu-active")}))},filmsPage:function(){window.isTouchOnly?u.find("#popular-films ul.film-slider").addClass("touch-slider"):renderMobile||u.find("#popular-films ul.film-slider").clcarousel({show:4,size:950,interval:4,speed:400,clickevent:function(){},onAnimateEnd:function(){PubSub.publish("really-lazy-load")}})},filmPage:function(){$("#cast-overflow").length&&$("#show-cast-overflow").on("click",function(){$(this).hide(),$("#cast-overflow").fadeIn()}),renderMobile&&bxd.mobileFilmActions(),bxd.servicesActions()},reviewPage:function(){renderMobile&&bxd.mobileFilmActions(),bxd.servicesActions()},servicesActions:function(){PubSub.subscribe("csi-availability",function(){$("html.mobile .film .js-watch-panel-trailer").remove();var e=bxd.getTrailerModalConfig();$(".js-video-zoom").colorbox(s()(e,{onOpen:function(){var e,t=$(location).attr("pathname");$("body").hasClass("film")&&!t.match(/trailer\/$/)&&(t+="trailer/",e=$(location).attr("protocol")+"//"+$(location).attr("host")+t+$(location).attr("hash")+$(location).attr("search"),window.history&&window.history.replaceState&&window.history.replaceState(null,"",e)),PubSub.publish("play-trailer",{film:filmData})},onCleanup:function(){var e=(e=$(location).attr("pathname")).replace(/trailer\/$/,""),t=$(location).attr("protocol")+"//"+$(location).attr("host")+e+$(location).attr("hash")+$(location).attr("search");window.history&&window.history.replaceState&&window.history.replaceState(null,"",t)}}))})},mobileFilmActions:function(){var e,t,n,i;person.loggedIn&&(e=$("#user-actions-menu"),t=$("#userpanel"),n=$('<div id="modal-userpanel"><div class="overlay"></div></div>'),i=$('<div id="userpanel-close" class="icon"></div>'),n.append(t).append(i).hide().appendTo(u),i.on("click",function(){n.hide()}),e.children("a").on("click",function(e){e.preventDefault(),n.show(),$(window).scrollTop(0)}))},diaryPage:function(){u.find("td.has-menu").each(function(){$(this).filmPosterMenu({parent:function(e){return e}})}),renderMobile&&$("#diary-table tr").each(function(){var e=$(this),t=e.find("input.rateit-field").val();null===t||0===t?(t=$('<p class="rating-green" />').append(e.find("span.rating")),e.find("td.td-film-details").append(t)):e.find("td.td-film-details").append('<p class="rating-green"><span class="rating rated-'+t+'"></span></p>'),e.find("th.th-day").text(""),e.find("th.th-month").text("Date")})},modalLoad:function(){bxd.layout($("#modal"))},cacheInitialListState:function(){var e=$("#list-form");e.data("transient-list")?e.protectUnsavedChanges({clear:!0}):e.protectUnsavedChanges({reset:!0})},checkListFormForChanges:function(){var e,t,n=$("#list-form");n.hasClass("sending-ajax")||(void 0===(e=n.data("form-initial-state"))&&(bxd.cacheInitialListState(),e=n.data("form-initial-state")),t="Cancel",e==n.sanitisedSerialisedFormForProtection()?""!==n.find("input[name=filmListId]").val()&&($("#list-edit-save").addClass("button-action-disabled -disabled"),t="View List"):$("#list-edit-save").removeClass("button-action-disabled -disabled"),t!=$("#list-edit-cancel").text()&&$("#list-edit-cancel").text(t))},renumberList:function(){e.children("li").each(function(e){$(this).data("index",e).children(".list-number").text(e)}),bxd.checkListFormForChanges()},componentFailed:function(){bxd.showMessages("error","One or more components on this page failed to load. Please <a href='javascript:location.reload(true)'>try again</a>.",{sticky:!0,messageId:"csi-error",dismissExistingMessages:!1})},dismissMessages:function(e){$.jnotify.clear(e)},showMessages:function(e,t,n){n=$.extend({sticky:!1,messageId:null,dismissExistingMessages:!0},n),"string"==typeof t&&0<t.length&&(t=[t]),n.dismissExistingMessages&&bxd.dismissMessages();var i={delay:4e3,fadeSpeed:0,type:e,sticky:n.sticky},r=!1;if(n.messageId&&(bxd.messagesShowing||(bxd.messagesShowing={}),bxd.messagesShowing[n.messageId]||(bxd.messagesShowing[n.messageId]=0),bxd.messagesShowing[n.messageId]?r=!0:bxd.messagesShowing[n.messageId]=!0,i.beforeRemove=function(){bxd.messagesShowing[n.messageId]&&(bxd.messagesShowing[n.messageId]=!1)}),!r)for(var o=0;o<t.length;o++){var a=t[o];$.jnotify(a,i)}},tabbedContent:function(){var t,n=d.find("header li a"),i=d.find(".tabbed-content-block");function r(e){var t=$(e).data("id");n.parent().removeClass("selected"),n.filter("[data-id="+t+"]").parent().addClass("selected"),i.hide().end().find("#tab-"+t).show(),$(window).trigger("resize")}n.add("a.js-switch-tabbed-nav").click(function(e){e.preventDefault(),r($(this));var t,n=$(this).attr("href");"#"!=n&&window.history&&window.history.replaceState&&(t=$(this).data("permalinkTitle"),window.history.replaceState(null,t,n),t&&(document.title=t))}),window.urlFixerPromise.promise().then(function(){var e;d.data("selected-tab")&&(t=d.find("[data-id="+d.data("selected-tab")+"]")),t&&0!==t.length||(e=d.find("[id^='tab-']").first().attr("id").replace(/^tab-/,""),t=d.find("[data-id="+e+"]")),r(t)})},fixPosterSidebar:function(){window.isTouchOnly||$("#js-poster-col").length&&$("#js-poster-col").stick_in_parent({offset_top:10,spacer:!1})},setupBackdrop:function(){var e;!u.hasClass("backdropped")||0<(e=$("#backdrop")).length&&(bxd.loadBackdrop(e),u.addClass("backdrop-loaded"))},loadBackdrop:function(e){e.each(function(){var e=new Image,t=$(this),n=t.find(".js-backdrop-image"),i=parseInt(t.data("offset"),10),r=t.data("backdrop"),o=t.data("backdrop2x");null!=o&&1.5<=window.devicePixelRatio&&(r=o),$(e).load(function(){$(this).complete&&$(this).trigger("load"),n.css({"background-position":"center -"+i+"px","background-image":"url("+r+")"}),t.addClass("-loaded"),bxd.positionMobileBackdrop(n),u.hasClass("tenet-inversion")&&doTenet()}).error(function(){}).attr("src",r)})},positionMobileBackdrop:function(e){var t,n;renderMobile&&e&&(t=540,e.hasClass("backdrop-short")&&(t=340),n=parseInt(e.data("offset"),10),e.width(),isNaN(n)||e.css({"background-image":"url("+e.data("backdropmobile")+")"}))},mobileSetup:function(){$("#header").on("click","#mobile-menu-toggle a",function(e){e.preventDefault(),o.menu.open?(o.menu.open=!1,$(this).removeClass("selected"),u.removeClass("mob-nav-open")):(bxd.resetMobileNav("menu"),o.menu.open=!0,$(this).addClass("selected"),u.addClass("mob-nav-open"))}),r.$el.find(".js-footer-nav").before($('<p id="js-toggle-footer-nav" class="nav-toggle">More...</p>')),bxd.mobileFooterNav();var e=u.find(".mob-sort-group-toggle");0<e.length&&(u.addClass("has-mob-sort-toggle"),e.on("click",function(){u.find(".smenu-menu:visible").hide(),u.toggleClass("mob-sort-group-active")})),$(window).resize(function(){bxd.mobileFooterNav()})},mobileFooterNav:function(){r.$nav=r.$el.find(".js-footer-nav"),r.$items=r.$nav.find("li"),r.$toggle=r.$el.find("#js-toggle-footer-nav"),r.navContainerWidth=r.$nav.parent().innerWidth(),bxd.checkMobileFooterNavLength(),r.$toggle.on("click",function(e){e.preventDefault(),"on"!==r.$el.attr("data-show-all")&&r.$el.attr("data-show-all","on")})},checkMobileFooterNavLength:function(){var e=0;r.$items.each(function(){e+=$(this).outerWidth(!0)}),e<=r.navContainerWidth?r.$el.attr("data-show-all","on"):r.$el.attr("data-show-all","off")},resetMobileNav:function(){o.menu.open&&$("#mobile-menu-toggle a").trigger("click"),o.search.open&&$("#header .js-nav-search-toggle a").trigger("click"),o.login.open&&$("#header .sign-in-menu a").trigger("click")},getTrailerModalConfig:function(){var e,t,n={inline:!1,fixed:!0,overlayClose:!0,initialWidth:"160px",initialHeight:"90px",width:"840px",height:"512px",iframe:!0,className:"-video"},i=$(window).width(),r=$(window).height();return 840<.9*i&&!renderMobile&&(e=Math.floor(.9*i-28),.9*r<(t=Math.floor(40+9/16*e))&&(t=Math.floor(.95*r),e=Math.floor(16/9*(t-40))),n.width=e+"px",n.height=t+"px"),renderMobile&&(n.width="100%",n.height="95%",n.initialWidth="288px",n.initialHeight="200px",n.transition="fade"),n},setCSIRequestReference:function(e){a.push(e)},getCSIRequestsByTopic:function(t){return a.filter(function(e){return e.getTopic()===t})}}}},function(e,t){function y(e){var t=e.originalEvent.changedTouches[0],n="";switch(e.type){case"touchmove":n="mousemove";break;case"touchend":n="mouseup";break;default:return}var i=document.createEvent("MouseEvent");i.initMouseEvent(n,!0,!0,window,1,t.screenX,t.screenY,t.clientX,t.clientY,!1,!1,!1,!1,0,null),t.target.dispatchEvent(i),e.preventDefault()}var b;(b=jQuery).rateit={aria:{resetLabel:"reset rating",ratingLabel:"rating"}},b.fn.rateit=function(f,h){function p(e){return e.charAt(0).toUpperCase()+e.substr(1)}var m=1,g={},v="init";if(0==this.length)return this;var e=b.type(f);if("object"==e||void 0===f||null==f)g=b.extend({},b.fn.rateit.defaults,f);else{if("string"==e&&void 0===h)return this.data("rateit"+p(f));"string"==e&&(v="setvalue")}return this.each(function(){function a(e,t){var n,i;return null!=t&&(n="aria-value"+("value"==e?"now":e),null!=(i=s.find(".rateit-range")).attr(n)&&i.attr(n,t)),arguments[0]="rateit"+p(e),s.data.apply(s,arguments)}var s=b(this);s.hasClass("rateit")||s.addClass("rateit");function n(e,t){a("value",e),a("backingfld")&&b(a("backingfld")).val(e),a("ispreset")&&(n.find(".rateit-selected").removeClass(c),a("ispreset",!1));var n=s.find(".rateit-range");n.find(".rateit-hover").hide(),n.find(".rateit-selected").width(e*a("starwidth")-a("min")*a("starwidth")).show(),s.trigger("hover",[null]).trigger("over",[null]).trigger("rating-changed",[e]),t?s.trigger("update-display",[e]):s.trigger("rated",[e])}var e,t,i,r="rtl"!=s.css("direction");if("setvalue"==v){if(!a("init"))throw"Can't set value before init";"readonly"!=f||1!=h||a("readonly")||(s.find(".rateit-range").unbind(),a("wired",!1)),"value"==f&&(h=null==h?a("min"):Math.max(a("min"),Math.min(a("max"),h))),a("backingfld")&&(e=b(a("backingfld")),"value"==f&&h!=e.val()&&(e.val(h),n(h)),"display"==f&&h!=e.val()&&(e.val(h),n(h,!0)),"min"==f&&e[0].min&&(e[0].min=h),"max"==f&&e[0].max&&(e[0].max=h),"step"==f&&e[0].step&&(e[0].step=h)),a(f,h)}a("init")||(a("min",a("min")||g.min),a("max",a("max")||g.max),a("step",a("step")||g.step),a("readonly",void 0!==a("readonly")?a("readonly"):g.readonly),a("resetable",void 0!==a("resetable")?a("resetable"):g.resetable),a("backingfld",a("backingfld")||g.backingfld),a("starwidth",a("starwidth")||g.starwidth),a("starheight",a("starheight")||g.starheight),a("value",Math.max(a("min"),Math.min(a("max"),a("value")||g.value||g.min))),a("ispreset",void 0!==a("ispreset")?a("ispreset"):g.ispreset),a("backingfld")&&(e=b(a("backingfld")),a("value",e.hide().val()),(e.attr("disabled")||e.attr("readonly"))&&a("readonly",!0),"INPUT"==e[0].nodeName&&("range"!=e[0].type&&"text"!=e[0].type||(a("min",parseInt(e.attr("min"))||a("min")),a("max",parseInt(e.attr("max"))||a("max")),a("step",parseInt(e.attr("step"))||a("step")))),"SELECT"==e[0].nodeName&&1<e[0].options.length&&(a("min",Number(e[0].options[0].value)),a("max",Number(e[0].options[e[0].length-1].value)),a("step",Number(e[0].options[1].value)-Number(e[0].options[0].value)))),t="DIV"==s[0].nodeName?"div":"span",m++,i='<button id="rateit-reset-{{index}}" class="rateit-reset" aria-label="'+b.rateit.aria.resetLabel+'" aria-controls="rateit-range-{{index}}"></button><{{element}} id="rateit-range-{{index}}" class="rateit-range" tabindex="0" role="slider" aria-label="'+b.rateit.aria.ratingLabel+'" aria-owns="rateit-reset-{{index}}" aria-valuemin="'+a("min")+'" aria-valuemax="'+a("max")+'" aria-valuenow="'+a("value")+'"><{{element}} class="rateit-selected" style="height:'+a("starheight")+'px"></{{element}}><{{element}} class="rateit-hover" style="height:'+a("starheight")+'px"></{{element}}></{{element}}>',s.append(i.replace(/{{index}}/gi,m).replace(/{{element}}/gi,t)),r||(s.find(".rateit-reset").css("float","right"),s.find(".rateit-selected").addClass("rateit-selected-rtl"),s.find(".rateit-hover").addClass("rateit-hover-rtl")),a("init",!0));var l=s.find(".rateit-range");l.width(a("starwidth")*(a("max")-a("min"))).height(a("starheight"));var o,c="rateit-preset"+(r?"":"-rtl");a("ispreset")?s.find(".rateit-selected").addClass(c):s.find(".rateit-selected").removeClass(c),null!=a("value")&&(o=(a("value")-a("min"))*a("starwidth"),s.find(".rateit-selected").width(o));var u=s.find(".rateit-reset");!0!==u.data("wired")&&u.bind("click",function(e){e.preventDefault(),u.blur(),a("value",a("min")),l.find(".rateit-hover").hide().width(0),l.find(".rateit-selected").width(0).show(),a("backingfld")&&b(a("backingfld")).val(a("min")),s.trigger("reset")}).data("wired",!0);function d(e,t){var n=(t.changedTouches?t.changedTouches[0].pageX:t.pageX)-b(e).offset().left;return r||(n=l.width()-n),n>l.width()&&(n=l.width()),n<0&&(n=0),o=Math.ceil(n/a("starwidth")*(1/a("step")))}a("readonly")?u.hide():(a("resetable")||u.hide(),a("wired")||(l.bind("touchmove touchend",y),l.mousemove(function(e){var t,n,i,r,o=d(this,e);i=(t=o)*a("starwidth")*a("step"),(r=l.find(".rateit-hover")).data("width")!=i&&(l.find(".rateit-selected").hide(),r.width(i).show().data("width",i),n=[t*a("step")+a("min")],s.trigger("hover",n).trigger("over",n))}),l.mouseleave(function(e){l.find(".rateit-hover").hide().width(0).data("width",""),s.trigger("hover",[null]).trigger("over",[null]),l.find(".rateit-selected").show()}),l.mouseup(function(e){var t=d(this,e)*a("step")+a("min");n(t)}),l.keyup(function(e){38!=e.which&&e.which!=(r?39:37)||n(Math.min(a("value")+a("step"),a("max"))),40!=e.which&&e.which!=(r?37:39)||n(Math.max(a("value")-a("step"),a("min")))}),a("wired",!0)),a("resetable")&&u.show()),l.attr("aria-readonly",a("readonly"))})},b.fn.rateit.defaults={min:0,max:5,step:.5,starwidth:16,starheight:16,readonly:!1,resetable:!0,ispreset:!1}},function(e,t){!function(c){"use strict";var n;c(document).ready(function(){var e;c.support.transition=void 0!==(e=(document.body||document.documentElement).style).transition||void 0!==e.WebkitTransition||void 0!==e.MozTransition||void 0!==e.MsTransition||void 0!==e.OTransition,c.support.transition&&(n="TransitionEnd",navigator.userAgent.match(/webkit/i)?n="webkitTransitionEnd":navigator.userAgent.match(/mozilla/i)?n="transitionend":navigator.userAgent.match(/opera/i)&&(n="oTransitionEnd"))});function t(e,t){this.$element=c(e),this.options=t,this.enabled=!0,this.fixTitle()}t.prototype={show:function(){var e,t,n,i,r,o,a,s,l;if(this.hasContent()&&this.enabled){switch(r=this.tip(),this.setContent(),this.options.animate&&r.addClass("fade"),r.remove().css({top:0,left:0,display:"block"}).prependTo(document.body),e=c.extend({},this.$element.offset(),{width:this.$element[0].offsetWidth,height:this.$element[0].offsetHeight}),t=r[0].offsetWidth,n=r[0].offsetHeight,a=this.options.placement,s=this,l=[r[0],this.$element[0]],i="function"==typeof a?a.apply(s,l):a){case"below":o={top:e.top+e.height+this.options.offset,left:this.leftPos(e,t)};break;case"above":o={top:e.top-n-this.options.offset,left:this.leftPos(e,t)};break;case"left":o={top:e.top+e.height/2-n/2,left:e.left-t-this.options.offset};break;case"right":o={top:e.top+e.height/2-n/2,left:e.left+e.width+this.options.offset}}r.css(o).addClass(i).addClass("in")}},leftPos:function(e,t){var n=e.left+e.width/2-t/2,i=c(document).width(),r="50%";return i<n+t?(r=t/2+(n+t-i),n=i-t):n<0&&(r=n+t/2,n=0),this.$tip.find(".twipsy-arrow").css({left:r}),n},setContent:function(){var e=this.tip();e.find(".twipsy-inner")[this.options.html?"html":"text"](this.getTitle()),e[0].className="twipsy"},hide:function(){var e=this.tip();function t(){e.remove()}e.removeClass("in"),c.support.transition&&this.$tip.hasClass("fade")?(e.bind(n,t),setTimeout(function(){c.contains(document.documentElement,e[0])&&(e.hasClass("in")||t())},1e3)):t()},fixTitle:function(){var e=this.$element;!e.attr("title")&&"string"==typeof e.attr("data-original-title")||e.attr("data-original-title",e.attr("title")||"").removeAttr("title")},hasContent:function(){return this.getTitle()},getTitle:function(){var e,t=this.$element,n=this.options;return this.fixTitle(),"string"==typeof n.title?e=t.attr("title"==n.title?"data-original-title":n.title):"function"==typeof n.title&&(e=n.title.call(t[0])),(e=(""+e).replace(/(^\s*|\s*$)/,""))||n.fallback},tip:function(){return this.$tip||(this.$tip=c('<div class="twipsy" />').html(this.options.template)),this.$tip},validate:function(){this.$element[0].parentNode||(this.hide(),this.$element=null,this.options=null)},enable:function(){this.enabled=!0},disable:function(){this.enabled=!1},toggleEnabled:function(){this.enabled=!this.enabled}},c.fn.twipsy=function(e){return c.fn.twipsy.initWith.call(this,e,t,"twipsy"),this},c.fn.twipsy.initWith=function(n,i,r){var e,t,o,a,s;if(!0===n)return this.data(r);if("string"==typeof n)return(e=this.data(r))&&e[n](),this;function l(e){var t=c.data(e,r);return t||(t=new i(e,c.fn.twipsy.elementOptions(e,n)),c.data(e,r,t)),t}return(n=c.extend({},c.fn[r].defaults,n)).live||this.each(function(){l(this)}),"manual"!=n.trigger&&(t=n.live?"live":"bind",o="hover"==n.trigger?"mouseenter":"focus",a="hover"==n.trigger?"mouseleave":"blur",this[t](o,function(){var e=l(this);e.hoverState="in",c.fn.twipsy.dontDelayIn||0==n.delayIn?e.show():(e.fixTitle(),clearTimeout(s),s=setTimeout(function(){"in"==e.hoverState&&(e.show(),c.fn.twipsy.dontDelayIn=!0)},n.delayIn)),c.fn.twipsy.delayInResetTimer&&(clearTimeout(c.fn.twipsy.delayInResetTimer),c.fn.twipsy.delayInResetTimer=null)})[t](a,function(){var e=l(this);e.hoverState="out",c.fn.twipsy.delayInResetTimer=setTimeout(function(){c.fn.twipsy.dontDelayIn=!1},n.delayIn),0==n.delayOut?e.hide():(clearTimeout(s),s=setTimeout(function(){"out"==e.hoverState&&e.hide()},n.delayOut))})),this},c.fn.twipsy.Twipsy=t,c.fn.twipsy.defaults={animate:!0,delayIn:0,delayOut:0,fallback:"",placement:"above",html:!1,live:!1,offset:0,title:"title",trigger:"hover",template:'<div class="twipsy-arrow"></div><div class="twipsy-inner"></div>'},c.fn.twipsy.elementOptions=function(e,t){return c.extend({},t,c(e).data())}}(window.jQuery||window.ender)},function(e,t){"undefined"==typeof console&&(console={log:function(){}}),$(document).ready(function(){window.bxd=new Bxd,window.bxd.isEmbed=!1,window.bxd.init(),window.jsprettify.run()}),$(window).load(function(){var e;for($("body").hasClass("backdrop-loaded")||window.bxd.setupBackdrop(),e=0;e<successMessages.length;e++)window.bxd.showMessages("success",successMessages[e]);for(e=0;e<stickyMessages.length;e++)window.bxd.showMessages("error",stickyMessages[e],{sticky:!0});for(e=0;e<errorMessages.length;e++)window.bxd.showMessages("error",errorMessages[e]);renderMobile&&setTimeout(function(){0===$(window).scrollTop()&&window.scrollTo(0,1)},0)})},function(e,t){window.ratingStars=function(e){for(var t=e%2==1?"½":"",n=1;n<e;n+=2)t="★"+t;return t}},,,,,,,,,,,,,,,,,,,,function(e,t){!function(p){p.timeago=function(e,t){return"string"==typeof e?e=p.timeago.parse(e):!e instanceof Date&&(e=p.timeago.datetime(e)),n(e,p.extend(!0,{},r.settings,t))};var r=p.timeago;function i(){var e,t=function(e){var t=(e=p(e)).data("timeago")||{};{var n,i;t.datetime||(n=r.datetimeAttribute(e),t=p.extend(!0,{settings:r.settings},t,{datetime:r.parse(n),isDateOnly:r.isDateOnly(n)}),e.data("timeago",t),0<(i=p.trim(e.text())).length&&e.attr("title",i))}return t}(this);return isNaN(t.datetime)||(e=n(t.datetime,t.isDateOnly,t.settings),p(this).text(e),p(this).attr("title",e)),this}function n(e,t,n){return r.inWords(function(e,t){var n=new Date;t&&(n.setHours(0,0,0,0),e.setHours(0,0,0,0));return n.getTime()-e.getTime()}(e,t),t,e,n)}function m(e){var t=new Date,n=new Date(e.getTime());return t.setHours(0,0,0,0),n.setHours(0,0,0,0),Math.floor((t-n)/864e5)}p.extend(p.timeago,{settings:{refreshMillis:6e4,allowFuture:!1,strings:{prefixAgo:null,prefixFromNow:null,suffixAgo:"",suffixFromNow:"",seconds:"just now",minute:"1m",minutes:"%dm",hour:"1h",hours:"%dh",today:"today",yesterday:"yesterday",day:"1d",days:"%dd",month:"1mo",months:"%dmo",year:"1y",years:"%dy",numbers:[]}},inWords:function(r,e,t,n){var o=n.strings,i=o.prefixAgo,a=o.suffixAgo;n.allowFuture&&(r<0&&(i=o.prefixFromNow,a=o.suffixFromNow),r=Math.abs(r));var s,l=r/1e3,c=l/60,u=c/60,d=m(t),f=d/365;function h(e,t){var n=p.isFunction(e)?e(t,r):e,i=o.numbers&&o.numbers[t]||t;return n.replace(/%d/i,i)}if(e){if(0==d)return o.today;if(1==d)return o.yesterday}else if(24<=u&&1==m(t))return o.yesterday;return s=l<45&&h(o.seconds,Math.round(l))||l<90&&h(o.minute,1)||c<45&&h(o.minutes,Math.round(c))||c<90&&h(o.hour,1)||u<24&&h(o.hours,Math.round(u))||d<30&&h(o.days,Math.floor(d))||d<60&&h(o.month,1)||d<365&&h(o.months,Math.floor(d/30))||f<2&&h(o.year,1)||h(o.years,Math.floor(f)),p.trim([i,s,a].join(" "))},parse:function(e){var t=p.trim(e);return t=(t=(t=(t=t.replace(/\.\d\d\d+/,"")).replace(/-/,"/").replace(/-/,"/")).replace(/T/," ").replace(/Z/," UTC")).replace(/([\+\-]\d\d)\:?(\d\d)/," $1$2"),new Date(t)},isDateOnly:function(e){var t=p.trim(e);return result=null!==t.match(/^\d\d\d\d-\d\d-\d\d$/),result},datetimeAttribute:function(e){return"time"===p(e).get(0).tagName.toLowerCase()?p(e).attr("datetime"):p(e).attr("title")}}),p.fn.timeago=function(e){var t=this,n=p.extend(!0,{},r.settings,e);return t.data("timeago",{settings:n}),t.each(i),0<n.refreshMillis&&setInterval(function(){t.each(i)},n.refreshMillis),t},document.createElement("abbr"),document.createElement("time")}(jQuery)},function(e,t){var r;(r=jQuery).fn.fullscreenr=function(e){void 0===e.height&&alert("Please supply the background image height, default values will now be used. These may be very inaccurate."),void 0===e.width&&alert("Please supply the background image width, default values will now be used. These may be very inaccurate."),void 0===e.bgID&&alert("Please supply the background image ID, default #bgimg will now be used.");e=r.extend({},{width:1280,height:1024,bgID:"bgimg"},e);return r(document).ready(function(){r(e.bgID).fullscreenrResizer(e)}),r(window).bind("resize",function(){r(e.bgID).fullscreenrResizer(e)}),this},r.fn.fullscreenrResizer=function(e){var t=e.height/e.width,n=r(window).width(),i=r(window).height();return t<i/n?(r(this).height(i),r(this).width(i/t)):(r(this).width(n),r(this).height(n*t)),r(this).css("left",(n-r(this).width())/2),r(this).css("top",(i-r(this).height())/2),this}},function(e,t){$(function(){var i,e,t,n,r,o,a,s,l;document.location.hostname.match(/(letterboxd\.com|letterboxdtest\.club|localhost|cactuslab\.com|\.local|^10\.[0-9]+\.[0-9]+\.[0-9]+)$/)||document.location.pathname.match(/\/errors\/wrapped$/)?($("input[name=__csrf]").val(supermodelCSRF),person.loggedIn||(i=function(){bxd.modalLoad(),bxd.initUsernameChecker(),bxd.renderRecaptcha(),$(".create-account-menu a, a.create-account-link").colorbox.resize()},renderMobile&&$("#remember").prop("checked",!0),$("#hide-toggle-menu").length&&($(".js-fade-toggle, .js-account-filters").remove(),$(".js-film-filters").removeClass("divider-line")),$(document).on("submit","#register-form",function(e){e.preventDefault();var t=$("#register-form"),n=t.find(".button-container");return t.hasClass("ajax-processing")||(t.addClass("ajax-processing"),n.lbSpinner({size:14,fallback:globals.spinners.spinner_14_20272f}),$.ajax({url:t.attr("action"),type:"POST",timeout:3e4,data:t.serialize(),success:function(e){$("#modal").empty().prepend(e),i()},error:function(){bxd.showMessages("error","The server failed to respond within 30 seconds. If you are not signed in on <a href='"+baseURL+"/welcome/?register=true'>this page</a>, please try again.",{sticky:!0})},complete:function(){t.removeClass("ajax-processing"),n.lbSpinner("stop")}})),!1}),e=$(".create-account-menu a"),t=$("a.create-account-link"),(e.length||t.length)&&(n={overlayClose:!1,innerWidth:420,initialWidth:100,initialHeight:300,href:e.attr("href")+" #modal",onComplete:function(){var e=$("#modal").html();$("#modal").empty().prepend(e),i(),ga("send","pageview",baseURL+"/user/register/")},className:"create-account-modal"},renderMobile&&(n.width="100%",n.initialWidth="288px",n.initialHeight="100px",n.transition="fade",n.speed=0),e.colorbox(n),n.href=t.attr("href")+" #modal",t.colorbox(n)),$(".js-header-signin-form").each(function(){$(this).find("input").focus(function(){$("body").removeClass("show-signin-message")}),renderMobile&&$(this).find(".-checkbox").removeClass("-small").addClass("-default"),$(this).find(".js-close-signin").click(function(){$("body").removeClass("show-signin-message")})}),$("form.signin").submit(function(){var e,n,i=$(this),r=$("#signin-message"),o=i.find(".buttons input").parent(".button-container");return i.hasClass("signin-processing")||(i.addClass("signin-processing"),e=i.data("spinner")||globals.spinners.spinner_14_20272f,o.lbSpinner({size:14,fallback:e}),n=0,bxd.dismissMessages(),$("body").removeClass("show-signin-message"),i.find("input[name=__csrf]").val(supermodelCSRF),function t(){$.ajax({type:"POST",async:!0,url:i.data("url"),data:i.serialize(),dataType:"json",xhrFields:{withCredentials:!0},error:function(){i.removeClass("signin-processing"),o.lbSpinner("stop"),bxd.showMessages("error",["An error occurred.  Please try again later."])},success:function(e){if(r.stop(!0),"success"==e.result)$("#repost-form").length?$("#repost-form").submit():window.location.reload(!0);else{if(n<3&&-1!==e.messages[0].indexOf("expired"))return n++,i.find("input[name=__csrf]").val(e.csrf),void t();i.removeClass("signin-processing"),o.lbSpinner("stop"),renderMobile?e.messages&&alert(e.messages[0]):e.messages&&(i.is("#signin")?(r.html("<p>"+e.messages[0]+"</p>"),$("body").addClass("show-signin-message")):bxd.showMessages("error",e.messages))}}})}()),!1}),location.search.match(/register/)&&(r="",-1!=location.href.indexOf("register=true")?r=location.href.substring(location.href.indexOf("register=true")+13):-1==location.href.indexOf("/register/")||(o=location.href.substring(location.href.indexOf("/register/")+10)).length&&(r="token="+o),person.signUpEmailAddress&&(r=r+"&emailAddress="+encodeURIComponent(person.signUpEmailAddress)),r=r.replace(/\?/,"&"),(a=$("#header .create-account-menu a")).length<=0&&(a=$("a.create-account-link")),0<a.length&&(s=a.attr("href"),s+="?register=true",r.length&&(s+="&"+r),l={href:s},renderMobile&&(l.speed=0),a.colorbox(l),a.trigger("click"),bxd.initUsernameChecker())))):document.location=baseURL+"/errors/wrapped"})},function(e,t){$(function(){$(document).on("init-sidebar-rating","#frm-sidebar-rating",function(){var e=$(this).closest("li.js-panel-rate"),t=e.find(".js-rateit-label"),n=$(this).val();e.find(".no-sidebar-rating, .remove-sidebar-rating").remove();var i=0==n?"Rate":"Rated";t.text(i),0==n?e.find(".rateit").show().rateit("value",n):(e.find(".rateit").show().rateit("value",n),e.append('<a href="#" class="replace remove-sidebar-rating">Remove rating</a>'))}),$(document).on("click","li.js-panel-rate .remove-sidebar-rating",function(e){e.preventDefault(),$(this).closest("li.js-panel-rate").find(".rateit").rateit("value",0)}),$(document).on("rating-changed","li.js-panel-rate .instant-rating",function(){$("#frm-sidebar-rating").trigger("init-sidebar-rating")}),$(document).on("click","li.js-panel-rate .no-sidebar-rating",function(e){e.preventDefault();var t=$(this).closest("li.js-panel-rate");$(this).hide(),t.find(".rateit").show()}),$(".diary-entry-row").on("click",".remove-rating",function(e){e.preventDefault(),$(this).closest(".diary-entry-row").find(".rateit").rateit("value",0)}),$(document).on("ajax-success",".instant-rating",function(e,t,n,i){var r,o,a=$(this);t.result?(r=$(".rateit[data-film-id="+t.film.id+"]"),$(".film-poster-"+t.film.id).data("film-rating",t.rating),r.rateit("display",t.rating),bxd.setAsWatched(t.film.id,t.watched),t.watchlistUpdated&&bxd.removeFromWatchlist(t.film.id),(o=a.closest(".diary-entry-row")).length&&(o.find(".edit-review-button").attr("data-rating",t.rating).data("rating",t.rating),0===t.rating?o.addClass("not-rated"):o.removeClass("not-rated"),$("#frm-viewing-id").val()==o.data("viewing-id")&&($("#modal .rateit").rateit("display",""+t.rating),$("#diary-entry-form").protectUnsavedChanges({reset:!0}))),$("body").hasClass("films-rated")&&$("#profile-header").data("person")===person.username&&$(".film-poster-"+t.film.id).each(function(){$(this).siblings(".poster-viewingdata").find(".rating").attr("class","rating rated-"+t.rating).text(ratingStars(t.rating))})):a.rateit("display",t.rating),t.messages&&bxd.showMessages(t.result?"success":"error",t.messages),ga("send","event","Film","Rated"),PubSub.publish("rated-film",{film:t.film,rating:t.rating})}),$(document).on("rated",".instant-rating",function(){var e,t,i=$(this);i.hasClass("ajax-disabled")||(e=i.rateit("value"),t=i.data("rate-action"),ga("send","event","Films",0==e?"Unrate":"Rate"),i.addClass("ajax-disabled"),$.ajax({url:t,data:{rating:e,__csrf:supermodelCSRF},type:"POST",xhrFields:{withCredentials:!0},success:function(e,t,n){null!==e.csrf&&void 0!==e.csrf&&(supermodelCSRF=e.csrf),i.trigger("ajax-success",[e,t,n])},complete:function(){i.removeClass("ajax-disabled")},error:function(){bxd.showMessages("error",["Unable to set your rating.  Please try again."])}}))})})},function(e,t){$(function(){function i(){clearTimeout(e),n.hide(),o.removeClass("add-menu-button-active")}var e,n,r,o;function a(){$("#frm-viewing-id").val(""),$("#frm-film-id").val(""),$("#poster-frame .poster img").remove(),$("#frm-film-name").val("").trigger("flushCache"),$("#tag-container li:not(:last)").remove(),f()}function M(){return new Date}function t(){var e,t,n=new Date($("#frm-viewing-date-string").val().replace(/-/g,"/")),i=$("#frm-rewatch"),r=$("#frm-viewing-id").val(),o=i.data("earliest-viewing-id");!o||(e=r==o?i.data("second-earliest-viewing-date"):i.data("earliest-viewing-date"))&&(t=new Date(e).getTime()<n.getTime(),i.prop("checked",t))}$.fn.protectUnsavedChanges&&($("#user-update").protectUnsavedChanges({warning:"Your changes have not been saved yet."}),$("#comment-form").protectUnsavedChanges({warning:"You have not posted your comment yet."}),$("#diary-entry-form").protectUnsavedChanges({warning:"Your diary entry has unsaved changes."}),$("#diary-entry-delete-button").data("modal-confirm",{ok:"Delete",okClass:"-red"}).on("ajax-action",function(){$("#diary-entry-form").protectUnsavedChanges({reset:!0})})),$("#sign-out").on("ajax-success",function(e,t){t.result&&location.reload(!0),t.messages&&bxd.showMessages(t.result?"success":"error",t.messages)}),e=null,n=$("#add-menu"),r=$("#add-new-button"),o=$("#add-menu-button"),$(document).on("click","#add-menu-button",function(e){var t;e.preventDefault(),n.is(":visible")?i():(t=[],$(".film-poster:visible").each(function(){var e=$(this).data("film-id");e&&$.inArray(e,t)<0&&t.push(e)}),t.length?$(".js-add-all-films-on-page-to-list").show().find("a").html("Add "+bxd.pluralise(t.length,"film")+" to list…"):$(".js-add-all-films-on-page-to-list").hide(),o.addClass("add-menu-button-active"),n.css("top",r.height(!0)).show())}),$("#add-menu, #add-new-button, #add-menu-button").mouseenter(function(){clearTimeout(e)}).mouseleave(function(){clearTimeout(e),e=setTimeout(function(){i()},500)}),person.canBulkAddToLists?$(".js-add-all-films-panel").show():$(".js-add-all-films-panel").remove(),$("#header").data("allowUserToAddAllFilmsToAList")?$(".js-add-all-films-on-page-to-list").on("click",function(e){e.preventDefault(),i();var n=[];$(".film-poster").each(function(){var e=$(this).data("film-id");e&&$.inArray(e,n)<0&&n.push(e)}),n.length?($("#add-to-a-list-modal input.film-id").remove(),n.forEach(function(e){$("<input type='hidden' class='film-id' name='filmId' value='"+e+"'/>").insertBefore("#add-to-a-list-modal .js-film-list-id")}),$("#add-to-a-list-modal span.film-name").text("all films"),$("#js-modal-warning").html("<p class='body-text -small'>Select a list below to add all "+bxd.pluralise(n.length,"film")+" on this page to it. The selected list will be opened in Edit mode with the new entries appended at the end, so you’ll be able to make changes prior to saving, or exit without saving.</p>").show(),$("#add-to-a-list-modal .js-new-list").on("click.newlist",function(e){e.preventDefault();var t=$("<form method='post' action='"+baseURL+"/list/new/'></form>");t.append($("<input type='hidden' name='__csrf' value='"+supermodelCSRF+"'/>")),n.forEach(function(e){t.append($("<input type='hidden' name='filmId' value='"+e+"'/>"))}),$("body").append(t),t.submit()}),$("#add-to-a-list-modal .js-film-list-id option").each(function(){$(this).prop("disabled",!1)}),$("#add-to-a-list").trigger("click")):bxd.showMessages("error","There are no films to add")}):$(".js-add-all-films-on-page-to-list").remove(),$("#frm-specify-date").on("change",function(){t()}),$("#add-date").on("change",function(e){t()}),window.showReviewForm=function(e,t,n,i,r,o,a,s,l,c,u,d,f){var h,p,m,g,v,y,b,w,x,k,C=$("#frm-viewing-id").val(),T=$("#frm-film-id").val(),S=$("#add-date"),_=$("#frm-viewing-date-string"),E=$("#frm-specify-date"),j=$("#frm-specify-date-label"),I=$("#frm-watched-label"),P=$("#frm-rewatch"),D=$("#frm-rewatch-label");C==e&&T==t||($("#frm-viewing-id").val(e),$("#frm-film-id").val(t),null==a&&(v=M(),y="",(b=v.getDate())<10&&(y+="0"),a=y=(y+=b.toString())+" "+["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"][v.getMonth()]+" "+v.getFullYear()),null==o&&(h=M(),p="",m=h.getMonth()+1,g=h.getDate(),p=p+h.getFullYear()+"-",m<10&&(p+="0"),p=p+m.toString()+"-",g<10&&(p+="0"),o=p+=g.toString()),S.text(a),_.val(o).prop("type","hidden"),E.prop("checked",f),$("#frm-review").val(s),O(0),$("#modal .rateit").rateit("display",""+l),$("#current-tags ul li").remove(),$("#frm-tags").val(""),""!==c&&null!==c&&("string"==typeof c&&(c=c.replace(/\\'/g,"'"),c=$.parseJSON(c)),$.each(c,function(e,t){t=(""+t).trim().toLowerCase();var n=$("#current-tags");0==n.find("ul").length&&n.append('<ul class="tags"/>'),n.find("ul").append('<li class="tag"><span class="tag-content" title="'+t+'">'+t+'<i class="delete">&times;</i></span><input type="hidden" name="tag" class="tag-content" value="'+t+'" readonly /></li>')})),P.prop("checked",u),$("#frm-spoilers").prop("checked",d)),$("#poster-frame .poster img").remove(),$("#poster-frame").removeClass("no-poster").addClass("loading-poster"),$.get(i,function(e){$("#poster-frame").removeClass("loading-poster"),$("#poster-frame").empty().prepend(e),bxd.layout($("#poster-frame"))}),w=t,x=null==e||0===e,k=$("#frm-rewatch"),$.ajax({url:baseURL+"/s/check-film-like?filmId="+w,async:!1,dataType:"json",beforeSend:function(){$("#film-like-checkbox").addClass("ajax-working"),k.removeData("earliest-viewing-date"),k.removeData("earliest-viewing-id"),k.removeData("second-earliest-viewing-date")},complete:function(){$("#film-like-checkbox").removeClass("ajax-working")},success:function(e){e.result&&($("#film-like-checkbox").prop("checked",e.liked),x&&$("#modal .rateit").rateit("display",e.rating),k.data("earliest-viewing-date",e.earliestViewingDate),k.data("earliest-viewing-id",e.earliestViewingId),k.data("second-earliest-viewing-date",e.secondEarliestViewingDate))}}),$("#film-title").html(window.jsprettify.prettifyStr(n)),$("#film-year").html(r),$("#add-film").removeClass("not-expanded").addClass("expanded"),N(),renderMobile||($("#frm-review").off("focus.expand"),$("#frm-review").on("focus.expand",function(){var e=$(window).height()-40,t=e-$("#colorbox").outerHeight(),n=$("#frm-review");0<t&&($("#add-new-button").colorbox.resize({height:e}),null!==n.data("startheight")&&void 0!==n.data("startheight")||n.data("startheight",n.height()),n.animate({height:$(this).height()+t},200))})),f?(E.prop("checked",!0),j.parent().addClass("specify-date-label-open").closest(".js-specify-date").addClass("col-4").removeClass("col-6"),j.hide(),S.text(a),I.show(),D.show()):(E.prop("checked",!1),j.parent().removeClass("specify-date-label-open").closest(".js-specify-date").addClass("col-6").removeClass("col-4"),j.show(),I.hide(),D.hide()),$("#diary-entry-form").protectUnsavedChanges({reset:!0}),ga("send","pageview",e?"/analytics/edit-diary-entry-form/":"/analytics/new-diary-entry-form/")},$("#frm-specify-date").change(function(){$(this).prop("checked")?($("#frm-specify-date-label").hide(),$("#frm-specify-date-label").parent().addClass("specify-date-label-open").closest(".js-specify-date").addClass("col-4").removeClass("col-6"),$("#frm-watched-label").show(),$("#frm-rewatch-label").show()):($("#frm-specify-date-label").show(),$("#frm-specify-date-label").parent().removeClass("specify-date-label-open").closest(".js-specify-date").addClass("col-6").removeClass("col-4"),$("#frm-watched-label").hide(),$("#frm-rewatch-label").hide(),$("#frm-rewatch").prop("checked",!1))});var s={date:$("#frm-viewing-date-string").val(),current:$("#frm-viewing-date-string").val(),format:"d b Y",calendars:1,onBeforeShow:function(){$("#add-date").DatePickerSetDate($("#add-date").text(),!0)},onChange:function(e,t){$("#frm-viewing-date-string").val(t.getFullYear()+"-"+(t.getMonth()+1)+"-"+t.getDate()),$("#add-date").text(e).DatePickerHide()},onRender:function(e){return{disabled:e.valueOf()>$.now().valueOf()}}};renderMobile||(s.position="right"),$.fn.DatePicker&&$("#add-date").DatePicker(s),$.fn.autocomplete&&$("#frm-film-name").autocomplete($("#frm-film-name").data("url"),bxd.autocompleteConfig).result(function(e,t,n){a(),showReviewForm(null,t.id,t.name,t.image150,t.releaseYear,null,null,"",0,"",!1,!1,!1,!1)}),$(document).on("click",".edit-review-button",function(e){$("#frm-force-ajax").remove(),$(this).closest(".diary-entry-edit,body.film").length&&$("#diary-entry-form").append("<input type='hidden' name='json' id='frm-force-ajax' value='true'/>"),e.preventDefault()}),$(document).on("click",".sidebar-add-review",function(e){e.preventDefault(),$("#sidebar-add-review").click()});function l(){var e=$("#diary-entry-form:visible");return!(1===e.length&&e.data("form-initial-state")!=e.sanitisedSerialisedFormForProtection()&&!confirm("Are you sure you want to abandon this "+(0<e.find("#frm-review").val().length&&!e.find("#frm-specify-date").is(":checked")?"review":"diary entry")+"?"))}var c,N=function(){renderMobile?$("#add-new-button").colorbox.resize({width:"100%"}):($("#modal").addClass("wide"),$("#add-new-button").colorbox.resize({innerWidth:"800px"}))};$.fn.colorbox&&(c=$.colorbox.close,$.colorbox.close=function(){l()&&c()},$("#add-this-film").colorbox({inline:!0,escKey:!1,speed:renderMobile?0:300,overlayClose:!1,href:"#modal",scrolling:!1,onOpen:function(){$("#modal-userpanel").is(":visible")&&$("#userpanel-close").trigger("click"),$("#diary-entry-form-heading").text("I watched…"),a(),N(),$("#add-film").addClass("expanded").removeClass("not-expanded"),$("#back-to-film-search").hide()},onComplete:function(){var e=$(this).data("which-film-source");$("#back-to-film-search").hide(),showReviewForm(e.data("viewingId"),e.data("filmId"),e.attr("data-film-name"),e.data("posterUrl"),e.data("filmReleaseYear"),e.attr("data-viewing-date"),e.attr("data-viewing-date-str"),"",0,"",!1,!1,e.data("containsSpoilers"),e.data("specifiedDate"))},onClosed:function(){$("#add-film").removeClass("expanded").addClass("not-expanded"),$("#add-film .standard-messages").remove(),N(),$("#modal").removeClass("wide"),$("#diary-entry-form").protectUnsavedChanges({reset:!0})}})),$(document).on("click","a.add-this-film, a.menu-item-add-this-film",function(e){e.preventDefault(),$("#add-this-film").data("which-film-source",$(this)),$("#add-this-film").trigger("click")}),"undefined"!=typeof showDiaryEntryModal&&setTimeout(function(){var e=$(".add-this-film").first();$("#add-this-film").data("which-film-source",e).trigger("click")},0);var u,d=$("#add-new-button");function f(){var e;renderMobile||((e=$("#frm-review")).off("focus.expand"),e.data("startheight")&&e.innerHeight(e.data("startheight")))}d.length&&(u={inline:!0,escKey:!1,overlayClose:!1,href:"#modal",scrolling:!1,onOpen:function(){a(),$("#diary-entry-form-heading").text("I watched…"),$("#diary-entry-submit-button").prop("value","Save"),$("#back-to-film-search").show(),renderMobile&&$(window).scrollTop(0),ga("send","pageview","/analytics/add-film/")},onComplete:function(){$("#frm-film-name").focus()},onClosed:function(){$("#add-film").removeClass("expanded").addClass("not-expanded"),$("#add-film .standard-messages").remove(),N(),$("#modal").removeClass("wide"),$("#frm-film-name").trigger("close"),$("#diary-entry-form").protectUnsavedChanges({reset:!0})}},renderMobile&&(u.width="100%",u.initialWidth="288px",u.initialHeight="100px",u.transition="fade",u.speed=0),d.colorbox(u),$("#add-menu").find(".button-add-trigger").click(function(){d.trigger("click")}),$(document).on("click","#back-to-film-search",function(e){var t;e.preventDefault(),l()&&($("#add-film").removeClass("expanded").addClass("not-expanded"),$("#modal").removeClass("wide"),f(),(t={}).innerWidth=renderMobile?"288px":"660px",d.colorbox.resize(t,function(){$("#frm-film-name").focus().trigger("reveal")}),$("#diary-entry-form").protectUnsavedChanges({reset:!0}))})),globals.autoAddFilm&&(person.loggedIn?d.trigger("click"):(bxd.showMessages("error","Please sign in to add a film to your diary"),$("#header .sign-in-menu a").trigger("click")));var O=function(e){var t,n,i;"number"!=typeof e&&(e=300),t=h(),n=$("#contains-spoilers"),i=e,n.each(function(){$el=$(this),0<i&&!$el.data("disabled")&&t||(t?$el.data("disabled",!1).animate({opacity:1},i).find("input").prop("disabled",!1):$el.data("disabled",!0).animate({opacity:.35},i).find("input").prop("disabled",!0))})},h=function(){return 0<$("#frm-review").val().length};bxd.reauthFacebook=function(){$.fn.popupWindow({windowURL:baseURL+"/settings/enable-facebook-sharing/",windowName:"letterboxdfacebook",width:"980",height:"570",centerBrowser:!0})},$("#frm-review").change(O).keyup(O),$("#frm-specify-date").change(O);var p=$("#diary-entry-form");$(document).on("submit","#diary-entry-form",function(e){$("#diary-entry-submit-button, #diary-entry-delete-button").css("opacity","0.5").prop("disabled",!0);var t=p.serialize();$("#frm-viewing-id").val(),$("#frm-film-id").val();return $.ajax({url:p.attr("action"),data:t,type:"POST",complete:function(){$("#diary-entry-submit-button, #diary-entry-delete-button").css("opacity","1").prop("disabled",!1)},error:function(e,t,n){bxd.showMessages("error",[n]),p.revertUnsavedChanges()},success:function(e,t,n){var i,r;-1==n.getResponseHeader("Content-Type").indexOf("text/json")?($("#diary-entry-form").protectUnsavedChanges({reset:!0}),$("#add-new-button").colorbox.close(),$("#modal-userpanel").remove(),$("#content .content-wrap").empty().append(e),renderMobile&&$("body").hasClass("view")&&bxd.mobileFilmActions(),bxd.layout($("#content .content-wrap"))):(e.csrf&&(supermodelCSRF=e.csrf,$("input[name=__csrf]").val(e.csrf)),e.result?($("#diary-entry-form").protectUnsavedChanges({reset:!0}),$("#add-new-button").colorbox.close(),bxd.setAsWatched(e.filmId,!0),e.rating&&$("#frm-sidebar-rating[data-film-id="+e.filmId+"]").val(e.rating).trigger("init-sidebar-rating"),bxd.removeFromWatchlist(e.filmId),PubSub.publish("like:film:"+e.filmId,{liked:e.liked}),e.viewingId&&(i=$(".diary-entry-row[data-viewing-id="+e.viewingId+"]"),(r=$(".edit-review-button[data-viewing-id="+e.viewingId+"]")).attr("data-viewing-date",e.viewingDate),r.attr("data-viewing-date-str",e.viewingDateStr),r.attr("data-review-text",e.reviewText),e.reviewText?i.find(".td-review").removeClass("icon-status-off"):i.find(".td-review").addClass("icon-status-off"),r.attr("data-rating",e.rating),0===e.rating?i.addClass("not-rated"):i.removeClass("not-rated"),r.data("rating",e.rating),i.find(".rateit").rateit("display",e.rating),r.data("tags",e.tags),r.attr("data-rewatch",e.rewatch),r.data("rewatch",e.rewatch),e.rewatch?i.find(".td-rewatch").removeClass("icon-status-off"):i.find(".td-rewatch").addClass("icon-status-off"),r.attr("data-specified-date",e.specifiedDate),r.data("specifiedDate",e.specifiedDate),r.attr("data-contains-spoilers",e.containsSpoilers),r.data("containsSpoilers",e.containsSpoilers)),e.messages&&setTimeout(function(){bxd.showMessages("success",e.messages)},1e3)):(e.messages&&bxd.showMessages("error",e.messages),p.revertUnsavedChanges()))}}),!1}),$(document).on("ajax-working",".like-link .ajax-click-action",function(){var e=$(this).closest(".like-link-target");PubSub.publish("like:"+e.data("likeableUid"),{processing:!0})}).on("ajax-complete",".like-link .ajax-click-action",function(e,t,n,i){var r=$(this).closest(".like-link-target");PubSub.publish("like:"+r.data("likeableUid"),{processing:!1})}).on("ajax-success",".like-link .ajax-click-action",function(e,t,n,i){var r;t.result&&(r="like:"+$(this).closest(".like-link-target").data("likeableUid"),PubSub.publish(r,t),ga("send","event","Films","Like or Unlike")),t.messages&&bxd.showMessages(t.result?"success":"error",t.messages)}),$(document).on("ajax-working",".film-watch-link .ajax-click-action",function(){$(this).closest(".js-actions-panel").length?$(this).toggleClass("-on"):$(this).toggleClass("icon-watch icon-watched")}).on("ajax-success",".film-watch-link .ajax-click-action",function(e,t,n,i){bxd.setAsWatched(t.filmId,t.watched),t.watched&&bxd.removeFromWatchlist(t.filmId),t.result&&y.length&&(t.watched?b.up():b.down()),t.messages&&bxd.showMessages(t.result?"success":"error",t.messages),ga("send","event","Films",t.watched?"Watch":"Unwatch")}),renderMobile||($(document).on("mouseover",".film-watch-link .icon-watched",function(){$(this).children(".watched-text").text("I haven’t watched this")}).on("mouseout",".film-watch-link .icon-watched",function(){$(this).children(".watched-text").text("You’ve watched this")}),$(document).on("mouseover",".film-watch-link.-large.-watched",function(){$(this).children(".action.-watch").html("Remove")}).on("mouseout",".film-watch-link.-large.-watched",function(){$(this).children(".action.-watch").html("Watched")})),$("a.add-new-link").click(function(e){e.preventDefault(),$("#add-new-button").trigger("click")});var m,g=null;renderMobile||((m=$("<li></li>")).append($("#header .js-nav-account a.toggle-menu").clone()),$("#header nav ul.subnav").prepend(m),$("#header .js-nav-account").hover(function(){clearTimeout(g),$("#header nav ul.subnav").show()},function(){g=setTimeout(function(){$("#header nav ul.subnav").hide()},300)}),$(document).on("click","#header .js-nav-account a.toggle-menu",function(e){e.preventDefault(),window.isTouchOnly&&$("#header nav ul.subnav").is(":visible")?$("#header nav ul.subnav").hide():$("#header nav ul.subnav").show()}));var v=$("a.send-invitation");v.length&&v.colorbox({href:$("a.send-invitation").attr("href")+" #modal",fixed:!0,overlayClose:!1,onComplete:function(){bxd.layout($("#modal")),$("#invitation-form").submit(function(e){return e.preventDefault(),$(".send-invitation-button").trigger("click"),!1}),$(".send-invitation-button").data("ajax-data",function(){return $("#invitation-form").serialize()}).bind("ajax-success",function(e,t,n,i){t.messages&&bxd.showMessages(t.result?"success":"error",t.messages.join(", "),{sticky:!0}),t.result&&($(".send-invitation-button").addClass("button-action-disabled -disabled"),setTimeout(function(){location.reload(!0)},2e3))})}});var y=$(".progress-panel"),b={container:y.find(".progress-container"),textwrapper:y.find(".progress-counter"),textcount:y.find(".js-progress-count"),textpercent:y.find(".progress-percentage"),count:y.data("count"),total:y.data("total"),bar:y.find(".progress-bar"),up:function(){b.count++,b.stretch()},down:function(){b.count--,b.stretch()},stretch:function(){var e=0===b.total?0:Math.floor(100*b.count/b.total);b.textcount.text(b.count),b.textpercent.text(e),b.bar.animate({width:e+"%"},200,"linear",function(){b.count<=0?(b.container.addClass("zero-count"),b.container.removeClass("near-end")):99<e?(b.container.addClass("near-end"),b.container.removeClass("zero-count")):(b.container.removeClass("zero-count"),b.container.removeClass("near-end"))})}};b.stretch()}),$(window).resize(function(){$("#frm-film-name").trigger("close")}),$(window).load(function(){$("#header nav .js-nav-account").css({right:$("#header nav").width()}).show()})},,,,,function(e,t,n){"use strict";n.d(t,"a",function(){return o});var i=function(){return(i=Object.assign||function(e){for(var t,n=1,i=arguments.length;n<i;n++)for(var r in t=arguments[n])Object.prototype.hasOwnProperty.call(t,r)&&(e[r]=t[r]);return e}).apply(this,arguments)},r={lines:12,length:7,width:5,radius:10,scale:1,corners:1,color:"#000",fadeColor:"transparent",animation:"spinner-line-fade-default",rotate:0,direction:1,speed:1,zIndex:2e9,className:"spinner",top:"50%",left:"50%",shadow:"0 0 1px transparent",position:"absolute"},o=(a.prototype.spin=function(e){return this.stop(),this.el=document.createElement("div"),this.el.className=this.opts.className,this.el.setAttribute("role","progressbar"),u(this.el,{position:this.opts.position,width:0,zIndex:this.opts.zIndex,left:this.opts.left,top:this.opts.top,transform:"scale("+this.opts.scale+")"}),e&&e.insertBefore(this.el,e.firstChild||null),function(e,t){var n=Math.round(t.corners*t.width*500)/1e3+"px",i="none";!0===t.shadow?i="0 2px 4px #000":"string"==typeof t.shadow&&(i=t.shadow);for(var r=function(e){for(var t=/^\s*([a-zA-Z]+\s+)?(-?\d+(\.\d+)?)([a-zA-Z]*)\s+(-?\d+(\.\d+)?)([a-zA-Z]*)(.*)$/,n=[],i=0,r=e.split(",");i<r.length;i++){var o,a,s,l,c=r[i].match(t);null!==c&&(o=+c[2],a=+c[5],s=c[4],l=c[7],0!=o||s||(s=l),0!=a||l||(l=s),s===l&&n.push({prefix:c[1]||"",x:o,y:a,xUnits:s,yUnits:l,end:c[8]}))}return n}(i),o=0;o<t.lines;o++){var a=~~(360/t.lines*o+t.rotate),s=u(document.createElement("div"),{position:"absolute",top:-t.width/2+"px",width:t.length+t.width+"px",height:t.width+"px",background:d(t.fadeColor,o),borderRadius:n,transformOrigin:"left",transform:"rotate("+a+"deg) translateX("+t.radius+"px)"}),l=o*t.direction/t.lines/t.speed;l-=1/t.speed;var c=u(document.createElement("div"),{width:"100%",height:"100%",background:d(t.color,o),borderRadius:n,boxShadow:function(e,t){for(var n=[],i=0,r=e;i<r.length;i++){var o=r[i],a=function(e,t,n){var i=n*Math.PI/180,r=Math.sin(i),o=Math.cos(i);return[Math.round(1e3*(e*o+t*r))/1e3,Math.round(1e3*(-e*r+t*o))/1e3]}(o.x,o.y,t);n.push(o.prefix+a[0]+o.xUnits+" "+a[1]+o.yUnits+o.end)}return n.join(", ")}(r,a),animation:1/t.speed+"s linear "+l+"s infinite "+t.animation});s.appendChild(c),e.appendChild(s)}}(this.el,this.opts),this},a.prototype.stop=function(){return this.el&&(("undefined"!=typeof requestAnimationFrame?cancelAnimationFrame:clearTimeout)(this.animateId),this.el.parentNode&&this.el.parentNode.removeChild(this.el),this.el=void 0),this},a);function a(e){void 0===e&&(e={}),this.opts=i(i({},r),e)}function u(e,t){for(var n in t)e.style[n]=t[n];return e}function d(e,t){return"string"==typeof e?e:e[t%e.length]}},,function(e,t,n){"use strict";
/*
object-assign
(c) Sindre Sorhus
@license MIT
*/var l=Object.getOwnPropertySymbols,c=Object.prototype.hasOwnProperty,u=Object.prototype.propertyIsEnumerable;e.exports=function(){try{if(!Object.assign)return;var e=new String("abc");if(e[5]="de","5"===Object.getOwnPropertyNames(e)[0])return;for(var t={},n=0;n<10;n++)t["_"+String.fromCharCode(n)]=n;if("0123456789"!==Object.getOwnPropertyNames(t).map(function(e){return t[e]}).join(""))return;var i={};return"abcdefghijklmnopqrst".split("").forEach(function(e){i[e]=e}),"abcdefghijklmnopqrst"!==Object.keys(Object.assign({},i)).join("")?void 0:1}catch(e){return}}()?Object.assign:function(e,t){for(var n,i,r=function(e){if(null==e)throw new TypeError("Object.assign cannot be called with null or undefined");return Object(e)}(e),o=1;o<arguments.length;o++){for(var a in n=Object(arguments[o]))c.call(n,a)&&(r[a]=n[a]);if(l){i=l(n);for(var s=0;s<i.length;s++)u.call(n,i[s])&&(r[i[s]]=n[i[s]])}}return r}},,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,function(e,r,t){(function(i){!function(e){"use strict";var t={};e.PubSub=t;var n=e.define;!function(c){"use strict";var u={},i=-1,a="*";function r(e){var t;for(t in e){if(e.hasOwnProperty(t)){return true}}return false}function o(t){return function e(){throw t}}function s(e,t,n){try{e(t,n)}catch(e){setTimeout(o(e),0)}}function l(e,t,n){e(t,n)}function d(e,t,n,i){var r=u[t],o=i?l:s,a;if(!u.hasOwnProperty(t)){return}for(a in r){if(r.hasOwnProperty(a)){o(r[a],e,n)}}}function f(i,r,o){return function e(){var t=String(i),n=t.lastIndexOf(".");d(i,i,r,o);while(n!==-1){t=t.substr(0,n);n=t.lastIndexOf(".");d(i,t,r,o)}d(i,a,r,o)}}function h(e){var t=String(e),n=Boolean(u.hasOwnProperty(t)&&r(u[t]));return n}function p(e){var t=String(e),n=h(t)||h(a),i=t.lastIndexOf(".");while(!n&&i!==-1){t=t.substr(0,i);i=t.lastIndexOf(".");n=h(t)}return n}function n(e,t,n,i){e=typeof e==="symbol"?e.toString():e;var r=f(e,t,i),o=p(e);if(!o){return false}if(n===true){r()}else{setTimeout(r,0)}return true}c.publish=function(e,t){return n(e,t,false,c.immediateExceptions)},c.publishSync=function(e,t){return n(e,t,true,c.immediateExceptions)},c.subscribe=function(e,t){if(typeof t!=="function"){return false}e=typeof e==="symbol"?e.toString():e;if(!u.hasOwnProperty(e)){u[e]={}}var n="uid_"+String(++i);u[e][n]=t;return n},c.subscribeAll=function(e){return c.subscribe(a,e)},c.subscribeOnce=function(e,t){var n=c.subscribe(e,function(){c.unsubscribe(n);t.apply(this,arguments)});return c},c.clearAllSubscriptions=function e(){u={}},c.clearSubscriptions=function e(t){var n;for(n in u){if(u.hasOwnProperty(n)&&n.indexOf(t)===0){delete u[n]}}},c.countSubscriptions=function e(t){var n;var i=0;for(n in u){if(u.hasOwnProperty(n)&&n.indexOf(t)===0){i++}}return i},c.getSubscriptions=function e(t){var n;var i=[];for(n in u){if(u.hasOwnProperty(n)&&n.indexOf(t)===0){i.push(n)}}return i},c.unsubscribe=function(e){var t=function(e){var t;for(t in u){if(u.hasOwnProperty(t)&&t.indexOf(e)===0){return true}}return false},n=typeof e==="string"&&(u.hasOwnProperty(e)||t(e)),i=!n&&typeof e==="string",r=typeof e==="function",o=false,a,s,l;if(n){c.clearSubscriptions(e);return}for(a in u){if(u.hasOwnProperty(a)){s=u[a];if(i&&s[e]){delete s[e];o=e;break}if(r){for(l in s){if(s.hasOwnProperty(l)&&s[l]===e){delete s[l];o=true}}}}}return o}}(t),"function"==typeof n&&n.amd?n(function(){return t}):(void 0!==i&&i.exports&&(r=i.exports=t),r.PubSub=t,i.exports=r=t)}("object"==typeof window&&window||this)}).call(this,t(22)(e))},function(e,f,h){(function(e){var t;function n(e){return(n="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}!function(i,r){"use strict";var o,a,s,l;function c(e,t){for(var n=0,i=e.length,r=[];n<i;n++)r[n]=t(e[n],n);return r}function u(e){return e}function d(e,t){var n=this,i=r;t=t||{},void 0!==e&&("string"==typeof e?(t.selector=e,e=void 0):e.hasOwnProperty("length")||(t=e,e=void 0)),this.imagesOffScreen=[],this.viewportHeight=i.documentElement.clientHeight,this.selector=t.selector||".delayed-image-load",this.className=t.className||"image-replace",this.gif=i.createElement("img"),this.gif.src="data:image/gif;base64,R0lGODlhEAAJAIAAAP///wAAACH5BAEAAAAALAAAAAAQAAkAAAIKhI+py+0Po5yUFQA7",this.gif.className=this.className,this.gif.alt="",this.scrollDelay=t.scrollDelay||250,this.onResize=!t.hasOwnProperty("onResize")||t.onResize,this.lazyload=!!t.hasOwnProperty("lazyload")&&t.lazyload,this.lazyloadOffset=t.hasOwnProperty("lazyloadOffset")?t.lazyloadOffset:0,this.scrolled=!1,this.devicePixelRatio=d.getPixelRatio(),void 0===t.availableWidths&&(t.availableWidths=o),"function"==typeof t.afterChange&&(this.afterChange=t.afterChange),s(t.availableWidths)?(this.availableWidths=t.availableWidths,this.widthsMap=d.createWidthsMap(this.availableWidths)):(this.availableWidths=a(t.availableWidths),this.widthsMap=t.availableWidths),this.availableWidths=this.availableWidths.sort(function(e,t){return e-t}),e?(this.divs=c(e,u),this.selector=null):this.divs=c(i.querySelectorAll(this.selector),u),this.changeDivsToEmptyImages(),l(function(){n.init()})}l=i.requestAnimationFrame||i.mozRequestAnimationFrame||i.webkitRequestAnimationFrame||function(e){i.setTimeout(e,1e3/60)},o=[96,130,165,200,235,270,304,340,375,410,445,485,520,555,590,625,660,695,736],a="function"==typeof Object.keys?Object.keys:function(e){var t,n=[];for(t in e)n.push(t);return n},s=function(e){return"[object Array]"===Object.prototype.toString.call(e)},d.prototype.scrollCheck=function(){this.scrolled&&(this.imagesOffScreen.length||i.clearInterval(this.interval),this.divs=this.imagesOffScreen.slice(0),this.imagesOffScreen.length=0,this.changeDivsToEmptyImages(),this.scrolled=!1)},d.prototype.init=function(){this.initialized=!0,this.checkImagesNeedReplacing(this.divs),this.onResize&&this.registerResizeEvent(),this.lazyload&&this.registerScrollEvent()},d.prototype.createGif=function(e){if(e.className.match(new RegExp("(^| )"+this.className+"( |$)")))return e;var t=this.gif.cloneNode(!1);return t.width=e.getAttribute("data-width"),t.setAttribute("data-src",e.getAttribute("data-src")),t.setAttribute("alt",e.getAttribute("data-alt")||this.gif.alt),e.parentNode.replaceChild(t,e),t},d.prototype.changeDivsToEmptyImages=function(){var n=this;c(this.divs,function(e,t){!n.lazyload||n.isThisElementOnScreen(e)?n.divs[t]=n.createGif(e):n.imagesOffScreen.push(e)}),this.initialized&&this.checkImagesNeedReplacing(this.divs)},d.prototype.isThisElementOnScreen=function(e){var t=i.hasOwnProperty("pageYOffset")?i.pageYOffset:r.documentElement.scrollTop,n=0;if(e.offsetParent)for(;n+=e.offsetTop,e=e.offsetParent;);return n<this.viewportHeight+t+this.lazyloadOffset},d.prototype.checkImagesNeedReplacing=function(e){var t=this;this.isResizing||(this.isResizing=!0,c(e,function(e){t.replaceImagesBasedOnScreenDimensions(e)}),this.isResizing=!1)},d.prototype.replaceImagesBasedOnScreenDimensions=function(e){var t="function"==typeof this.availableWidths?this.availableWidths(e):this.determineAppropriateResolution(e),n=this.changeImageSrcToUseNewImageDimensions(e.getAttribute("data-src"),t);e.src=n,"function"==typeof this.afterChange&&this.afterChange(e)},d.prototype.determineAppropriateResolution=function(e){for(var t=e.clientWidth,n=this.availableWidths.length,i=this.availableWidths[n-1];n--;)t<=this.availableWidths[n]&&(i=this.availableWidths[n]);return i},d.prototype.changeImageSrcToUseNewImageDimensions=function(e,t){return e.replace(/{width}/g,d.transforms.width(t,this.widthsMap)).replace(/{pixel_ratio}/g,d.transforms.pixelRatio(this.devicePixelRatio))},d.getPixelRatio=function(){return i.devicePixelRatio||1},d.createWidthsMap=function(e){for(var t={},n=e.length;n--;)t[e[n]]=null;return t},d.transforms={pixelRatio:function(e){return 1===e?"":"-"+e+"x"},width:function(e,t){return t[e]||e}},d.prototype.registerResizeEvent=function(){var e=this;i.addEventListener("resize",function(){e.checkImagesNeedReplacing(e.divs)},!1)},d.prototype.registerScrollEvent=function(){var e=this;this.scrolled=!1,this.interval=i.setInterval(function(){e.scrollCheck()},e.scrollDelay),i.addEventListener("scroll",function(){e.scrolled=!0},!1)},"object"===n(e)&&"object"===n(e.exports)?e.exports=f=d:void 0===(t=function(){return d}.call(f,h,f,e))||(e.exports=t)}(window,document)}).call(this,h(22)(e))},,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,function(e,t,n){"use strict";n.r(t);n(37),n(340),n(341),n(48),n(49),n(50),n(346),n(347),n(348),n(87),n(56),n(52),n(354),n(355),n(46);var i=n(224),r=n.n(i),o=n(225),a=n.n(o);n(57),n(54);function s(e){e.keys().forEach(e)}window.Modernizr=n(27),window.isTouchOnly=!1,window&&window.matchMedia&&(window.matchMedia("(any-pointer: coarse)").matches&&(window.isTouchOnly=!0),matchMedia("(hover: none)").matches||(window.isTouchOnly=!1),window.isTouchOnly?document.documentElement.className+=" has-touch":document.documentElement.className+=" has-no-touch"),s(n(297)),s(n(342)),window.Bloodhound=n(349),n(350),window.PubSub=r.a,window.Imager=a.a,window.tagAutocompleter=n(356).tagAutocompleter,s(n(357)),s(n(377)),s(n(387))},function(e,t,n){var i={"./covervid.js":298,"./fastclick.js":299,"./isInViewport.js":300,"./jquery.ajaxQueue.js":301,"./jquery.autocomplete.js":302,"./jquery.autogrow-textarea.js":303,"./jquery.ba-throttle-debounce.js":304,"./jquery.bridget.js":305,"./jquery.clip.js":306,"./jquery.color.js":307,"./jquery.colorbox.js":308,"./jquery.condense.js":309,"./jquery.cookie.js":310,"./jquery.datepicker.js":311,"./jquery.debouncedresize.js":312,"./jquery.easing.1.3.js":313,"./jquery.fullscreenr.js":79,"./jquery.hotkeys.js":314,"./jquery.jnotify.js":315,"./jquery.lazyload.js":316,"./jquery.localScroll.js":317,"./jquery.localtime.js":318,"./jquery.overthrow.js":319,"./jquery.padme.js":320,"./jquery.popupWindow.js":321,"./jquery.rateit.js":55,"./jquery.react.js":322,"./jquery.scrollTo.js":328,"./jquery.smooth-scroll.js":329,"./jquery.sticky-kit.js":330,"./jquery.textoverflow.js":331,"./jquery.timeago.js":78,"./jquery.tmpl.js":332,"./jquery.touchwipe.1.1.1.js":333,"./jquery.waypoints.js":334,"./jquery.waypointsplugin.inview.js":335,"./lb.bganimate.js":336,"./lb.popmenu.js":337,"./lb.selectmenu.js":338,"./lb.spinner.js":47,"./setWaypointStates.js":339};function r(e){var t=o(e);return n(t)}function o(e){if(n.o(i,e))return i[e];var t=new Error("Cannot find module '"+e+"'");throw t.code="MODULE_NOT_FOUND",t}r.keys=function(){return Object.keys(i)},r.resolve=o,(e.exports=r).id=297},function(e,t){window.jQuery&&jQuery.fn.extend({coverVid:function(e,t){return function(n,i,r){var o,a,s;t(),window.addEventListener("resize",(o=t,a=50,s=null,function(){var e=this,t=arguments;window.clearTimeout(s),s=window.setTimeout(function(){o.apply(e,t)},a)})),n.style.position="absolute",n.style.top="50%",n.style.left="50%",n.style["-webkit-transform"]="translate(-50%, -50%)",n.style["-ms-transform"]="translate(-50%, -50%)",n.style.transform="translate(-50%, -50%)",n.parentNode.style.overflow="hidden";var e=n.getAttribute("poster");function t(){var e=n.parentNode.offsetHeight,t=n.parentNode.offsetWidth;e/r<t/i?(n.style.height="auto",n.style.width=t+"px"):(n.style.height=e+"px",n.style.width="auto")}n.removeAttribute("poster"),n.parentNode.style.backgroundImage="url("+e+")",n.parentNode.style.backgroundSize="cover",n.parentNode.style.backgroundPosition="center center";var l=void 0!==n.canPlayType,c=!1;(/(android|bb\d+|meego).+mobile|avantgo|bada\/|blackberry|blazer|compal|elaine|fennec|hiptop|iemobile|ip(hone|od)|ipad|iris|kindle|Android|Silk|lge |maemo|midp|mmp|netfront|opera m(ob|in)i|palm( os)?|phone|p(ixi|re)\/|plucker|pocket|psp|series(4|6)0|symbian|treo|up\.(browser|link)|vodafone|wap|windows (ce|phone)|xda|xiino/i.test(navigator.userAgent)||/1207|6310|6590|3gso|4thp|50[1-6]i|770s|802s|a wa|abac|ac(er|oo|s\-)|ai(ko|rn)|al(av|ca|co)|amoi|an(ex|ny|yw)|aptu|ar(ch|go)|as(te|us)|attw|au(di|\-m|r |s )|avan|be(ck|ll|nq)|bi(lb|rd)|bl(ac|az)|br(e|v)w|bumb|bw\-(n|u)|c55\/|capi|ccwa|cdm\-|cell|chtm|cldc|cmd\-|co(mp|nd)|craw|da(it|ll|ng)|dbte|dc\-s|devi|dica|dmob|do(c|p)o|ds(12|\-d)|el(49|ai)|em(l2|ul)|er(ic|k0)|esl8|ez([4-7]0|os|wa|ze)|fetc|fly(\-|_)|g1 u|g560|gene|gf\-5|g\-mo|go(\.w|od)|gr(ad|un)|haie|hcit|hd\-(m|p|t)|hei\-|hi(pt|ta)|hp( i|ip)|hs\-c|ht(c(\-| |_|a|g|p|s|t)|tp)|hu(aw|tc)|i\-(20|go|ma)|i230|iac( |\-|\/)|ibro|idea|ig01|ikom|im1k|inno|ipaq|iris|ja(t|v)a|jbro|jemu|jigs|kddi|keji|kgt( |\/)|klon|kpt |kwc\-|kyo(c|k)|le(no|xi)|lg( g|\/(k|l|u)|50|54|\-[a-w])|libw|lynx|m1\-w|m3ga|m50\/|ma(te|ui|xo)|mc(01|21|ca)|m\-cr|me(rc|ri)|mi(o8|oa|ts)|mmef|mo(01|02|bi|de|do|t(\-| |o|v)|zz)|mt(50|p1|v )|mwbp|mywa|n10[0-2]|n20[2-3]|n30(0|2)|n50(0|2|5)|n7(0(0|1)|10)|ne((c|m)\-|on|tf|wf|wg|wt)|nok(6|i)|nzph|o2im|op(ti|wv)|oran|owg1|p800|pan(a|d|t)|pdxg|pg(13|\-([1-8]|c))|phil|pire|pl(ay|uc)|pn\-2|po(ck|rt|se)|prox|psio|pt\-g|qa\-a|qc(07|12|21|32|60|\-[2-7]|i\-)|qtek|r380|r600|raks|rim9|ro(ve|zo)|s55\/|sa(ge|ma|mm|ms|ny|va)|sc(01|h\-|oo|p\-)|sdk\/|se(c(\-|0|1)|47|mc|nd|ri)|sgh\-|shar|sie(\-|m)|sk\-0|sl(45|id)|sm(al|ar|b3|it|t5)|so(ft|ny)|sp(01|h\-|v\-|v )|sy(01|mb)|t2(18|50)|t6(00|10|18)|ta(gt|lk)|tcl\-|tdg\-|tel(i|m)|tim\-|t\-mo|to(pl|sh)|ts(70|m\-|m3|m5)|tx\-9|up(\.b|g1|si)|utst|v400|v750|veri|vi(rg|te)|vk(40|5[0-3]|\-v)|vm40|voda|vulc|vx(52|53|60|61|70|80|81|83|85|98)|w3c(\-| )|webc|whit|wi(g |nc|nw)|wmlb|wonu|x700|yas\-|your|zeto|zte\-/i.test(navigator.userAgent.substr(0,4)))&&(c=!0),l&&!c||n&&n.parentNode&&n.parentNode.removeChild(n)}(this[0],e,t),this}})},function(e,t,n){var i;
/**
 * @preserve FastClick: polyfill to remove click delays on browsers with touch UIs.
 *
 * @version 0.6.1
 * @codingstandard ftlabs-jsv2
 * @copyright The Financial Times Limited [All Rights Reserved]
 * @license MIT License (see LICENSE.txt)
 */function o(r){"use strict";var t,e=this;if(this.trackingClick=!1,this.trackingClickStart=0,this.targetElement=null,this.touchStartX=0,this.touchStartY=0,this.lastTouchIdentifier=0,!(this.layer=r)||!r.nodeType)throw new TypeError("Layer must be a document node");this.onClick=function(){return o.prototype.onClick.apply(e,arguments)},this.onMouse=function(){return o.prototype.onMouse.apply(e,arguments)},this.onTouchStart=function(){return o.prototype.onTouchStart.apply(e,arguments)},this.onTouchEnd=function(){return o.prototype.onTouchEnd.apply(e,arguments)},this.onTouchCancel=function(){return o.prototype.onTouchCancel.apply(e,arguments)},void 0!==window.ontouchstart&&(this.deviceIsAndroid&&(r.addEventListener("mouseover",this.onMouse,!0),r.addEventListener("mousedown",this.onMouse,!0),r.addEventListener("mouseup",this.onMouse,!0)),r.addEventListener("click",this.onClick,!0),r.addEventListener("touchstart",this.onTouchStart,!1),r.addEventListener("touchend",this.onTouchEnd,!1),r.addEventListener("touchcancel",this.onTouchCancel,!1),Event.prototype.stopImmediatePropagation||(r.removeEventListener=function(e,t,n){var i=Node.prototype.removeEventListener;"click"===e?i.call(r,e,t.hijacked||t,n):i.call(r,e,t,n)},r.addEventListener=function(e,t,n){var i=Node.prototype.addEventListener;"click"===e?i.call(r,e,t.hijacked||(t.hijacked=function(e){e.propagationStopped||t(e)}),n):i.call(r,e,t,n)}),"function"==typeof r.onclick&&(t=r.onclick,r.addEventListener("click",function(e){t(e)},!1),r.onclick=null))}o.prototype.deviceIsAndroid=0<navigator.userAgent.indexOf("Android"),o.prototype.deviceIsIOS=/iP(ad|hone|od)/.test(navigator.userAgent),o.prototype.deviceIsIOS4=o.prototype.deviceIsIOS&&/OS 4_\d(_\d)?/.test(navigator.userAgent),o.prototype.deviceIsIOSWithBadTarget=o.prototype.deviceIsIOS&&/OS ([6-9]|\d{2})_\d/.test(navigator.userAgent),o.prototype.needsClick=function(e){"use strict";if(/\bneedsclick\b/.test(e.className))return!0;switch(e.nodeName.toLowerCase()){case"button":case"input":return this.deviceIsIOS&&"file"===e.type?!0:e.disabled;case"label":case"video":return!0;default:return!1}},o.prototype.needsFocus=function(e){"use strict";switch(e.nodeName.toLowerCase()){case"textarea":case"select":return!0;case"input":switch(e.type){case"button":case"checkbox":case"file":case"image":case"radio":case"submit":return!1}return!e.disabled;default:return/\bneedsfocus\b/.test(e.className)}},o.prototype.sendClick=function(e,t){"use strict";var n,i;document.activeElement&&document.activeElement!==e&&document.activeElement.blur(),i=t.changedTouches[0],(n=document.createEvent("MouseEvents")).initMouseEvent("click",!0,!0,window,1,i.screenX,i.screenY,i.clientX,i.clientY,!1,!1,!1,!1,0,null),n.forwardedTouchEvent=!0,e.dispatchEvent(n)},o.prototype.focus=function(e){"use strict";var t;this.deviceIsIOS&&e.setSelectionRange?(t=e.value.length,e.setSelectionRange(t,t)):e.focus()},o.prototype.updateScrollParent=function(e){"use strict";var t,n=e.fastClickScrollParent;if(!n||!n.contains(e)){t=e;do{if(t.scrollHeight>t.offsetHeight){n=t,e.fastClickScrollParent=t;break}t=t.parentElement}while(t)}n&&(n.fastClickLastScrollTop=n.scrollTop)},o.prototype.getTargetElementFromEventTarget=function(e){"use strict";return e.nodeType===Node.TEXT_NODE?e.parentNode:e},o.prototype.onTouchStart=function(e){"use strict";var t,n=this.getTargetElementFromEventTarget(e.target),i=e.targetTouches[0];if(this.deviceIsIOS){if((t=window.getSelection()).rangeCount&&!t.isCollapsed)return!0;if(!this.deviceIsIOS4){if(i.identifier===this.lastTouchIdentifier)return e.preventDefault(),!1;this.lastTouchIdentifier=i.identifier,this.updateScrollParent(n)}}return this.trackingClick=!0,this.trackingClickStart=e.timeStamp,this.targetElement=n,this.touchStartX=i.pageX,this.touchStartY=i.pageY,e.timeStamp-this.lastClickTime<200&&e.preventDefault(),!0},o.prototype.touchHasMoved=function(e){"use strict";var t=e.changedTouches[0];return 10<Math.abs(t.pageX-this.touchStartX)||10<Math.abs(t.pageY-this.touchStartY)},o.prototype.findControl=function(e){"use strict";return void 0!==e.control?e.control:e.htmlFor?document.getElementById(e.htmlFor):e.querySelector("button, input:not([type=hidden]), keygen, meter, output, progress, select, textarea")},o.prototype.onTouchEnd=function(e){"use strict";var t,n,i,r,o,a,s=this.targetElement;if(this.touchHasMoved(e)&&(this.trackingClick=!1,this.targetElement=null),!this.trackingClick)return!0;if(e.timeStamp-this.lastClickTime<200)return this.cancelNextClick=!0;if(this.lastClickTime=e.timeStamp,n=this.trackingClickStart,this.trackingClick=!1,this.trackingClickStart=0,this.deviceIsIOSWithBadTarget&&(o=e.changedTouches[0],s=document.elementFromPoint(o.pageX-window.pageXOffset,o.pageY-window.pageYOffset)),"label"===(i=s.tagName.toLowerCase())){if(t=this.findControl(s)){if(this.focus(s),this.deviceIsAndroid)return!1;s=t}}else if(this.needsFocus(s))return 100<e.timeStamp-n||this.deviceIsIOS&&window.top!==window&&"input"===i?this.targetElement=null:(this.focus(s),this.deviceIsIOS4&&"select"===i||(this.targetElement=null,e.preventDefault())),!1;return!(!this.deviceIsIOS||this.deviceIsIOS4||!(r=s.fastClickScrollParent)||r.fastClickLastScrollTop===r.scrollTop)||(this.needsClick(s)||(e.preventDefault(),a=this,setTimeout(function(){a.sendClick(s,e)},0)),!1)},o.prototype.onTouchCancel=function(){"use strict";this.trackingClick=!1,this.targetElement=null},o.prototype.onMouse=function(e){"use strict";return!this.targetElement||(!!e.forwardedTouchEvent||(!e.cancelable||(!(!this.needsClick(this.targetElement)||this.cancelNextClick)||(e.stopImmediatePropagation?e.stopImmediatePropagation():e.propagationStopped=!0,e.stopPropagation(),e.preventDefault(),!1))))},o.prototype.onClick=function(e){"use strict";var t;return this.trackingClick?(this.targetElement=null,!(this.trackingClick=!1)):"submit"===e.target.type&&0===e.detail||((t=this.onMouse(e))||(this.targetElement=null),t)},o.prototype.destroy=function(){"use strict";var e=this.layer;this.deviceIsAndroid&&(e.removeEventListener("mouseover",this.onMouse,!0),e.removeEventListener("mousedown",this.onMouse,!0),e.removeEventListener("mouseup",this.onMouse,!0)),e.removeEventListener("click",this.onClick,!0),e.removeEventListener("touchstart",this.onTouchStart,!1),e.removeEventListener("touchend",this.onTouchEnd,!1),e.removeEventListener("touchcancel",this.onTouchCancel,!1)},o.attach=function(e){"use strict";return new o(e)},void 0===(i=function(){"use strict";return o}.call(t,n,t,e))||(e.exports=i),e.exports&&(e.exports=o.attach,e.exports.FastClick=o)},function(e,t){
/**
 * @author  Mudit Ameta
 * @license https://github.com/zeusdeux/isInViewport/blob/master/license.md MIT
 */
var u;(u=jQuery).fn.isInViewport=function e(t){var n=this.get(0),i=n.getBoundingClientRect(),r=i.top,o=i.bottom,a=u(window).scrollTop()===u(document).height()-u(window).height(),s=""+n.offsetLeft+n.offsetTop+i.height+i.width,l=u.extend({tolerance:0,debug:!1},t),c=!1;return(e.elementsAfterCurrent=e.elementsAfterCurrent||{})[s]=e.elementsAfterCurrent[s]||this.nextAll(),l.debug&&(console.log("---------------------------------------"),console.log("index: "+s),console.log("div: "+this.text().trim()),console.log("top: "+r),console.log("bottom: "+o),console.log("tolerance: "+l.tolerance),console.log("end of page: "+a),console.log("scrollTop: "+u(window).scrollTop()),console.log("doc height:"+u(document).height()),console.log("windowHeight using $(window).height(): "+u(window).height())),c=l.tolerance?0<=r?r<=l.tolerance:o>l.tolerance:0<=r&&r<=u(window).height(),a&&(1!==e.elementsAfterCurrent[s].length&&e.elementsAfterCurrent[s].length||(c=!(r<0))),c}},function(e,t){function o(e){return(o="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}var n,a,s,l,c;n=jQuery,a=n.ajax,s={},l=[],c=[],n.ajax=function(e,t){"string"==typeof e?"object"===o(t)&&null!==t?t.url=e:t={url:e}:t=e;var n=(t=jQuery.extend(t,jQuery.extend({},jQuery.ajaxSettings,t))).port;switch(t.mode){case"abort":return s[n]&&s[n].abort(),s[n]=a.apply(this,arguments);case"queue":var i=t.complete;return t.complete=function(){i&&i.apply(this,arguments),jQuery([a]).dequeue("ajax"+n)},void jQuery([a]).queue("ajax"+n,function(){a(t)});case"sync":var r=l.length;l[r]={error:t.error,success:t.success,complete:t.complete,done:!1},c[r]={error:[],success:[],complete:[]},t.error=function(){c[r].error=arguments},t.success=function(){c[r].success=arguments},t.complete=function(){if(c[r].complete=arguments,l[r].done=!0,0==r||!l[r-1])for(var e=r;e<l.length&&l[e].done;e++)l[e].error&&l[e].error.apply(jQuery,c[e].error),l[e].success&&l[e].success.apply(jQuery,c[e].success),l[e].complete&&l[e].complete.apply(jQuery,c[e].complete),l[e]=null,c[e]=null}}return a.apply(this,arguments)}},function(e,t){var T;(T=jQuery).fn.extend({autocomplete:function(e,t){var n="string"==typeof e;return(t=T.extend({},T.Autocompleter.defaults,{url:n?e:null,data:n?null:e,delay:n?T.Autocompleter.defaults.delay:10,max:t&&!t.scroll?10:150},t)).highlight=t.highlight||function(e){return e},t.formatMatch=t.formatMatch||t.formatItem,this.each(function(){new T.Autocompleter(this,t)})},result:function(e){return this.bind("result",e)},search:function(e){return this.trigger("search",[e])},flushCache:function(){return this.trigger("flushCache")},setOptions:function(e){return this.trigger("setOptions",[e])},unautocomplete:function(){return this.trigger("unautocomplete")}}),T.Autocompleter=function(t,o){var n=38,i=40,r=46,a=9,s=13,l=27,c=33,u=34,d=T(t).attr("autocomplete","off").addClass(o.inputClass),f=null,h="",p=T.Autocompleter.Cache(o),m=0,g=null,v=T.Autocompleter.Select(o,t,b,{}),y=!1;function b(){var e=v.getSelectedItem();if(!e)return!1;var t=d.val();return h=t,d.trigger("result",e),v.hide(),!0}function w(e,t){var n;g!=r?(n=d.val(),!t&&n==h||(h=n,x(),n.length>=o.minChars?(d.addClass(o.loadingClass),o.matchCase||(n=n.toLowerCase()),C(n,k)):("function"==typeof o.valueTooShort&&o.valueTooShort(n),$(),v.hide()))):v.hide()}function x(){v.hide(),clearTimeout(f),$(),o.mustMatch&&d.search(function(e){e||(d.val(""),d.trigger("result",null))})}function k(e,t){m?($(),t=t||[],v.display(t,e),v.show()):x()}function C(i,r){o.matchCase||(i=i.toLowerCase());var n,e=p.load(i);e?("function"==typeof o.beforeSend&&o.beforeSend(d,i),"function"==typeof o.afterSend&&o.afterSend(d,e),r(i,e)):(n={timestamp:+new Date},T.each(o.extraParams,function(e,t){n[e]="function"==typeof t?t():t}),T.ajax({mode:"abort",port:"autocomplete"+t.name,dataType:o.dataType,url:o.url,data:T.extend({q:i,limit:o.max},n),beforeSend:function(){"function"==typeof o.beforeSend&&o.beforeSend(d,i)},error:function(e,t,n){"function"==typeof o.error&&o.error(d,e,t,n)},success:function(e,t,n){e.result&&("function"==typeof o.afterSend&&o.afterSend(d,e.data,t,n),p.add(i,e.data),r(i,e.data))}}))}function $(){d.removeClass(o.loadingClass)}navigator.userAgent.match(/opera/i)&&T(t.form).bind("submit.autocomplete",function(){if(y)return y=!1}),d.bind((navigator.userAgent.match(/opera/i)?"keypress":"keydown")+".autocomplete",function(e){switch(m=1,g=e.keyCode,e.keyCode){case n:e.preventDefault(),v.visible()?v.prev():w(0,!0);break;case i:e.preventDefault(),v.visible()?v.next():w(0,!0);break;case c:e.preventDefault(),v.visible()?v.pageUp():w(0,!0);break;case u:e.preventDefault(),v.visible()?v.pageDown():w(0,!0);break;case a:case s:if(b())return e.preventDefault(),!(y=!0);break;case l:v.hide();break;default:clearTimeout(f),f=setTimeout(w,o.delay),"function"==typeof o.keyPress&&o.keyPress(e.keyCode)}}).focus(function(){m++}).blur(function(){m=0}).click(function(){1<m++&&!v.visible()&&w(0,!0)}).bind("search",function(){var e,r=1<arguments.length?arguments[1]:null;function n(e,t){var n=null;if(t&&t.length)for(var i=0;i<t.length;i++)if(t[i].id==e.id){n=t[i];break}"function"==typeof r?r(n):d.trigger("result",n)}T.each((e=d.val())?[T.trim(e)]:[""],function(e,t){C(t,n)})}).bind("flushCache",function(){h="",p.flush()}).bind("reveal",function(){clearTimeout(f),$(),v.show()}).bind("close",function(){clearTimeout(f),$(),v.hide()}).bind("setOptions",function(){T.extend(o,arguments[1]),"data"in arguments[1]&&p.populate()}).bind("unautocomplete",function(){v.unbind(),d.unbind(),T(t.form).unbind(".autocomplete")})},T.Autocompleter.defaults={inputClass:"ac_input",resultsClass:"ac_results",loadingClass:"ac_loading",showAsDropDown:!0,minChars:1,delay:400,matchCase:!1,cacheLength:10,max:100,mustMatch:!1,extraParams:{},selectFirst:!0,formatItem:function(e){return e[0]},formatMatch:null,width:0,highlight:function(e,t){return e.replace(new RegExp("(?![^&;]+;)(?!<[^<>]*)("+t.replace(/([\^\$\(\)\[\]\{\}\*\.\+\?\|\\])/gi,"\\$1")+")(?![^<>]*>)(?![^&;]+;)","gi"),"<strong>$1</strong>")},scroll:!0,scrollHeight:180},T.Autocompleter.Cache=function(l){var n={},i=0;function c(e,t){i>l.cacheLength&&r(),n[e]||i++,n[e]=t}function e(){if(!l.data)return!1;var e={},t=0;l.url||(l.cacheLength=1),e[""]=[];for(var n=0,i=l.data.length;n<i;n++){var r,o,a="string"==typeof(a=l.data[n])?[a]:a,s=l.formatMatch(a,n+1,l.data.length);!1!==s&&(e[r=s.charAt(0).toLowerCase()]||(e[r]=[]),o={value:s,data:a,result:l.formatResult&&l.formatResult(a)||s},e[r].push(o),t++<l.max&&e[""].push(o))}T.each(e,function(e,t){l.cacheLength++,c(e,t)})}function r(){n={},i=0}return setTimeout(e,25),{flush:r,add:c,populate:e,load:function(e){return l.cacheLength&&i&&n[e]?n[e]:null}}},T.Autocompleter.Select=function(a,i,n,e){var s,l,c="ac_over",u=null,d=-1,r=!0,o=null,f=null;function t(e){u.slice(d,d+1).removeClass(c),(d+=e)<0?d=u.size()-1:d>=u.size()&&(d=0);var t,n=u.slice(d,d+1).addClass(c);a.scroll&&(t=0,u.slice(0,d).each(function(){t+=this.offsetHeight}),t+n[0].offsetHeight-f.scrollTop()>f[0].clientHeight?f.scrollTop(t+n[0].offsetHeight-f.innerHeight()):t<f.scrollTop()&&f.scrollTop(t))}function h(){if(f&&f.empty(),s.length){for(var e,t,n=(o=s.length,a.max&&a.max<o?a.max:o),i=0;i<n;i++){s[i]&&(!1!==(e=a.formatItem(s[i],i+1,n,l))&&(t=T("<li/>").html(a.highlight(e,l)).addClass(i%2==0?"ac_even":"ac_odd").appendTo(f)[0],T.data(t,"ac_data",s[i])))}u=f.find("li"),a.selectFirst&&(u.slice(0,1).addClass(c),d=0)}else{var r;a.handleNoResults&&(r="No matches","function"==typeof a.formatNoResultsMessage&&(r=a.formatNoResultsMessage(l)),T("<li class='ac_even ac_error'>"+r+"</li>").appendTo(f))}var o;T.fn.bgiframe&&f.bgiframe()}return{display:function(e,t){r&&(a.showAsDropDown&&(o=T("<div/>").hide().addClass(a.resultsClass).css("position","absolute").appendTo(document.body),(f=T("<ul/>").appendTo(o)).on("mouseover","li",function(e){d=T("li").removeClass(c).index(T(this)),T(this).addClass(c)}).on("click","li",function(e){return T("li").not(this).removeClass(c),T(this).addClass(c),setTimeout(function(){n(),i.focus()},50),!1}),0<a.width&&o.css("width",a.width)),"function"==typeof a.postInitCallback&&a.postInitCallback(o),r=!1),s=e,l=t,h()},next:function(){t(1)},prev:function(){t(-1)},pageUp:function(){t(0!==d&&d-8<0?-d:-8)},pageDown:function(){d!=u.size()-1&&d+8>u.size()?t(u.size()-1-d):t(8)},hide:function(){o&&o.hide(),d=-1},visible:function(){return o&&o.is(":visible")},current:function(){return this.visible()&&(u.filter("."+c)[0]||a.selectFirst&&u[0])},show:function(){var e,t,n;a.showAsDropDown&&(e=T(i).offset(),o.css({width:"string"==typeof a.width||0<a.width?a.width:T(i).width(),top:e.top+i.offsetHeight,left:e.left}).show(),a.scroll&&(f.scrollTop(0),f.css({maxHeight:a.scrollHeight,overflow:"auto"}),navigator.userAgent.match(/msie/i)&&void 0===document.body.style.maxHeight&&(t=0,u.each(function(){t+=this.offsetHeight}),n=t>a.scrollHeight,f.css("height",n?a.scrollHeight:t),n||u.width(f.width()-parseInt(u.css("padding-left"),10)-parseInt(u.css("padding-right"),10)))))},getSelectedItem:function(){var e=null;u&&(e=u.filter("."+c),u.removeClass(c));var t=null;return e&&e.length&&(t=T.data(e[0],"ac_data")),t},emptyList:function(){f&&f.empty()},unbind:function(){o&&o.remove()}}},T.fn.selection=function(t,n){if(void 0!==t)return this.each(function(){var e;this.createTextRange?(e=this.createTextRange(),void 0===n||t==n?e.move("character",t):(e.collapse(!0),e.moveStart("character",t),e.moveEnd("character",n)),e.select()):this.setSelectionRange?this.setSelectionRange(t,n):this.selectionStart&&(this.selectionStart=t,this.selectionEnd=n)});var e=this[0];if(e.createTextRange){var i=document.selection.createRange(),r=e.value,o=i.text.length;i.text="<->";var a=e.value.indexOf("<->");return e.value=r,this.selection(a,a+o),{start:a,end:a+o}}return void 0!==e.selectionStart?{start:e.selectionStart,end:e.selectionEnd}:void 0}},function(e,t){var r;(r=jQuery).fn.autogrow=function(e){return this.filter("textarea").each(function(){function e(){var e=this.value.replace(/</g,"&lt;").replace(/>/g,"&gt;").replace(/&/g,"&amp;").replace(/\n$/,"<br/>&nbsp;").replace(/\n/g,"<br/>").replace(/ {2,}/g,function(e){return function(e,t){for(var n=0,i="";n<t;n++)i+=e;return i}("&nbsp;",e.length-1)+" "});i.html(e),r(this).css("height",Math.max(i.height()+20,n))}var t=r(this),n=t.height(),i=(t.css("lineHeight"),r("<div></div>").css({position:"absolute",top:-1e4,left:-1e4,width:r(this).width()-parseInt(t.css("paddingLeft"))-parseInt(t.css("paddingRight")),fontSize:t.css("fontSize"),fontFamily:t.css("fontFamily"),lineHeight:t.css("lineHeight"),resize:"none"}).appendTo(document.body));r(this).change(e).keyup(e).keydown(e),e.apply(this)}),this}},function(e,t){
/*!
 * jQuery throttle / debounce - v1.1 - 3/7/2010
 * http://benalman.com/projects/jquery-throttle-debounce-plugin/
 * 
 * Copyright (c) 2010 "Cowboy" Ben Alman
 * Dual licensed under the MIT and GPL licenses.
 * http://benalman.com/about/license/
 */
var n,u,i,d;(d=(n=this).jQuery||n.Cowboy||(n.Cowboy={})).throttle=i=function(r,o,a,s){var l,c=0;function e(){var e=this,t=new Date-c,n=arguments;function i(){c=+new Date,a.apply(e,n)}s&&!l&&i(),l&&clearTimeout(l),s===u&&r<t?i():!0!==o&&(l=setTimeout(s?function(){l=u}:i,s===u?r-t:r))}return"boolean"!=typeof o&&(s=a,a=o,o=u),d.guid&&(e.guid=a.guid=a.guid||d.guid++),e},d.debounce=function(e,t,n){return n===u?i(e,t,!1):i(e,n,!1!==t)}},function(t,n,i){var r,o,a;!function(){"use strict";var d=Array.prototype.slice;function e(){}o=[i(18)],void 0===(a="function"==typeof(r=function(c){if(c){var u="undefined"==typeof console?e:function(e){console.error(e)};return c.bridget=function(e,t){var n,s,l;(n=t).prototype.option||(n.prototype.option=function(e){c.isPlainObject(e)&&(this.options=c.extend(!0,this.options,e))}),s=e,l=t,c.fn[s]=function(t){if("string"!=typeof t)return this.each(function(){var e=c.data(this,s);e?(e.option(t),e._init()):(e=new l(this,t),c.data(this,s,e))});for(var e=d.call(arguments,1),n=0,i=this.length;n<i;n++){var r=this[n],o=c.data(r,s);if(o)if(c.isFunction(o[t])&&"_"!==t.charAt(0)){var a=o[t].apply(o,e);if(void 0!==a)return a}else u("no such method '"+t+"' for "+s+" instance");else u("cannot call methods on "+s+" prior to initialization; attempted to call '"+t+"'")}return this}},c.bridget}})?r.apply(n,o):r)||(t.exports=a)}(window)},function(e,t){jQuery.fx.step.clip=function(e){if(0==e.state){var t=/rect\(([0-9]{1,})(px|em)[,\s]+([0-9]{1,})(px|em)[,\s]+([0-9]{1,})(px|em)[,\s]+([0-9]{1,})(px|em)\)/;$elem=$(e.elem);var n=t.test(e.elem.style.clip)?e.elem.style.clip:"rect(0px "+$elem.width()+"px "+$elem.height()+"px 0px)";e.start=t.exec(n.replace(/,/g," "));try{e.end=t.exec(e.end.replace(/,/g,""))}catch(e){return!1}}for(var i=new Array,r=new Array,o=e.start.length,a=e.end.length,s="em"==e.start[l+1]?1.333*parseInt($(e.elem).css("fontSize"))*parseInt(e.start[l]):1,l=1;l<o;l+=2)i.push(parseInt(s*e.start[l]));for(var c=1;c<a;c+=2)r.push(parseInt(s*e.end[c]));e.elem.style.clip="rect("+parseInt(e.pos*(r[0]-i[0])+i[0])+"px "+parseInt(e.pos*(r[1]-i[1])+i[1])+"px "+parseInt(e.pos*(r[2]-i[2])+i[2])+"px "+parseInt(e.pos*(r[3]-i[3])+i[3])+"px)"}},function(e,t){function u(e,t,n){var i=g[t.type]||{};return null==e?n||!t.def?null:t.def:(e=i.floor?~~e:parseFloat(e),isNaN(e)?t.def:i.mod?(e+i.mod)%i.mod:e<0?0:i.max<e?i.max:e)}function s(a){var s=p(),l=s._rgba=[];return a=a.toLowerCase(),v(n,function(e,t){var n,i=t.re.exec(a),r=i&&t.parse(i),o=t.space||"rgba";if(r)return n=s[o](r),s[m[o].cache]=n[m[o].cache],l=s._rgba=n._rgba,!1}),l.length?("0,0,0,0"===l.join()&&d.extend(l,c.transparent),s):c[a]}function l(e,t,n){return 6*(n=(n+1)%1)<1?e+(t-e)*n*6:2*n<1?t:3*n<2?e+(t-e)*(2/3-n)*6:e}
/*!
 * jQuery Color Animations v@VERSION
 * https://github.com/jquery/jquery-color
 *
 * Copyright 2012 jQuery Foundation and other contributors
 * Released under the MIT license.
 * http://jquery.org/license
 *
 * Date: @DATE
 */
var d,f,c,h,n,p,m,g,a,i,v;d=jQuery,h=/^([\-+])=\s*(\d+\.?\d*)/,n=[{re:/rgba?\(\s*(\d{1,3})\s*,\s*(\d{1,3})\s*,\s*(\d{1,3})\s*(?:,\s*(\d+(?:\.\d+)?)\s*)?\)/,parse:function(e){return[e[1],e[2],e[3],e[4]]}},{re:/rgba?\(\s*(\d+(?:\.\d+)?)\%\s*,\s*(\d+(?:\.\d+)?)\%\s*,\s*(\d+(?:\.\d+)?)\%\s*(?:,\s*(\d+(?:\.\d+)?)\s*)?\)/,parse:function(e){return[2.55*e[1],2.55*e[2],2.55*e[3],e[4]]}},{re:/#([a-f0-9]{2})([a-f0-9]{2})([a-f0-9]{2})/,parse:function(e){return[parseInt(e[1],16),parseInt(e[2],16),parseInt(e[3],16)]}},{re:/#([a-f0-9])([a-f0-9])([a-f0-9])/,parse:function(e){return[parseInt(e[1]+e[1],16),parseInt(e[2]+e[2],16),parseInt(e[3]+e[3],16)]}},{re:/hsla?\(\s*(\d+(?:\.\d+)?)\s*,\s*(\d+(?:\.\d+)?)\%\s*,\s*(\d+(?:\.\d+)?)\%\s*(?:,\s*(\d+(?:\.\d+)?)\s*)?\)/,space:"hsla",parse:function(e){return[e[1],e[2]/100,e[3]/100,e[4]]}}],p=d.Color=function(e,t,n,i){return new d.Color.fn.parse(e,t,n,i)},m={rgba:{props:{red:{idx:0,type:"byte"},green:{idx:1,type:"byte"},blue:{idx:2,type:"byte"}}},hsla:{props:{hue:{idx:0,type:"degrees"},saturation:{idx:1,type:"percent"},lightness:{idx:2,type:"percent"}}}},g={byte:{floor:!0,max:255},percent:{max:1},degrees:{mod:360,floor:!0}},a=p.support={},i=d("<p>")[0],v=d.each,i.style.cssText="background-color:rgba(1,1,1,.5)",a.rgba=-1<i.style.backgroundColor.indexOf("rgba"),v(m,function(e,t){t.cache="_"+e,t.props.alpha={idx:3,type:"percent",def:1}}),p.fn=d.extend(p.prototype,{parse:function(r,e,t,n){if(r===f)return this._rgba=[null,null,null,null],this;(r.jquery||r.nodeType)&&(r=d(r).css(e),e=f);var o=this,i=d.type(r),a=this._rgba=[];return e!==f&&(r=[r,e,t,n],i="array"),"string"===i?this.parse(s(r)||c._default):"array"===i?(v(m.rgba.props,function(e,t){a[t.idx]=u(r[t.idx],t)}),this):"object"===i?(v(m,r instanceof p?function(e,t){r[t.cache]&&(o[t.cache]=r[t.cache].slice())}:function(e,n){var i=n.cache;v(n.props,function(e,t){if(!o[i]&&n.to){if("alpha"===e||null==r[e])return;o[i]=n.to(o._rgba)}o[i][t.idx]=u(r[e],t,!0)}),o[i]&&d.inArray(null,o[i].slice(0,3))<0&&(o[i][3]=1,n.from&&(o._rgba=n.from(o[i])))}),this):void 0},is:function(e){var r=p(e),o=!0,a=this;return v(m,function(e,t){var n,i=r[t.cache];return i&&(n=a[t.cache]||t.to&&t.to(a._rgba)||[],v(t.props,function(e,t){if(null!=i[t.idx])return o=i[t.idx]===n[t.idx]})),o}),o},_space:function(){var n=[],i=this;return v(m,function(e,t){i[t.cache]&&n.push(e)}),n.pop()},transition:function(e,a){var t=(c=p(e))._space(),n=m[t],i=0===this.alpha()?p("transparent"):this,s=i[n.cache]||n.to(i._rgba),l=s.slice(),c=c[n.cache];return v(n.props,function(e,t){var n=t.idx,i=s[n],r=c[n],o=g[t.type]||{};null!==r&&(null===i?l[n]=r:(o.mod&&(o.mod/2<r-i?i+=o.mod:o.mod/2<i-r&&(i-=o.mod)),l[n]=u((r-i)*a+i,t)))}),this[t](l)},blend:function(e){if(1===this._rgba[3])return this;var t=this._rgba.slice(),n=t.pop(),i=p(e)._rgba;return p(d.map(t,function(e,t){return(1-n)*i[t]+n*e}))},toRgbaString:function(){var e="rgba(",t=d.map(this._rgba,function(e,t){return null==e?2<t?1:0:e});return 1===t[3]&&(t.pop(),e="rgb("),e+t.join()+")"},toHslaString:function(){var e="hsla(",t=d.map(this.hsla(),function(e,t){return null==e&&(e=2<t?1:0),t&&t<3&&(e=Math.round(100*e)+"%"),e});return 1===t[3]&&(t.pop(),e="hsl("),e+t.join()+")"},toHexString:function(e){var t=this._rgba.slice(),n=t.pop();return e&&t.push(~~(255*n)),"#"+d.map(t,function(e,t){return 1===(e=(e||0).toString(16)).length?"0"+e:e}).join("")},toString:function(){return 0===this._rgba[3]?"transparent":this.toRgbaString()}}),p.fn.parse.prototype=p.fn,m.hsla.to=function(e){if(null==e[0]||null==e[1]||null==e[2])return[null,null,null,e[3]];var t=e[0]/255,n=e[1]/255,i=e[2]/255,r=e[3],o=Math.max(t,n,i),a=Math.min(t,n,i),s=o-a,l=o+a,c=.5*l,u=a===o?0:t===o?60*(n-i)/s+360:n===o?60*(i-t)/s+120:60*(t-n)/s+240,d=0==c||1==c?c:c<=.5?s/l:s/(2-l);return[Math.round(u)%360,d,c,null==r?1:r]},m.hsla.from=function(e){if(null==e[0]||null==e[1]||null==e[2])return[null,null,null,e[3]];var t=e[0]/360,n=e[1],i=e[2],r=e[3],o=i<=.5?i*(1+n):i+n-i*n,a=2*i-o;return[Math.round(255*l(a,o,t+1/3)),Math.round(255*l(a,o,t)),Math.round(255*l(a,o,t-1/3)),r]},v(m,function(l,e){var n=e.props,a=e.cache,s=e.to,c=e.from;p.fn[l]=function(e){if(s&&!this[a]&&(this[a]=s(this._rgba)),e===f)return this[a].slice();var t,i=d.type(e),r="array"===i||"object"===i?e:arguments,o=this[a].slice();return v(n,function(e,t){var n=r["object"===i?e:t.idx];null==n&&(n=o[t.idx]),o[t.idx]=u(n,t)}),c?((t=p(c(o)))[a]=o,t):p(o)},v(n,function(a,s){p.fn[a]||(p.fn[a]=function(e){var t,n=d.type(e),i="alpha"===a?this._hsla?"hsla":"rgba":l,r=this[i](),o=r[s.idx];return"undefined"===n?o:("function"===n&&(e=e.call(this,o),n=d.type(e)),null==e&&s.empty?this:("string"===n&&(t=h.exec(e))&&(e=o+parseFloat(t[2])*("+"===t[1]?1:-1)),r[s.idx]=e,this[i](r)))})})}),p.hook=function(e){var t=e.split(" ");v(t,function(e,o){d.cssHooks[o]={set:function(e,t){var n,i,r="";if("string"!==d.type(t)||(n=s(t))){if(t=p(n||t),!a.rgba&&1!==t._rgba[3]){for(i="backgroundColor"===o?e.parentNode:e;(""===r||"transparent"===r)&&i&&i.style;)try{r=d.css(i,"backgroundColor"),i=i.parentNode}catch(e){}t=t.blend(r&&"transparent"!==r?r:"_default")}t=t.toRgbaString()}try{e.style[o]=t}catch(t){}}},d.fx.step[o]=function(e){e.colorInit||(e.start=p(e.elem,o),e.end=p(e.end),e.colorInit=!0),d.cssHooks[o].set(e.elem,e.start.transition(e.end,e.pos))}})},p.hook("backgroundColor borderBottomColor borderLeftColor borderRightColor borderTopColor color columnRuleColor outlineColor textDecorationColor textEmphasisColor"),d.cssHooks.borderColor={expand:function(n){var i={};return v(["Top","Right","Bottom","Left"],function(e,t){i["border"+t+"Color"]=n}),i}},c=d.Color.names={aqua:"#00ffff",black:"#000000",blue:"#0000ff",fuchsia:"#ff00ff",gray:"#808080",green:"#008000",lime:"#00ff00",maroon:"#800000",navy:"#000080",olive:"#808000",purple:"#800080",red:"#ff0000",silver:"#c0c0c0",teal:"#008080",white:"#ffffff",yellow:"#ffff00",transparent:[null,null,null,0],_default:"#ffffff"}},function(e,t){function s(e,t,n){var i=h.createElement(e);return t&&(i.id=G+t),n&&(i.style.cssText=n),f(i)}function l(e){var t=k.length,n=(z+e)%t;return n<0?t+n:n}function c(e,t){return Math.round((/%/.test(e)?("x"===t?C.width():C.height())/100:1)*parseInt(e,10))}function u(e){return N.photo||/\.(gif|png|jp(e|g|eg)|bmp|ico)((#|\?).*)?$/i.test(e)}function o(){var e,t=f.data(R,K);for(e in null==t?(N=f.extend({},X),console&&console.log&&console.log("Error: cboxElement missing settings object")):N=f.extend({},t),N)f.isFunction(N[e])&&"on"!==e.slice(0,2)&&(N[e]=N[e].call(R));N.rel=N.rel||R.rel||f(R).data("rel")||"nofollow",N.href=N.href||f(R).attr("href"),N.title=N.title||R.title,"string"==typeof N.href&&(N.href=f.trim(N.href))}function d(e,t){f(h).trigger(e),f("*",m).trigger(e),t&&t.call(R)}function n(){var e,t,n,i=G+"Slideshow_",r="click."+G;N.slideshow&&k[1]?(t=function(){j.html(N.slideshowStop).unbind(r).bind(te,function(){(N.loop||k[z+1])&&(e=setTimeout(Q.next,N.slideshowSpeed))}).bind(ee,function(){clearTimeout(e)}).one(r+" "+ne,n),m.removeClass(i+"off").addClass(i+"on"),e=setTimeout(Q.next,N.slideshowSpeed)},n=function(){clearTimeout(e),j.html(N.slideshowStart).unbind([te,ee,ne,r].join(" ")).one(r,function(){Q.next(),t()}),m.removeClass(i+"on").addClass(i+"off")},(N.slideshowAuto?t:n)()):m.removeClass(i+"off "+i+"on")}function r(e){U||(R=e,o(),k=f(R),z=0,"nofollow"!==N.rel&&(k=f("."+J).filter(function(){var e,t=f.data(this,K);return t&&(e=f(this).data("rel")||t.rel||this.rel),e===N.rel}),-1===(z=k.index(R))&&(k=k.add(R),z=k.length-1)),W||(W=B=!0,m.css({visibility:"hidden",display:"block"}),$=s(le,"LoadedContent","width:0; height:0; overflow:hidden").appendTo(v),O=y.height()+x.height()+v.outerHeight(!0)-v.height(),A=b.width()+w.width()+v.outerWidth(!0)-v.width(),L=$.outerHeight(!0),F=$.outerWidth(!0),N.returnFocus&&(f(R).blur(),f(h).one(ie,function(){f(R).focus()})),p.css({opacity:parseFloat(N.opacity),cursor:N.overlayClose?"pointer":"auto",visibility:"visible"}).show(),N.w=c(N.initialWidth,"x"),N.h=c(N.initialHeight,"y"),Q.position(),ae&&C.bind("resize."+se+" scroll."+se,function(){p.css({width:C.width(),height:C.height(),top:C.scrollTop(),left:C.scrollLeft()})}).trigger("resize."+se),d(Z,N.onOpen),M.add(_).hide(),D.html(N.close).show()),Q.load(!0))}function a(){!m&&h.body&&(V=!1,C=f(i),m=s(le).attr({id:K,class:oe?G+(ae?"IE6":"IE"):""}).hide(),p=s(le,"Overlay",ae?"position:absolute":"").hide(),S=s(le,"LoadingOverlay").add(s(le,"LoadingGraphic")),g=s(le,"Wrapper"),v=s(le,"Content").append(_=s(le,"Title"),E=s(le,"Current"),I=s(le,"Next"),P=s(le,"Previous"),j=s(le,"Slideshow").bind(Z,n),D=s(le,"Close")),g.append(s(le).append(s(le,"TopLeft"),y=s(le,"TopCenter"),s(le,"TopRight")),s(le,!1,"clear:left").append(b=s(le,"MiddleLeft"),v,w=s(le,"MiddleRight")),s(le,!1,"clear:left").append(s(le,"BottomLeft"),x=s(le,"BottomCenter"),s(le,"BottomRight"))).find("div div").css({float:"left"}),T=s(le,!1,"position:absolute; width:9999px; visibility:hidden; display:none"),M=I.add(P).add(E).add(j),f(h.body).append(p,m.append(g,T)))}var f,h,i,p,m,g,v,y,b,w,x,k,C,$,T,S,_,E,j,I,P,D,M,N,O,A,L,F,R,z,H,W,B,U,q,Q,Y,V,X,K,G,J,Z,ee,te,ne,ie,re,oe,ae,se,le;f=jQuery,h=document,i=window,X={transition:"elastic",speed:300,width:!1,initialWidth:"600",innerWidth:!1,maxWidth:!1,height:!1,initialHeight:"450",innerHeight:!1,maxHeight:!1,scalePhotos:!0,scrolling:!0,inline:!1,html:!1,iframe:!1,fastIframe:!0,photo:!1,href:!1,title:!1,rel:!1,opacity:.9,preloading:!0,className:!1,current:"image {current} of {total}",previous:"previous",next:"next",close:"close",xhrError:"This content failed to load.",imgError:"This image failed to load.",open:!1,returnFocus:!0,reposition:!0,loop:!0,slideshow:!1,slideshowAuto:!0,slideshowSpeed:2500,slideshowStart:"start slideshow",slideshowStop:"stop slideshow",onOpen:!1,onLoad:!1,onComplete:!1,onCleanup:!1,onClosed:!1,overlayClose:!0,escKey:!0,arrowKey:!0,top:!1,bottom:!1,left:!1,right:!1,fixed:!1,data:void 0},K="colorbox",J=(G="cbox")+"Element",Z=G+"_open",ee=G+"_load",te=G+"_complete",ne=G+"_cleanup",ie=G+"_closed",re=G+"_purge",oe=!f.support.leadingWhitespace,ae=oe&&!i.XMLHttpRequest,se=G+"_IE6",le="div",f.colorbox||(f(a),(Q=f.fn[K]=f[K]=function(e,t){var n=this;if(e=e||{},a(),m&&(V||(V=!0,I.click(function(){Q.next()}),P.click(function(){Q.prev()}),D.click(function(){Q.close()}),p.click(function(){N.overlayClose&&Q.close()}),f(h).bind("keydown."+G,function(e){var t=e.keyCode;W&&N.escKey&&27===t&&(e.preventDefault(),Q.close()),W&&N.arrowKey&&k[1]&&(37===t?(e.preventDefault(),P.click()):39===t&&(e.preventDefault(),I.click()))}),f.isFunction(f.fn.on)?f(h).on("click."+G,"."+J,i):f("."+J).live("click."+G,i)),1)){if(f.isFunction(n))n=f("<a/>"),e.open=!0;else if(!n[0])return n;t&&(e.onComplete=t),n.each(function(){f.data(this,K,f.extend({},f.data(this,K)||X,e))}).addClass(J),(f.isFunction(e.open)&&e.open.call(n)||e.open)&&r(n[0])}function i(e){1<e.which||e.shiftKey||e.altKey||e.metaKey||(e.preventDefault(),r(this))}return n}).position=function(e,t){var n,i,r,o=0,a=0,s=m.offset();function l(e){y[0].style.width=x[0].style.width=v[0].style.width=parseInt(e.style.width,10)-A+"px",v[0].style.height=b[0].style.height=w[0].style.height=parseInt(e.style.height,10)-O+"px"}C.unbind("resize."+G),m.css({top:-9e4,left:-9e4}),i=C.scrollTop(),r=C.scrollLeft(),N.fixed&&!ae?(s.top-=i,s.left-=r,m.css({position:"fixed"})):(o=i,a=r,m.css({position:"absolute"})),!1!==N.right?a+=Math.max(C.width()-N.w-F-A-c(N.right,"x"),0):!1!==N.left?a+=c(N.left,"x"):a+=Math.round(Math.max(C.width()-N.w-F-A,0)/2),!1!==N.bottom?o+=Math.max(C.height()-N.h-L-O-c(N.bottom,"y"),0):!1!==N.top?o+=c(N.top,"y"):o+=Math.round(Math.max(C.height()-N.h-L-O,0)/2),m.css({top:s.top,left:s.left,visibility:"visible"}),e=(m.width()!==N.w+F||m.height()!==N.h+L)&&e||0,g[0].style.width=g[0].style.height="9999px",n={width:N.w+F+A,height:N.h+L+O,top:o,left:a},0===e&&m.css(n),m.dequeue().animate(n,{duration:e,complete:function(){l(this),B=!1,g[0].style.width=N.w+F+A+"px",g[0].style.height=N.h+L+O+"px",N.reposition&&setTimeout(function(){C.bind("resize."+G,Q.position)},1),t&&t()},step:function(){l(this)}})},Q.resize=function(e,t){W&&((e=e||{}).width&&(N.w=c(e.width,"x")-F-A),e.innerWidth&&(N.w=c(e.innerWidth,"x")),$.css({width:N.w}),e.height&&(N.h=c(e.height,"y")-L-O),e.innerHeight&&(N.h=c(e.innerHeight,"y")),e.innerHeight||e.height||($.css({height:"auto"}),N.h=$.height()),$.css({height:N.h}),Q.position("none"===N.transition?0:N.speed,t))},Q.prep=function(e){var t,a;W&&(a="none"===N.transition?0:N.speed,$.empty().remove(),($=s(le,"LoadedContent").append(e)).hide().appendTo(T.show()).css({width:(N.w=N.w||$.width(),N.w=N.mw&&N.mw<N.w?N.mw:N.w,N.w),overflow:N.scrolling?"auto":"hidden"}).css({height:(N.h=N.h||$.height(),N.h=N.mh&&N.mh<N.h?N.mh:N.h,N.h)}).prependTo(v),T.hide(),f(H).css({float:"none"}),t=function(){var e,t,n=k.length,i="frameBorder",r="allowTransparency";function o(){oe&&m[0].style.removeAttribute("filter")}W&&(t=function(){clearTimeout(q),S.remove(),d(te,N.onComplete)},oe&&H&&$.fadeIn(100),_.html(N.title).add($).show(),1<n?("string"==typeof N.current&&E.html(N.current.replace("{current}",z+1).replace("{total}",n)).show(),I[N.loop||z<n-1?"show":"hide"]().html(N.next),P[N.loop||z?"show":"hide"]().html(N.previous),N.slideshow&&j.show(),N.preloading&&f.each([l(-1),l(1)],function(){var e,t=k[this],n=f.data(t,K);n&&n.href?(e=n.href,f.isFunction(e)&&(e=e.call(t))):e=t.href,u(e)&&((new Image).src=e)})):M.hide(),N.iframe?(i in(e=s("iframe")[0])&&(e[i]=0),r in e&&(e[r]="true"),N.scrolling||(e.scrolling="no"),f(e).attr({src:N.href,name:(new Date).getTime(),class:G+"Iframe",allowFullScreen:!0,webkitAllowFullScreen:!0,mozallowfullscreen:!0}).one("load",t).appendTo($),f(h).one(re,function(){e.src="//about:blank"}),N.fastIframe&&f(e).trigger("load")):t(),"fade"===N.transition?m.fadeTo(a,1,o):o())},"fade"===N.transition?m.fadeTo(a,0,function(){Q.position(0,t)}):Q.position(a,t))},Q.load=function(e){var t,n,i,r=Q.prep;H=!(B=!0),R=k[z],e||o(),Y&&m.add(p).removeClass(Y),N.className&&m.add(p).addClass(N.className),Y=N.className,d(re),d(ee,N.onLoad),N.h=N.height?c(N.height,"y")-L-O:N.innerHeight&&c(N.innerHeight,"y"),N.w=N.width?c(N.width,"x")-F-A:N.innerWidth&&c(N.innerWidth,"x"),N.mw=N.w,N.mh=N.h,N.maxWidth&&(N.mw=c(N.maxWidth,"x")-F-A,N.mw=N.w&&N.w<N.mw?N.w:N.mw),N.maxHeight&&(N.mh=c(N.maxHeight,"y")-L-O,N.mh=N.h&&N.h<N.mh?N.h:N.mh),t=N.href,q=setTimeout(function(){S.appendTo(v)},100),N.inline?(i=s(le).hide().insertBefore(f(t)[0]),f(h).one(re,function(){i.replaceWith($.children())}),r(f(t))):N.iframe?r(" "):N.html?r(N.html):u(t)?(f(H=new Image).addClass(G+"Photo").bind("error",function(){N.title=!1,r(s(le,"Error").html(N.imgError))}).one("load",function(){var e;N.scalePhotos&&(n=function(){H.height-=H.height*e,H.width-=H.width*e},N.mw&&H.width>N.mw&&(e=(H.width-N.mw)/H.width,n()),N.mh&&H.height>N.mh&&(e=(H.height-N.mh)/H.height,n())),N.h&&(H.style.marginTop=Math.max(N.h-H.height,0)/2+"px"),k[1]&&(N.loop||k[z+1])&&(H.style.cursor="pointer",H.onclick=function(){Q.next()}),oe&&(H.style.msInterpolationMode="bicubic"),setTimeout(function(){r(H)},1)}),setTimeout(function(){H.src=t},1)):t&&T.load(t,N.data,function(e,t){r("error"===t?s(le,"Error").html(N.xhrError):f(this).contents())})},Q.next=function(){!B&&k[1]&&(N.loop||k[z+1])&&(z=l(1),Q.load())},Q.prev=function(){!B&&k[1]&&(N.loop||z)&&(z=l(-1),Q.load())},Q.close=function(){W&&!U&&(W=!(U=!0),d(ne,N.onCleanup),C.unbind("."+G+" ."+se),p.fadeTo(200,0),m.stop().fadeTo(300,0,function(){m.add(p).css({opacity:1,cursor:"auto"}).hide(),d(re),$.empty().remove(),setTimeout(function(){U=!1,d(ie,N.onClosed)},1)}))},Q.remove=function(){f([]).add(m).add(p).remove(),m=null,f("."+J).removeData(K).removeClass(J),f(h).unbind("click."+G)},Q.element=function(){return f(R)},Q.settings=X)},function(e,t){var c;(c=jQuery).fn.condense=function(e){var a=c.extend({},c.fn.condense.defaults,e);return this.each(function(){$this=c(this);var e,t,n,i,r=c.metadata?c.extend({},a,$this.metadata()):a,o=function(e,t){if(c.trim(e.text()).length<=t.condensedLength+t.minTrail)return!1;var n=c.trim(e.html()),i=c.trim(e.text()),r=e.clone(),o=0;do{var a=function(e,t,n){var i=!1,r=n;do{if((r=e.indexOf(t,r))<0)return e.length;for(i=!0;function(e,t){return e.indexOf(">",t)<e.indexOf("<",t)}(e,r);)r++,i=!1}while(!i);return r}(n,t.delim,t.condensedLength+o),s=c.trim(n.substring(0,a+1));r.html(s),r.addClass("condensed");var l=r.text().length;r.html().length;o=r.html().length-l}while(o&&r.text().length<t.condensedLength);if(i.length-l<t.minTrail)return!1;return r}($this,r);o&&($this.attr("id")&&$this.attr("id","condensed_"+$this.attr("id")),$this.addClass("condenseable"),e=o,t=$this,a.inline&&(e=e.children().last(),t=t.children().last()),n=" <span class='condense_control condense_control_more' style='cursor:pointer;'>"+r.moreText+"</span>",i=" <span class='condense_control condense_control_less' style='cursor:pointer;'>"+r.lessText+"</span>",e.append(r.ellipsis+n),$this.after(o).hide(),t.append(i),c(".condense_control_more",o).click(function(){!function(e,t){var n=e.closest(".condensed"),i=n.prev();t.expandedWidth&&i.width(t.expandedWidth);i.show();var r=i.width(),o=i.height();{var a;i.width(n.width()+"px").height(n.height()+"px"),n.hide(),i.animate({height:o,width:r,opacity:1},t.moreSpeed,t.easing),n.attr("id")&&(a=n.attr("id"),n.attr("id","condensed_"+a),i.attr("id",a))}}(c(this),r)}),c(".condense_control_less",$this).click(function(){!function(e,t){var n=e.closest(".condenseable"),i=n.next();i.show();var r=i.width(),o=i.height();i.hide();var a=n.width(),s=n.height();n.animate({height:o,width:r,opacity:1},t.lessSpeed,t.easing,function(){n.height(s).width(a).hide(),i.show()})}(c(this),r)}))})},c.fn.condense.defaults={condensedLength:200,minTrail:20,delim:" ",moreText:"[more]",lessText:"[less]",ellipsis:" ( ... )",inline:!0,moreSpeed:"normal",lessSpeed:"normal",easing:"linear"}},function(e,t){jQuery.cookie=function(e,t,n){if(void 0===t){var i=null;if(document.cookie&&""!=document.cookie)for(var r=document.cookie.split(";"),o=0;o<r.length;o++){var a=jQuery.trim(r[o]);if(a.substring(0,e.length+1)==e+"="){i=decodeURIComponent(a.substring(e.length+1));break}}return i}n=n||{},null===t&&(t="",n.expires=-1);var s,l="";n.expires&&("number"==typeof n.expires||n.expires.toUTCString)&&("number"==typeof n.expires?(s=new Date).setTime(s.getTime()+24*n.expires*60*60*1e3):s=n.expires,l="; expires="+s.toUTCString());var c=n.path?"; path="+n.path:"",u=n.domain?"; domain="+n.domain:"",d=n.secure?"; secure":"";document.cookie=[e,"=",encodeURIComponent(t),l,c,u,d].join("")}},function(e,t){function f(e){var t,n,i,r,o,a,s,l,c=y(e).data("datepicker"),u=y(e),d=Math.floor(c.calendars/2),f=0;u.find("td>table tbody").remove();for(var h=0;h<c.calendars;h++){switch((t=new Date(c.current)).addMonths(-d+h),(l=u.find("table").eq(h+1))[0].className){case"datepickerViewDays":m=w(t,"B, Y");break;case"datepickerViewMonths":m=t.getFullYear();break;case"datepickerViewYears":m=t.getFullYear()-6+" - "+(t.getFullYear()+5)}l.find("thead tr:first th:eq(1) span").text(m),m=t.getFullYear()-6,n={data:[],className:"datepickerYears"};for(var p=0;p<12;p++)n.data.push(m+p);s=tmpl(b.months.join(""),n),t.setDate(1),n={weeks:[],test:10},i=t.getMonth();var m=(t.getDay()-c.starts)%7;for(t.addDays(-(m+(m<0?7:0))),f=0;f<42;){o=parseInt(f/7,10),a=f%7,n.weeks[o]||(r=t.getWeekNumber(),n.weeks[o]={week:r,days:[]}),n.weeks[o].days[a]={text:t.getDate(),classname:[]},i!=t.getMonth()&&n.weeks[o].days[a].classname.push("datepickerNotInMonth"),0==t.getDay()&&n.weeks[o].days[a].classname.push("datepickerSunday"),6==t.getDay()&&n.weeks[o].days[a].classname.push("datepickerSaturday");var g=c.onRender(t),v=t.valueOf();(g.selected||c.date==v||-1<y.inArray(v,c.date)||"range"==c.mode&&v>=c.date[0]&&v<=c.date[1])&&n.weeks[o].days[a].classname.push("datepickerSelected"),g.disabled&&n.weeks[o].days[a].classname.push("datepickerDisabled"),g.className&&n.weeks[o].days[a].classname.push(g.className),n.weeks[o].days[a].classname=n.weeks[o].days[a].classname.join(" "),f++,t.addDays(1)}s=tmpl(b.days.join(""),n)+s,n={data:c.locale.monthsShort,className:"datepickerMonths"},s=tmpl(b.months.join(""),n)+s,l.append(s)}}function a(e,t){if(e.constructor==Date)return new Date(e);for(var n,i,r,o,a=e.split(/\W+/),s=t.split(/\W+/),l=new Date,c=0;c<a.length;c++)switch(s[c]){case"d":case"e":n=parseInt(a[c],10);break;case"b":for(var u=0;u<Date.prototype.monthsShort.length&&Date.prototype.monthsShort[u]!=a[c];u++);break;case"B":for(u=0;u<Date.prototype.months.length&&Date.prototype.months[u]!=a[c];u++);break;case"m":u=parseInt(a[c],10)-1;break;case"Y":case"y":i=parseInt(a[c],10),i+=100<i?0:i<29?2e3:1900;break;case"H":case"I":case"k":case"l":r=parseInt(a[c],10);break;case"P":case"p":/pm/i.test(a[c])&&r<12?r+=12:/am/i.test(a[c])&&12<=r&&(r-=12);break;case"M":o=parseInt(a[c],10)}return new Date(void 0===i?l.getFullYear():i,void 0===u?l.getMonth():u,void 0===n?l.getDate():n,void 0===r?l.getHours():r,void 0===o?l.getMinutes():o,0)}function l(e){var t,n=y(e).data("datepicker"),i=y("#"+n.id);n.extraHeight||(t=y(e).find("div"),n.extraHeight=t.get(0).offsetHeight+t.get(1).offsetHeight,n.extraWidth=t.get(2).offsetWidth+t.get(3).offsetWidth);var r=i.find("table:first").get(0),o=r.offsetWidth,a=r.offsetHeight;i.css({width:o+n.extraWidth+"px",height:a+n.extraHeight+"px"}).find("div.datepickerContainer").css({width:o+"px",height:a+"px"})}function s(e){y(e.target).is("span")&&(e.target=e.target.parentNode);var t=y(e.target);if(t.is("a")){if(e.target.blur(),t.hasClass("datepickerDisabled"))return!1;var n=y(this).data("datepicker"),i=t.parent(),r=i.parent().parent().parent(),o=y("table",this).index(r.get(0))-1,a=new Date(n.current),s=!1,l=!1;if(i.is("th")){if(i.hasClass("datepickerWeek")&&"range"==n.mode&&!i.next().hasClass("datepickerDisabled")){var c=parseInt(i.next().text(),10);a.addMonths(o-Math.floor(n.calendars/2)),i.next().hasClass("datepickerNotInMonth")&&a.addMonths(15<c?-1:1),a.setDate(c),n.date[0]=a.setHours(0,0,0,0).valueOf(),a.setHours(23,59,59,0),a.addDays(6),n.date[1]=a.valueOf(),s=l=!0,n.lastSel=!1}else if(i.hasClass("datepickerMonth"))switch(a.addMonths(o-Math.floor(n.calendars/2)),r.get(0).className){case"datepickerViewDays":r.get(0).className="datepickerViewMonths",t.find("span").text(a.getFullYear());break;case"datepickerViewMonths":r.get(0).className="datepickerViewYears",t.find("span").text(a.getFullYear()-6+" - "+(a.getFullYear()+5));break;case"datepickerViewYears":r.get(0).className="datepickerViewDays",t.find("span").text(w(a,"B, Y"))}else if(i.parent().parent().is("thead")){switch(r.get(0).className){case"datepickerViewDays":n.current.addMonths(i.hasClass("datepickerGoPrev")?-1:1);break;case"datepickerViewMonths":n.current.addYears(i.hasClass("datepickerGoPrev")?-1:1);break;case"datepickerViewYears":n.current.addYears(i.hasClass("datepickerGoPrev")?-12:12)}l=!0}}else if(i.is("td")&&!i.hasClass("datepickerDisabled")){switch(r.get(0).className){case"datepickerViewMonths":var u=r.find("tbody.datepickerMonths td").index(i);n.current.setMonth(u),n.current.setFullYear(parseInt(r.find("thead th.datepickerMonth span").text(),10)),n.current.addMonths(Math.floor(n.calendars/2)-o),r.get(0).className="datepickerViewDays";for(var d=0;d<3&&n.current.getMonth()!=u;d++)n.current.addDays(-1);break;case"datepickerViewYears":n.current.setFullYear(parseInt(t.text(),10)),r.get(0).className="datepickerViewMonths";break;default:c=parseInt(t.text(),10);switch(a.addMonths(o-Math.floor(n.calendars/2)),i.hasClass("datepickerNotInMonth")&&a.addMonths(15<c?-1:1),a.setDate(c),n.mode){case"multiple":c=a.setHours(0,0,0,0).valueOf(),-1<y.inArray(c,n.date)?y.each(n.date,function(e,t){if(t==c)return n.date.splice(e,1),!1}):n.date.push(c);break;case"range":n.lastSel||(n.date[0]=a.setHours(0,0,0,0).valueOf()),(c=a.setHours(23,59,59,0).valueOf())<n.date[0]?(n.date[1]=n.date[0]+86399e3,n.date[0]=c-86399e3):n.date[1]=c,n.lastSel=!n.lastSel;break;default:n.date=a.valueOf()}}s=l=!0}l&&f(this),s&&"datepickerDays"==y(e.target).closest("tbody").attr("class")&&n.onChange.apply(this,h(n))}return!1}function c(){var e,t=y("#"+y(this).data("datepickerId"));if(!t.is(":visible")){var n=t.get(0);f(n);var i=t.data("datepicker");i.onBeforeShow.apply(this,[t.get(0)]);var r=y(this).offset(),o=(e="CSS1Compat"==document.compatMode,{l:window.pageXOffset||(e?document.documentElement.scrollLeft:document.body.scrollLeft),t:window.pageYOffset||(e?document.documentElement.scrollTop:document.body.scrollTop),w:window.innerWidth||(e?document.documentElement.clientWidth:document.body.clientWidth),h:window.innerHeight||(e?document.documentElement.clientHeight:document.body.clientHeight)}),a=r.top,s=r.left;y.css(n,"display");switch(t.css({visibility:"hidden",display:"block"}),l(n),i.position){case"top":a-=n.offsetHeight;break;case"left":s-=n.offsetWidth;break;case"right":s+=this.offsetWidth;break;case"bottom":a+=this.offsetHeight}a+n.offsetHeight>o.t+o.h&&(a=r.top-n.offsetHeight),a<o.t&&(a=r.top+this.offsetHeight+n.offsetHeight),s+n.offsetWidth>o.l+o.w&&(s=r.left-n.offsetWidth),s<o.l&&(s="bottom"==i.position?o.l:r.left+this.offsetWidth),t.css({visibility:"visible",display:"block",top:a+"px",left:s+"px"}),0!=i.onShow.apply(this,[t.get(0)])&&t.show(),y(document).bind("mousedown",{cal:t,trigger:this},d)}return!1}var y,u,b,n,w,h,d,i;y=jQuery,n={flat:!(b={wrapper:'<div class="datepicker"><div class="datepickerBorderT" /><div class="datepickerBorderB" /><div class="datepickerBorderL" /><div class="datepickerBorderR" /><div class="datepickerBorderTL" /><div class="datepickerBorderTR" /><div class="datepickerBorderBL" /><div class="datepickerBorderBR" /><div class="datepickerContainer"><table cellspacing="0" cellpadding="0"><tbody><tr></tr></tbody></table></div></div>',head:["<td>",'<table cellspacing="0" cellpadding="0">',"<thead>",'<tr class="datepickerHeader">','<th class="datepickerGoPrev"><a href="#"><span><%=prev%></span></a></th>','<th colspan="5" class="datepickerMonth"><a href="#"><span></span></a></th>','<th class="datepickerGoNext"><a href="#"><span><%=next%></span></a></th>',"</tr>",'<tr class="datepickerDoW">',"<th><span><%=day1%></span></th>","<th><span><%=day2%></span></th>","<th><span><%=day3%></span></th>","<th><span><%=day4%></span></th>","<th><span><%=day5%></span></th>","<th><span><%=day6%></span></th>","<th><span><%=day7%></span></th>","</tr>","</thead>","</table></td>"],space:'<td class="datepickerSpace"><div></div></td>',days:['<tbody class="datepickerDays">',"<tr>",'<td class="<%=weeks[0].days[0].classname%>"><a href="#"><span><%=weeks[0].days[0].text%></span></a></td>','<td class="<%=weeks[0].days[1].classname%>"><a href="#"><span><%=weeks[0].days[1].text%></span></a></td>','<td class="<%=weeks[0].days[2].classname%>"><a href="#"><span><%=weeks[0].days[2].text%></span></a></td>','<td class="<%=weeks[0].days[3].classname%>"><a href="#"><span><%=weeks[0].days[3].text%></span></a></td>','<td class="<%=weeks[0].days[4].classname%>"><a href="#"><span><%=weeks[0].days[4].text%></span></a></td>','<td class="<%=weeks[0].days[5].classname%>"><a href="#"><span><%=weeks[0].days[5].text%></span></a></td>','<td class="<%=weeks[0].days[6].classname%>"><a href="#"><span><%=weeks[0].days[6].text%></span></a></td>',"</tr>","<tr>",'<td class="<%=weeks[1].days[0].classname%>"><a href="#"><span><%=weeks[1].days[0].text%></span></a></td>','<td class="<%=weeks[1].days[1].classname%>"><a href="#"><span><%=weeks[1].days[1].text%></span></a></td>','<td class="<%=weeks[1].days[2].classname%>"><a href="#"><span><%=weeks[1].days[2].text%></span></a></td>','<td class="<%=weeks[1].days[3].classname%>"><a href="#"><span><%=weeks[1].days[3].text%></span></a></td>','<td class="<%=weeks[1].days[4].classname%>"><a href="#"><span><%=weeks[1].days[4].text%></span></a></td>','<td class="<%=weeks[1].days[5].classname%>"><a href="#"><span><%=weeks[1].days[5].text%></span></a></td>','<td class="<%=weeks[1].days[6].classname%>"><a href="#"><span><%=weeks[1].days[6].text%></span></a></td>',"</tr>","<tr>",'<td class="<%=weeks[2].days[0].classname%>"><a href="#"><span><%=weeks[2].days[0].text%></span></a></td>','<td class="<%=weeks[2].days[1].classname%>"><a href="#"><span><%=weeks[2].days[1].text%></span></a></td>','<td class="<%=weeks[2].days[2].classname%>"><a href="#"><span><%=weeks[2].days[2].text%></span></a></td>','<td class="<%=weeks[2].days[3].classname%>"><a href="#"><span><%=weeks[2].days[3].text%></span></a></td>','<td class="<%=weeks[2].days[4].classname%>"><a href="#"><span><%=weeks[2].days[4].text%></span></a></td>','<td class="<%=weeks[2].days[5].classname%>"><a href="#"><span><%=weeks[2].days[5].text%></span></a></td>','<td class="<%=weeks[2].days[6].classname%>"><a href="#"><span><%=weeks[2].days[6].text%></span></a></td>',"</tr>","<tr>",'<td class="<%=weeks[3].days[0].classname%>"><a href="#"><span><%=weeks[3].days[0].text%></span></a></td>','<td class="<%=weeks[3].days[1].classname%>"><a href="#"><span><%=weeks[3].days[1].text%></span></a></td>','<td class="<%=weeks[3].days[2].classname%>"><a href="#"><span><%=weeks[3].days[2].text%></span></a></td>','<td class="<%=weeks[3].days[3].classname%>"><a href="#"><span><%=weeks[3].days[3].text%></span></a></td>','<td class="<%=weeks[3].days[4].classname%>"><a href="#"><span><%=weeks[3].days[4].text%></span></a></td>','<td class="<%=weeks[3].days[5].classname%>"><a href="#"><span><%=weeks[3].days[5].text%></span></a></td>','<td class="<%=weeks[3].days[6].classname%>"><a href="#"><span><%=weeks[3].days[6].text%></span></a></td>',"</tr>","<tr>",'<td class="<%=weeks[4].days[0].classname%>"><a href="#"><span><%=weeks[4].days[0].text%></span></a></td>','<td class="<%=weeks[4].days[1].classname%>"><a href="#"><span><%=weeks[4].days[1].text%></span></a></td>','<td class="<%=weeks[4].days[2].classname%>"><a href="#"><span><%=weeks[4].days[2].text%></span></a></td>','<td class="<%=weeks[4].days[3].classname%>"><a href="#"><span><%=weeks[4].days[3].text%></span></a></td>','<td class="<%=weeks[4].days[4].classname%>"><a href="#"><span><%=weeks[4].days[4].text%></span></a></td>','<td class="<%=weeks[4].days[5].classname%>"><a href="#"><span><%=weeks[4].days[5].text%></span></a></td>','<td class="<%=weeks[4].days[6].classname%>"><a href="#"><span><%=weeks[4].days[6].text%></span></a></td>',"</tr>","<tr>",'<td class="<%=weeks[5].days[0].classname%>"><a href="#"><span><%=weeks[5].days[0].text%></span></a></td>','<td class="<%=weeks[5].days[1].classname%>"><a href="#"><span><%=weeks[5].days[1].text%></span></a></td>','<td class="<%=weeks[5].days[2].classname%>"><a href="#"><span><%=weeks[5].days[2].text%></span></a></td>','<td class="<%=weeks[5].days[3].classname%>"><a href="#"><span><%=weeks[5].days[3].text%></span></a></td>','<td class="<%=weeks[5].days[4].classname%>"><a href="#"><span><%=weeks[5].days[4].text%></span></a></td>','<td class="<%=weeks[5].days[5].classname%>"><a href="#"><span><%=weeks[5].days[5].text%></span></a></td>','<td class="<%=weeks[5].days[6].classname%>"><a href="#"><span><%=weeks[5].days[6].text%></span></a></td>',"</tr>","</tbody>"],months:['<tbody class="<%=className%>">',"<tr>",'<td colspan="2"><a href="#"><span><%=data[0]%></span></a></td>','<td colspan="2"><a href="#"><span><%=data[1]%></span></a></td>','<td colspan="2"><a href="#"><span><%=data[2]%></span></a></td>','<td colspan="2"><a href="#"><span><%=data[3]%></span></a></td>',"</tr>","<tr>",'<td colspan="2"><a href="#"><span><%=data[4]%></span></a></td>','<td colspan="2"><a href="#"><span><%=data[5]%></span></a></td>','<td colspan="2"><a href="#"><span><%=data[6]%></span></a></td>','<td colspan="2"><a href="#"><span><%=data[7]%></span></a></td>',"</tr>","<tr>",'<td colspan="2"><a href="#"><span><%=data[8]%></span></a></td>','<td colspan="2"><a href="#"><span><%=data[9]%></span></a></td>','<td colspan="2"><a href="#"><span><%=data[10]%></span></a></td>','<td colspan="2"><a href="#"><span><%=data[11]%></span></a></td>',"</tr>","</tbody>"]}),starts:1,prev:"&larr;",next:"&rarr;",lastSel:!(u={years:"datepickerViewYears",moths:"datepickerViewMonths",days:"datepickerViewDays"}),mode:"single",view:"days",calendars:1,format:"Y-m-d",position:"bottom",eventName:"click",onRender:function(){return{}},onChange:function(){return!0},onShow:function(){return!0},onBeforeShow:function(){return!0},onHide:function(){return!0},locale:{days:["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday","Sunday"],daysShort:["Sun","Mon","Tue","Wed","Thu","Fri","Sat","Sun"],daysMin:["Su","Mo","Tu","We","Th","Fr","Sa","Su"],months:["January","February","March","April","May","June","July","August","September","October","November","December"],monthsShort:["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"],weekMin:"wk"}},w=function(e,t){var n=e.getMonth(),i=e.getDate(),r=e.getFullYear(),o=(e.getWeekNumber(),e.getDay()),a=e.getHours(),s=12<=a,l=s?a-12:a,c=e.getDayOfYear();0==l&&(l=12);for(var u,d=e.getMinutes(),f=e.getSeconds(),h=t.split(""),p=0;p<h.length;p++){switch(u=h[p],h[p]){case"a":u=e.getDayName();break;case"A":u=e.getDayName(!0);break;case"b":u=e.getMonthName();break;case"B":u=e.getMonthName(!0);break;case"C":u=1+Math.floor(r/100);break;case"d":u=i<10?"0"+i:i;break;case"e":u=i;break;case"H":u=a<10?"0"+a:a;break;case"I":u=l<10?"0"+l:l;break;case"j":u=c<100?c<10?"00"+c:"0"+c:c;break;case"k":u=a;break;case"l":u=l;break;case"m":u=n<9?"0"+(1+n):1+n;break;case"M":u=d<10?"0"+d:d;break;case"p":case"P":u=s?"PM":"AM";break;case"s":u=Math.floor(e.getTime()/1e3);break;case"S":u=f<10?"0"+f:f;break;case"u":u=o+1;break;case"w":u=o;break;case"y":u=(""+r).substr(2,2);break;case"Y":u=r}h[p]=u}return h.join("")},h=function(i){var r;return"single"==i.mode?(r=new Date(i.date),[w(r,i.format),r,i.el]):(r=[[],[],i.el],y.each(i.date,function(e,t){var n=new Date(t);r[0].push(w(n,i.format)),r[1].push(n)}),r)},d=function e(t){t.target==t.data.trigger||function(e,t,n){if(e==t)return!0;if(e.contains)return e.contains(t);if(e.compareDocumentPosition)return!!(16&e.compareDocumentPosition(t));for(var i=t.parentNode;i&&i!=n;){if(i==e)return!0;i=i.parentNode}return!1}(t.data.cal.get(0),t.target,t.data.cal.get(0))||(0!=t.data.cal.data("datepicker").onHide.apply(this,[t.data.cal.get(0)])&&t.data.cal.hide(),y(document).unbind("mousedown",e))},i={init:function(o){var e;return o=y.extend({},n,o||{}),e=o.locale,Date.prototype.tempDate||(Date.prototype.tempDate=null,Date.prototype.months=e.months,Date.prototype.monthsShort=e.monthsShort,Date.prototype.days=e.days,Date.prototype.daysShort=e.daysShort,Date.prototype.getMonthName=function(e){return this[e?"months":"monthsShort"][this.getMonth()]},Date.prototype.getDayName=function(e){return this[e?"days":"daysShort"][this.getDay()]},Date.prototype.addDays=function(e){this.setDate(this.getDate()+e),this.tempDate=this.getDate()},Date.prototype.addMonths=function(e){null==this.tempDate&&(this.tempDate=this.getDate()),this.setDate(1),this.setMonth(this.getMonth()+e),this.setDate(Math.min(this.tempDate,this.getMaxDays()))},Date.prototype.addYears=function(e){null==this.tempDate&&(this.tempDate=this.getDate()),this.setDate(1),this.setFullYear(this.getFullYear()+e),this.setDate(Math.min(this.tempDate,this.getMaxDays()))},Date.prototype.getMaxDays=function(){for(var e=new Date(Date.parse(this)),t=28,n=e.getMonth(),t=28;e.getMonth()==n;)t++,e.setDate(t);return t-1},Date.prototype.getFirstDay=function(){var e=new Date(Date.parse(this));return e.setDate(1),e.getDay()},Date.prototype.getWeekNumber=function(){var e=new Date(this);e.setDate(e.getDate()-(e.getDay()+6)%7+3);var t=e.valueOf();return e.setMonth(0),e.setDate(4),Math.round((t-e.valueOf())/6048e5)+1},Date.prototype.getDayOfYear=function(){var e=new Date(this.getFullYear(),this.getMonth(),this.getDate(),0,0,0)-new Date(this.getFullYear(),0,0,0,0,0);return Math.floor(e/24*60*60*1e3)}),o.calendars=Math.max(1,parseInt(o.calendars,10)||1),o.mode=/single|multiple|range/.test(o.mode)?o.mode:"single",this.each(function(){if(!y(this).data("datepicker")){if(o.el=this,o.date.constructor==String&&(o.date=a(o.date,o.format),o.date.setHours(0,0,0,0)),"single"!=o.mode)if(o.date.constructor!=Array)o.date=[o.date.valueOf()],"range"==o.mode&&o.date.push(new Date(o.date[0]).setHours(23,59,59,0).valueOf());else{for(var e=0;e<o.date.length;e++)o.date[e]=a(o.date[e],o.format).setHours(0,0,0,0).valueOf();"range"==o.mode&&(o.date[1]=new Date(o.date[1]).setHours(23,59,59,0).valueOf())}else o.date=o.date.valueOf();o.current?o.current=a(o.current,o.format):o.current=new Date,o.current.setDate(1),o.current.setHours(0,0,0,0);var t,n="datepicker_"+parseInt(1e3*Math.random());o.id=n,y(this).data("datepickerId",o.id);var i=y(b.wrapper).attr("id",n).bind("click",s).data("datepicker",o);o.className&&i.addClass(o.className);for(var r="",e=0;e<o.calendars;e++)t=o.starts,0<e&&(r+=b.space),r+=tmpl(b.head.join(""),{week:o.locale.weekMin,prev:o.prev,next:o.next,day1:o.locale.daysMin[t++%7],day2:o.locale.daysMin[t++%7],day3:o.locale.daysMin[t++%7],day4:o.locale.daysMin[t++%7],day5:o.locale.daysMin[t++%7],day6:o.locale.daysMin[t++%7],day7:o.locale.daysMin[t++%7]});i.find("tr:first").append(r).find("table").addClass(u[o.view]),f(i.get(0)),o.flat?(i.appendTo(this).show().css("position","relative"),l(i.get(0))):(i.appendTo(document.body),y(this).bind(o.eventName,c))}})},showPicker:function(){return this.each(function(){y(this).data("datepickerId")&&c.apply(this)})},hidePicker:function(){return this.each(function(){y(this).data("datepickerId")&&(y("#"+y(this).data("datepickerId")).hide(),y("#add-date").trigger("change"))})},setDate:function(i,r){return this.each(function(){if(y(this).data("datepickerId")){var e=y("#"+y(this).data("datepickerId")),t=e.data("datepicker");if(t.date=i,t.date.constructor==String&&(t.date=a(t.date,t.format),t.date.setHours(0,0,0,0)),"single"!=t.mode)if(t.date.constructor!=Array)t.date=[t.date.valueOf()],"range"==t.mode&&t.date.push(new Date(t.date[0]).setHours(23,59,59,0).valueOf());else{for(var n=0;n<t.date.length;n++)t.date[n]=a(t.date[n],t.format).setHours(0,0,0,0).valueOf();"range"==t.mode&&(t.date[1]=new Date(t.date[1]).setHours(23,59,59,0).valueOf())}else t.date=t.date.valueOf();r&&(t.current=new Date("single"!=t.mode?t.date[0]:t.date)),f(e.get(0))}})},getDate:function(e){if(0<this.size())return h(y("#"+y(this).data("datepickerId")).data("datepicker"))[e?0:1]},clear:function(){return this.each(function(){var e,t;!y(this).data("datepickerId")||"single"!=(t=(e=y("#"+y(this).data("datepickerId"))).data("datepicker")).mode&&(t.date=[],f(e.get(0)))})},fixLayout:function(){return this.each(function(){var e;!y(this).data("datepickerId")||(e=y("#"+y(this).data("datepickerId"))).data("datepicker").flat&&l(e.get(0))})}},y.fn.extend({DatePicker:i.init,DatePickerHide:i.hidePicker,DatePickerShow:i.showPicker,DatePickerSetDate:i.setDate,DatePickerGetDate:i.getDate,DatePickerClear:i.clear,DatePickerLayout:i.fixLayout}),function(){var r={};this.tmpl=function e(t,n){var i=/\W/.test(t)?new Function("obj","var p=[],print=function(){p.push.apply(p,arguments);};with(obj){p.push('"+t.replace(/[\r\t\n]/g," ").split("<%").join("\t").replace(/((^|%>)[^\t]*)'/g,"$1\r").replace(/\t=(.*?)%>/g,"',$1,'").split("\t").join("');").split("%>").join("p.push('").split("\r").join("\\'")+"');}return p.join('');"):r[t]=r[t]||e(document.getElementById(t).innerHTML);return n?i(n):i}}()},function(e,t){var n,o,a,s;n=jQuery,a=n.event,s=a.special.debouncedresize={setup:function(){n(this).on("resize",s.handler)},teardown:function(){n(this).off("resize",s.handler)},handler:function(e,t){function n(){e.type="debouncedresize",a.dispatch.apply(i,r)}var i=this,r=arguments;o&&clearTimeout(o),t?n():o=setTimeout(n,s.threshold)},threshold:150}},function(e,t){jQuery.easing.jswing=jQuery.easing.swing,jQuery.extend(jQuery.easing,{def:"easeOutQuad",swing:function(e,t,n,i,r){return jQuery.easing[jQuery.easing.def](e,t,n,i,r)},easeInQuad:function(e,t,n,i,r){return i*(t/=r)*t+n},easeOutQuad:function(e,t,n,i,r){return-i*(t/=r)*(t-2)+n},easeInOutQuad:function(e,t,n,i,r){return(t/=r/2)<1?i/2*t*t+n:-i/2*(--t*(t-2)-1)+n},easeInCubic:function(e,t,n,i,r){return i*(t/=r)*t*t+n},easeOutCubic:function(e,t,n,i,r){return i*((t=t/r-1)*t*t+1)+n},easeInOutCubic:function(e,t,n,i,r){return(t/=r/2)<1?i/2*t*t*t+n:i/2*((t-=2)*t*t+2)+n},easeInQuart:function(e,t,n,i,r){return i*(t/=r)*t*t*t+n},easeOutQuart:function(e,t,n,i,r){return-i*((t=t/r-1)*t*t*t-1)+n},easeInOutQuart:function(e,t,n,i,r){return(t/=r/2)<1?i/2*t*t*t*t+n:-i/2*((t-=2)*t*t*t-2)+n},easeInQuint:function(e,t,n,i,r){return i*(t/=r)*t*t*t*t+n},easeOutQuint:function(e,t,n,i,r){return i*((t=t/r-1)*t*t*t*t+1)+n},easeInOutQuint:function(e,t,n,i,r){return(t/=r/2)<1?i/2*t*t*t*t*t+n:i/2*((t-=2)*t*t*t*t+2)+n},easeInSine:function(e,t,n,i,r){return-i*Math.cos(t/r*(Math.PI/2))+i+n},easeOutSine:function(e,t,n,i,r){return i*Math.sin(t/r*(Math.PI/2))+n},easeInOutSine:function(e,t,n,i,r){return-i/2*(Math.cos(Math.PI*t/r)-1)+n},easeInExpo:function(e,t,n,i,r){return 0==t?n:i*Math.pow(2,10*(t/r-1))+n},easeOutExpo:function(e,t,n,i,r){return t==r?n+i:i*(1-Math.pow(2,-10*t/r))+n},easeInOutExpo:function(e,t,n,i,r){return 0==t?n:t==r?n+i:(t/=r/2)<1?i/2*Math.pow(2,10*(t-1))+n:i/2*(2-Math.pow(2,-10*--t))+n},easeInCirc:function(e,t,n,i,r){return-i*(Math.sqrt(1-(t/=r)*t)-1)+n},easeOutCirc:function(e,t,n,i,r){return i*Math.sqrt(1-(t=t/r-1)*t)+n},easeInOutCirc:function(e,t,n,i,r){return(t/=r/2)<1?-i/2*(Math.sqrt(1-t*t)-1)+n:i/2*(Math.sqrt(1-(t-=2)*t)+1)+n},easeInElastic:function(e,t,n,i,r){var o=1.70158,a=0,s=i;return 0==t?n:1==(t/=r)?n+i:(a=a||.3*r,o=s<Math.abs(i)?(s=i,a/4):a/(2*Math.PI)*Math.asin(i/s),-(s*Math.pow(2,10*--t)*Math.sin((t*r-o)*(2*Math.PI)/a))+n)},easeOutElastic:function(e,t,n,i,r){var o=1.70158,a=0,s=i;return 0==t?n:1==(t/=r)?n+i:(a=a||.3*r,o=s<Math.abs(i)?(s=i,a/4):a/(2*Math.PI)*Math.asin(i/s),s*Math.pow(2,-10*t)*Math.sin((t*r-o)*(2*Math.PI)/a)+i+n)},easeInOutElastic:function(e,t,n,i,r){var o=1.70158,a=0,s=i;return 0==t?n:2==(t/=r/2)?n+i:(a=a||r*(.3*1.5),o=s<Math.abs(i)?(s=i,a/4):a/(2*Math.PI)*Math.asin(i/s),t<1?s*Math.pow(2,10*--t)*Math.sin((t*r-o)*(2*Math.PI)/a)*-.5+n:s*Math.pow(2,-10*--t)*Math.sin((t*r-o)*(2*Math.PI)/a)*.5+i+n)},easeInBack:function(e,t,n,i,r,o){return null==o&&(o=1.70158),i*(t/=r)*t*((o+1)*t-o)+n},easeOutBack:function(e,t,n,i,r,o){return null==o&&(o=1.70158),i*((t=t/r-1)*t*((o+1)*t+o)+1)+n},easeInOutBack:function(e,t,n,i,r,o){return null==o&&(o=1.70158),(t/=r/2)<1?i/2*(t*t*((1+(o*=1.525))*t-o))+n:i/2*((t-=2)*t*((1+(o*=1.525))*t+o)+2)+n},easeInBounce:function(e,t,n,i,r){return i-jQuery.easing.easeOutBounce(e,r-t,0,i,r)+n},easeOutBounce:function(e,t,n,i,r){return(t/=r)<1/2.75?i*(7.5625*t*t)+n:t<2/2.75?i*(7.5625*(t-=1.5/2.75)*t+.75)+n:t<2.5/2.75?i*(7.5625*(t-=2.25/2.75)*t+.9375)+n:i*(7.5625*(t-=2.625/2.75)*t+.984375)+n},easeInOutBounce:function(e,t,n,i,r){return t<r/2?.5*jQuery.easing.easeInBounce(e,2*t,0,i,r)+n:.5*jQuery.easing.easeOutBounce(e,2*t-r,0,i,r)+.5*i+n}})},function(e,t){function n(e){var s,l;"string"==typeof e.data&&(s=e.handler,l=e.data.toLowerCase().split(" "),e.handler=function(e){if(this===e.target||!/textarea|select|input/i.test(e.target.nodeName)){var t="keypress"!==e.type&&c.hotkeys.specialKeys[e.which],n=String.fromCharCode(e.which).toLowerCase(),i="",r={};e.altKey&&"alt"!==t&&(i+="alt+"),e.ctrlKey&&"ctrl"!==t&&(i+="ctrl+"),e.metaKey&&!e.ctrlKey&&"meta"!==t&&(i+="meta+"),e.shiftKey&&"shift"!==t&&(i+="shift+"),t?r[i+t]=!0:(r[i+n]=!0,r[i+c.hotkeys.shiftNums[n]]=!0,"shift+"===i&&(r[c.hotkeys.shiftNums[n]]=!0));for(var o=0,a=l.length;o<a;o++)if(r[l[o]])return s.apply(this,arguments)}})}var c;(c=jQuery).hotkeys={version:"0.8",specialKeys:{8:"backspace",9:"tab",13:"return",16:"shift",17:"ctrl",18:"alt",19:"pause",20:"capslock",27:"esc",32:"space",33:"pageup",34:"pagedown",35:"end",36:"home",37:"left",38:"up",39:"right",40:"down",45:"insert",46:"del",96:"0",97:"1",98:"2",99:"3",100:"4",101:"5",102:"6",103:"7",104:"8",105:"9",106:"*",107:"+",109:"-",110:".",111:"/",112:"f1",113:"f2",114:"f3",115:"f4",116:"f5",117:"f6",118:"f7",119:"f8",120:"f9",121:"f10",122:"f11",123:"f12",144:"numlock",145:"scroll",191:"/",224:"meta"},shiftNums:{"`":"~",1:"!",2:"@",3:"#",4:"$",5:"%",6:"^",7:"&",8:"*",9:"(",0:")","-":"_","=":"+",";":": ","'":'"',",":"<",".":">","/":"?","\\":"|"}},c.each(["keydown","keyup","keypress"],function(){c.event.special[this]={add:n}})},function(e,t){function f(e){return(f="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}
/*!
 * jNotify jQuery Plug-in
 *
 * Copyright 2010 Giva, Inc. (http://www.givainc.com/labs/) 
 * 
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 * 
 * 	http://www.apache.org/licenses/LICENSE-2.0
 * 
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 *
 * Date: 2010-09-30
 * Rev:  1.1.00
 */!function(l){l.jnotify=function(e,t,n){return new d(e,t,n)},l.jnotify.version="1.1.00";var i,r,o,c=[],u=0,a=!1,s=!1,n={type:"",delay:2e3,sticky:!1,closeLabel:"&times;",showClose:!0,fadeSpeed:1e3,slideSpeed:250,classContainer:"jnotify-container",classNotification:"jnotify-notification",classBackground:"jnotify-background",classClose:"jnotify-close",classMessage:"jnotify-message",init:null,create:null,beforeRemove:null,remove:null,transition:null};function d(e,o){var a=this,t=f(o);o="number"==t?l.extend({},n,{delay:o}):"boolean"==t?l.extend({},n,{sticky:!0}):"string"==t?l.extend({},n,{type:o,delay:2<arguments.length&&"number"==typeof arguments[2]?arguments[2]:n.delay,sticky:2<arguments.length&&"boolean"==typeof arguments[2]?arguments[2]:n.sticky}):l.extend({},n,o),this.options=o,i||(i=l('<div class="'+n.classContainer+'" />').appendTo("body"),l.isFunction(o.init)&&o.init.apply(a,[i])),this.remove=function(e){var t=s.find("."+o.classMessage),n=t.parent(),i=u--;function r(){window.isTouchOnly?n.fadeOut(function(){l(this).remove()}):n.slideUp(o.slideSpeed,function(){l(this).remove()}),l.isFunction(e)&&e.apply(a,[t]),l.isFunction(o.remove)&&o.remove.apply(a,[t])}l.isFunction(o.beforeRemove)&&o.beforeRemove.apply(a,[t]),l.isFunction(o.transition)?o.transition.apply(a,[n,t,i,r,o]):(t.fadeTo(o.fadeSpeed,.01,function(){i<=1?r():window.isTouchOnly?n.fadeOut(function(){r()}):n.slideUp(o.slideSpeed,r)}),u<=0&&(window.isTouchOnly?n.fadeOut():n.slideUp(o.slideSpeed)))};var s=function(e){var t='<div class="'+o.classNotification+(o.type.length?" "+o.classNotification+"-"+o.type:"")+'"><div class="'+o.classBackground+'"></div>'+(o.showClose?'<a class="'+o.classClose+'">'+o.closeLabel+"</a>":"")+'<div class="'+o.classMessage+'"><div>'+e+"</div></div></div>";u++;var n=l(t);return o.showClose&&n.find("a."+o.classClose).bind("click.jnotify",function(){a.remove()}),l.isFunction(o.create)&&o.create.apply(a,[n]),window.isTouchOnly?n.hide().appendTo(i).fadeIn():n.hide().appendTo(i).slideDown("fast")}(e);return o.sticky||(c.push(this),l.jnotify.play()),this}l.jnotify.setup=function(e){n=l.extend({},n,e)},l.jnotify.play=function(e,t){var n,i;a&&!0!==e||0==c.length||(a=!0,n=c.shift(),o=n,i=2<=arguments.length?parseInt(t,10):n.options.delay,r=setTimeout(function(){r=0,n.remove(function(){0==c.length?a=!1:s||l.jnotify.play(!0)})},i))},l.jnotify.pause=function(){clearTimeout(r),r&&c.unshift(o),s=a=!0},l.jnotify.resume=function(){s=!1,l.jnotify.play(!0,0)},l.jnotify.clear=function(e){for(a&&l.jnotify.pause();1<c.length;){c.shift().remove()}l.jnotify.resume(),l.isFunction(e)&&e.apply(self,[i])}}(jQuery)},function(e,t){var l,i,r,c,o;l=jQuery,i=window,r=document,o=l(i),l.fn.lazyload=function(e){var t,a=this,s={threshold:0,failure_limit:0,event:"scroll",effect:"show",container:i,data_attribute:"original",data_srcset:"srcset",skip_invisible:!0,appear:null,load:null,placeholder:"data:image/gif;base64,R0lGODlhAQABAHAAACH5BAUHAAAALAAAAAABAAEAAAICRAEAOw=="};function n(){var t=0;a.each(function(){var e=l(this);if((!s.skip_invisible||e.is(":visible"))&&!l.abovethetop(this,s)&&!l.leftofbegin(this,s))if(l.belowthefold(this,s)||l.rightoffold(this,s)){if(++t>s.failure_limit)return!1}else e.trigger("appear"),t=0})}return e&&(c!==e.failurelimit&&(e.failure_limit=e.failurelimit,delete e.failurelimit),c!==e.effectspeed&&(e.effect_speed=e.effectspeed,delete e.effectspeed),l.extend(s,e)),t=s.container===c||s.container===i?o:l(s.container),0===s.event.indexOf("scroll")&&t.bind(s.event,n),this.each(function(){var r=this,o=l(r);r.loaded=!1,o.attr("src")!==c&&!1!==o.attr("src")||o.is("img")&&o.attr("src",s.placeholder),o.one("appear",function(){var e;this.loaded||(s.appear&&(e=a.length,s.appear.call(r,e,s)),l("<img />").bind("load",function(){var e=o.attr("data-"+s.data_attribute),t=o.attr("data-"+s.data_srcset);o.hide(),o.is("img")?(o.attr("src",e),o.attr("srcset",t)):(o.css("background-image","url('"+e+"')"),o.show()),o[s.effect](s.effect_speed),r.loaded=!0;var n,i=l.grep(a,function(e){return!e.loaded});a=l(i),s.load&&(n=a.length,s.load.call(r,n,s))}).attr("src",o.attr("data-"+s.data_attribute)).attr("srcset",o.attr("data-"+s.data_srcset)))}),0!==s.event.indexOf("scroll")&&o.bind(s.event,function(){r.loaded||o.trigger("appear")})}),o.bind("resize",function(){n()}),/(?:iphone|ipod|ipad).*os 5/gi.test(navigator.appVersion)&&o.bind("pageshow",function(e){e.originalEvent&&e.originalEvent.persisted&&a.each(function(){l(this).trigger("appear")})}),l(r).ready(function(){n()}),this},l.belowthefold=function(e,t){var n=t.container===c||t.container===i?(i.innerHeight?i.innerHeight:o.height())+o.scrollTop():l(t.container).offset().top+l(t.container).height();return n<=l(e).offset().top-t.threshold},l.rightoffold=function(e,t){var n=t.container===c||t.container===i?o.width()+o.scrollLeft():l(t.container).offset().left+l(t.container).width();return n<=l(e).offset().left-t.threshold},l.abovethetop=function(e,t){var n=t.container===c||t.container===i?o.scrollTop():l(t.container).offset().top;return n>=l(e).offset().top+t.threshold+l(e).height()},l.leftofbegin=function(e,t){var n=t.container===c||t.container===i?o.scrollLeft():l(t.container).offset().left;return n>=l(e).offset().left+t.threshold+l(e).width()},l.inviewport=function(e,t){return!(l.rightoffold(e,t)||l.leftofbegin(e,t)||l.belowthefold(e,t)||l.abovethetop(e,t))},l.extend(l.expr[":"],{"below-the-fold":function(e){return l.belowthefold(e,{threshold:0})},"above-the-top":function(e){return!l.belowthefold(e,{threshold:0})},"right-of-screen":function(e){return l.rightoffold(e,{threshold:0})},"left-of-screen":function(e){return!l.rightoffold(e,{threshold:0})},"in-viewport":function(e){return l.inviewport(e,{threshold:0})},"above-the-fold":function(e){return!l.belowthefold(e,{threshold:0})},"right-of-fold":function(e){return l.rightoffold(e,{threshold:0})},"left-of-fold":function(e){return!l.rightoffold(e,{threshold:0})}})},function(e,t){function r(e,t,n){var i,r,o,a,s=t.hash.slice(1),l=document.getElementById(s)||document.getElementsByName(s)[0];l&&(e&&e.preventDefault(),i=c(n.target),n.lock&&i.is(":animated")||n.onBefore&&!1===n.onBefore(e,l,i)||(n.stop&&i._scrollable().stop(!0),n.hash&&(r=(r=n.offset)&&r.top||r||0,o=l.id==s?"id":"name",a=c("<a> </a>").attr(o,s).css({position:"absolute",top:c(window).scrollTop()+r,left:c(window).scrollLeft()}),l[o]="",c("body").prepend(a),location=t.hash,a.remove(),l[o]=s),i.scrollTo(l,n).trigger("notify.serialScroll",[l])))}var c,o,a;c=jQuery,o=location.href.replace(/#.*/,""),(a=c.localScroll=function(e){c("body").localScroll(e)}).defaults={duration:1e3,axis:"y",event:"click",stop:!0,target:window},c.fn.localScroll=function(n){return(n=c.extend({},a.defaults,n)).hash&&location.hash&&(n.target&&window.scrollTo(0,0),r(0,location,n)),n.lazy?this.bind(n.event,function(e){var t=c([e.target,e.target.parentNode]).filter(i)[0];t&&r(e,t,n)}):this.find("a,area").filter(i).bind(n.event,function(e){r(e,this,n)}).end().end();function i(){return!!this.href&&!!this.hash&&this.href.replace(this.hash,"")==o&&(!n.filter||c(this).is(n.filter))}},a.hash=function(){}},function(e,t){function i(e){return(i="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}!function(n){"use strict";function m(e){return 13<=e?e-12:"0"===e?12:e}function o(e,t){var n=e[0].toString(),i=e[1].toString(),r=e[2].toString(),o=e[3].toString(),a=e[4].toString(),s=e[5].toString(),l=e[6].toString(),c=(u=e[7])<0?"-":"+",u=Math.abs(u);if(void 0===t)for(var d in g)if(g.hasOwnProperty(d)){t=g[d];break}for(var f="",h="",p=0;p<t.length;p+=1)if(h+=t.charAt(p),p===t.length-1||t.charAt(p)!==t.charAt(p+1)){switch(h){case"d":f+=r;break;case"dd":f+=("0"+r).slice(-2);break;case"M":f+=i;break;case"MM":f+=("0"+i).slice(-2);break;case"MMM":f+=v[i-1].substr(0,3);break;case"MMMMM":f+=v[i-1];break;case"yy":f+=n.slice(-2);break;case"yyyy":f+=n;break;case"H":f+=o;break;case"HH":f+=("0"+o).slice(-2);break;case"h":f+=m(o);break;case"hh":f+=("0"+m(o)).slice(-2);break;case"m":f+=a;break;case"mm":f+=("0"+a).slice(-2);break;case"s":f+=s;break;case"ss":f+=("0"+s).slice(-2);break;case"S":f+=l;break;case"SS":f+=("0"+l).slice(-2);break;case"SSS":f+=("00"+l).slice(-3);break;case"a":case"tt":f+=12<=o?"PM":"AM";break;case"t":f+=12<=o?"P":"A";break;case"z":f+=c+parseInt(u/60,10);break;case"zz":f+=c+("0"+parseInt(u/60,10)).slice(-2);break;case"zzz":f+=c+("0"+parseInt(u/60,10)).slice(-2)+":"+("0"+u%60).slice(-2);break;default:f+=h}h=""}return f}var g,v;n.localtime=(g={localtime:"yyyy-MM-dd HH:mm:ss"},v=["January","February","March","April","May","June","July","August","September","October","November","December"],{setFormat:function(e){g="object"===i(e)?e:{localtime:e}},getFormat:function(){return g},parseISOTimeString:function(e){var t=n.trim(e);return t=(t=(t=(t=t.replace(/\.\d\d\d+/,"")).replace(/-/,"/").replace(/-/,"/")).replace(/T/," ").replace(/Z/," UTC")).replace(/([\+\-]\d\d)\:?(\d\d)/," $1$2"),new Date(t)},toUTCTime:function(e,t){return n=jQuery.localtime.parseISOTimeString(e),i=t,o([(r=n).getUTCFullYear(),r.getUTCMonth()+1,r.getUTCDate(),r.getUTCHours(),r.getUTCMinutes(),r.getUTCSeconds(),r.getUTCMilliseconds(),0],i);var n,i,r},toLocalTime:function(e,t){return n=jQuery.localtime.parseISOTimeString(e),i=t,o([(r=n).getFullYear(),r.getMonth()+1,r.getDate(),r.getHours(),r.getMinutes(),r.getSeconds(),r.getMilliseconds(),r.getTimezoneOffset()],i);var n,i,r}}),jQuery.fn.localtime=function(e){for(var t in null==e&&(e=jQuery.localtime.getFormat()),e){var n,i;e.hasOwnProperty(t)&&(n=e[t],i=jQuery(this).find("."+t),jQuery(this).hasClass(t)&&i.add(jQuery(this)),i.each(function(){jQuery(this).is(":input")?jQuery(this).val(jQuery.localtime.toLocalTime(jQuery(this).attr("datetime"),n)):jQuery(this).text(jQuery.localtime.toLocalTime(jQuery(this).attr("datetime"),n))}))}}}(jQuery)},function(e,t){!function(s){var e,l="overthrow",c="undefined"==typeof console?function(){}:function(e){console.error(e)};s.easing.easeOutQuart=function(e,t,n,i,r){return-i*((t=t/r-1)*t*t*t-1)+n},s.support.transition=void 0!==(e=(document.body||document.documentElement).style).transition||void 0!==e.WebkitTransition||void 0!==e.MozTransition||void 0!==e.MsTransition||void 0!==e.OTransition;function u(e,t){this.$el=s(e),this.options=s.extend(!0,{},this.defaults,t),this.options.nestCloseButton?this.container='<div class="overthrow"><div class="overthrow-shield"></div><div class="overthrow-shim"></div><div class="overthrow-wrapper"><div class="overthrow-outer"><div class="overthrow-inner"><div class="overthrow-content"></div><a href="#" class="overthrow-close">Close</a></div></div></div></div>':this.container='<div class="overthrow"><div class="overthrow-shield"></div><div class="overthrow-shim"></div><div class="overthrow-wrapper"><div class="overthrow-outer"><div class="overthrow-inner"><div class="overthrow-content"></div></div></div></div><a href="#" class="overthrow-close">Close</a></div>',this.hasTransitions=s.support.transition,this.transitionDuration=200,this._init()}u.prototype={defaults:{customClass:null,afterLoad:null,youtubeEmbed:!1,disableForTouch:!1,duration:200,aspect:.65,targetAttribute:"href",nestCloseButton:!1,lazyLoad:!1},_init:function(){var e=this;e.$window=s(window),e.$document=s(document),e.$body=s("body"),e.touch=e._touchEnabled(),e.$container=s(e.container),e.$content=e.$container.find(".overthrow-content"),e.$close=e.$container.find(".overthrow-close"),e.options.customClass=e.$el.data("overthrow-class")||e.options.customClass,e.options.target=e.$el.attr(e.options.targetAttribute),e.hasTransitions&&s("html").addClass("overthrow-transitions"),e._bindings()},_bindings:function(){var t=this;t.$el.on("click."+l,function(e){return t.options.disableForTouch&&t.touch?void 0:(e.preventDefault(),t.options.customClass&&t.$container.addClass(t.options.customClass),t.$body.addClass("overthrow-open"),"#"===t.options.target.substring(0,1)||"."===t.options.target.substring(0,1)?t.loadInline():t._checkImageExtensions()?"undefined"!=typeof imagesLoaded?t.loadImage():void console.warn("Overthrow requires the imagesLoaded plugin for showing images"):t.loadAjax())})},loadInline:function(){this.$content.html(s(""+this.options.target).html()),this.showOverthrow()},loadImage:function(){var t=this,e=t.$el.data("srcset"),n=t.$el.data("sizes"),i=t.$el.data("aspect-ratio"),r=t.options.lazyLoad?'<img srcset="'+e+'" sizes="'+n+'" alt="" class="lazyload">':'<img src="'+t.options.target+'" srcset="'+e+'" sizes="'+n+'" alt="" class="lazyload">',o='<div class="overthrow-image-container">'+r+"</div>";t.$content.addClass("-image").html(o),t.image={$el:t.$content.find("img")};var a=imagesLoaded(t.$content);a.on("always",function(){var e=a.images[0];t.image.width=e.img.width,t.image.height=e.img.height,t.image.aspect=void 0!==i?i:e.img.width/e.img.height}),t.showOverthrow("image")},_checkImageExtensions:function(){var e=this.options.target.substr(this.options.target.lastIndexOf("."),4);return-1<s.inArray(e,[".jpe",".jpg",".gif",".png"])},_resizeImage:function(){var e;this.image&&(e=!1,this.$content.innerWidth()/this.$content.innerHeight()>this.image.aspect&&(e=!0),e?this.$content.removeClass("-landscape").addClass("-portrait"):this.$content.removeClass("-portrait").addClass("-landscape"))},loadAjax:function(){var i=this,e=i.getVideoUrl();if(i.options.youtubeEmbed||e){if(!e)return alert("Sorry, that video link seems to be invalid."),!1;var t='<div class="overthrow-video-container"><iframe src="'+e+'" allowfullscreen  allow="autoplay; fullscreen"></iframe></div>';i.$content.html(t),i.showOverthrow()}else s.ajax({url:i.options.target,dataType:"html",success:function(e){i.$content.html(e),i.showOverthrow()},error:function(e,t,n){alert("Error: "+n),i.closeOverthrow()}})},loadNewAjaxContent:function(e,t){var i=this;s.ajax({url:e,dataType:"html",success:function(e){i.$content.html(e),t&&t(i)},error:function(e,t,n){alert("Error: "+n),i.closeOverthrow()}})},getVideoUrl:function(){var e,t=this.options.target.match(/^(?:https?:\/\/)?(?:www\.)?(?:youtu\.be\/|youtube\.com\/(?:embed\/|v\/|watch\?v=|watch\?.+&v=))((\w|-){11})(?:\S+)?$/),n=this.options.target.match(/(http|https)?:\/\/(www\.)?vimeo.com\/(?:channels\/(?:\w+\/)?|groups\/([^\/]*)\/videos\/|)(\d+)(?:|\/\?)/);return t&&(e="//www.youtube.com/embed/"+t[1],-1===t.indexOf("autoplay=1")&&-1<t.indexOf("?")?e+="&rel=0&playsinline=1&autoplay=1":-1===t.indexOf("autoplay=1")&&(e+="?rel=0&playsinline=1&autoplay=1")),n&&(e="//player.vimeo.com/video/"+n[4],e+="?autoplay=1&title=0&byline=0&portrait=0"),!(!t&&!n)&&e},showOverthrow:function(e){var t=this;t.$window.height()/t.$window.width()<t.options.aspect&&t.$body.addClass("overthrow-switch-aspect"),t.$body.append(t.$container),t.$body.addClass("overthrow-enable"),t.$close.on("click",function(e){e.preventDefault(),event.stopPropagation(),t.closeOverthrow()}),t.$container.on("click",".overthrow-wrapper",function(e){s(e.target).hasClass("overthrow-wrapper")&&t.closeOverthrow()}),t.hasTransitions?(setTimeout(function(){t.$body.addClass("overthrow-trans-in")},10),setTimeout(function(){t.$close.addClass("overthrow-close-active"),"image"===e&&t.image&&(t._resizeImage(),t.$content.addClass("-visible"))},t.options.duration)):(t.$body.addClass("overthrow-show"),t.$close.addClass("overthrow-close-active")),t.$document.on("keyup",function(e){27===e.which&&t.closeOverthrow()}),t.options.afterLoad&&t.options.afterLoad(t),t.$container.trigger("ajaxload")},_touchEnabled:function(){return"ontouchstart"in window||0<navigator.MaxTouchPoints||0<navigator.msMaxTouchPoints},option:function(e){s.isPlainObject(e)&&(this.options=s.extend(!0,this.options,e))},closeOverthrow:function(){var e=this;e.hasTransitions?(e.$body.removeClass("overthrow-trans-in").addClass("overthrow-trans-out"),setTimeout(function(){e.$body.removeClass("overthrow-trans-out"),e.$close.removeClass("overthrow-close-active"),e.$content.removeClass("-visible -landscape -portrait").html(""),e.$body.addClass("overthrow-hide"),setTimeout(function(){e.$body.removeClass("overthrow-enable"),e.$body.removeClass("overthrow-hide"),e.$body.removeClass("overthrow-open"),e.$body.removeClass("overthrow-switch-aspect"),e.$container.remove()},e.transitionDuration)},e.transitionDuration)):(e.$close.removeClass("overthrow-close-active"),e.$body.removeClass("overthrow-show"),e.$content.removeClass("-visible -landscape -portrait").html(""),e.$body.addClass("overthrow-hide"),e.$body.removeClass("overthrow-enable"),e.$body.removeClass("overthrow-hide"),e.$body.removeClass("overthrow-open"),e.$body.removeClass("overthrow-switch-aspect"),e.$container.remove())}},s.fn[l]=function(t){if("string"!=typeof t)return this.each(function(){var e=s.data(this,l);e?(e.option(t||{}),e._init()):(e=new u(this,t),s.data(this,l,e))});for(var e=Array.prototype.slice.call(arguments,1),n=0,i=this.length;n<i;n++){var r=this[n],o=s.data(r,l);if(o)if(s.isFunction(o[t])&&"_"!==t.charAt(0)){var a=o[t].apply(o,e);if(void 0!==a)return a}else c("no such method '"+t+"' for "+l+" instance");else c("cannot call methods on "+l+" prior to initialization; attempted to call '"+t+"'")}return this}}(jQuery)},function(e,t){var c;(c=jQuery).fn.padme=function(e){var l=c.extend({},c.fn.padme.defaults,e);return this.each(function(){var e,t=c(this).data("padme-cols"),n={$group:c(this),cols:l.cols?l.cols:t};if(null!==n.cols&&1<n.cols&&(l.children?n.$items=n.$group.children(l.children).not("."+l.placeholderClass):n.$items=n.$group.children().not("."+l.placeholderClass),0<n.$items.length)){var i=l.placeholderEl?l.placeholderEl:n.$items.eq(0).prop("tagName");n.placeholder="<"+i+' class="'+l.placeholderClass+'"></'+i+">",n.$group.find("."+l.placeholderClass).remove();var r=1;if(l.allowExtras){var o=n.$items.length-1;n.top=n.$items.eq(o).position().top;for(var r=1,a=(n.top,!1);r<n.cols&&!a&&0<o;){o--;var s=n.$items.eq(o);s.length&&s.position().top>=n.top?r++:a=!0}}else r=n.$items.length%n.cols;!function(e,t){if(0<e){for(var n="",i=0;i<t.cols-e;i++)n+=" "+t.placeholder;t.$group.append(n)}}(r,n),l.removeOverflow&&(e=n).$group.find("."+l.placeholderClass).each(function(){c(this).position().top>e.top&&c(this).remove()})}})},c.fn.padme.defaults={cols:null,children:null,placeholderEl:null,placeholderClass:"placeholder",removeOverflow:!1,allowExtras:!1}},function(e,t){var r;(r=jQuery).fn.popupWindow=function(e){if(this.length)return this.each(function(){r(this).click(function(){t(e)})});function t(e){r.fn.popupWindow.defaultSettings={centerBrowser:0,centerScreen:0,height:500,left:0,location:0,menubar:0,resizable:0,scrollbars:0,status:0,width:500,windowName:null,windowURL:null,top:0,toolbar:0},settings=r.extend({},r.fn.popupWindow.defaultSettings,e||{});var t,n,i="height="+settings.height+",width="+settings.width+",toolbar="+settings.toolbar+",scrollbars="+settings.scrollbars+",status="+settings.status+",resizable="+settings.resizable+",location="+settings.location+",menuBar="+settings.menubar;settings.windowName=this.name||settings.windowName,settings.windowURL=this.href||settings.windowURL,settings.centerBrowser?(n=navigator.userAgent.match(/msie/i)?(t=window.screenTop-120+((document.documentElement.clientHeight+120)/2-settings.height/2),window.screenLeft+((document.body.offsetWidth+20)/2-settings.width/2)):(t=window.screenY+(window.outerHeight/2-settings.height/2),window.screenX+(window.outerWidth/2-settings.width/2)),window.open(settings.windowURL,settings.windowName,i+",left="+n+",top="+t).focus()):settings.centerScreen?(t=(screen.height-settings.height)/2,n=(screen.width-settings.width)/2,window.open(settings.windowURL,settings.windowName,i+",left="+n+",top="+t).focus()):window.open(settings.windowURL,settings.windowName,i+",left="+settings.left+",top="+settings.top).focus()}t(e)}},function(e,t,n){(function(o,a){var s,l,c,u;s=jQuery,l=window,c=console,s.fn.react=function(r){r=s.extend({componentClassName:"componentClass"},r),this.each(function(){var e,t,n=s(this),i=n.data(r.componentClassName);i?(e=function(e,t){for(var n=t.split("."),i=e,r=0;r<n.length&&i!==u&&null!==i;r++){if("constructor"===n[r])throw exception("Illegal attempt to access 'constructor' keyword for property: "+t);if(i&&i.constructor===i)throw exception("Illegal attempt to access Function constructor for property: "+t);i=i[n[r]]}if(r!==n.length)return u;if(i&&i.constructor===i)throw exception("Illegal attempt to access Function constructor for property: "+t);return i}(l,i))?(t="function"==typeof e.propsFrom?e.propsFrom(this):n.data(),o.render(a.createElement(e,t),this)):c!==u&&c.warn("jquery.react: Component class not found: "+i):c!==u&&c.warn("jquery.react: No component class data found for",this)})}}).call(this,n(323),n(46))},function(e,t,n){"use strict";(function e(){if("undefined"!=typeof __REACT_DEVTOOLS_GLOBAL_HOOK__&&"function"==typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE)try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(e)}catch(e){console.error(e)}})(),e.exports=n(324)},function(e,t,n){"use strict";
/** @license React v16.13.1
 * react-dom.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var r=n(46),v=n(89),o=n(326);function T(e){for(var t="https://reactjs.org/docs/error-decoder.html?invariant="+e,n=1;n<arguments.length;n++)t+="&args[]="+encodeURIComponent(arguments[n]);return"Minified React error #"+e+"; visit "+t+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}if(!r)throw Error(T(227));var u=!1,d=null,f=!1,h=null,c={onError:function(e){u=!0,d=e}};function p(e,t,n,i,r,o,a,s,l){u=!1,d=null,function(e,t,n,i,r,o,a,s,l){var c=Array.prototype.slice.call(arguments,3);try{t.apply(n,c)}catch(e){this.onError(e)}}.apply(c,arguments)}var a=null,i=null,s=null;function l(e,t,n){var i=e.type||"unknown-event";e.currentTarget=s(n),function(e,t,n,i,r,o,a,s,l){if(p.apply(this,arguments),u){if(!u)throw Error(T(198));var c=d;u=!1,d=null,f||(f=!0,h=c)}}(i,t,void 0,e),e.currentTarget=null}var m=null,g={};function y(){if(m)for(var e in g){var t=g[e],n=m.indexOf(e);if(!(-1<n))throw Error(T(96,e));if(!w[n]){if(!t.extractEvents)throw Error(T(97,e));for(var i in n=(w[n]=t).eventTypes){var r=void 0,o=n[i],a=t,s=i;if(x.hasOwnProperty(s))throw Error(T(99,s));var l=(x[s]=o).phasedRegistrationNames;if(l){for(r in l)l.hasOwnProperty(r)&&b(l[r],a,s);r=!0}else r=!!o.registrationName&&(b(o.registrationName,a,s),!0);if(!r)throw Error(T(98,i,e))}}}}function b(e,t,n){if(k[e])throw Error(T(100,e));k[e]=t,C[e]=t.eventTypes[n].dependencies}var w=[],x={},k={},C={};function $(e){var t,n=!1;for(t in e)if(e.hasOwnProperty(t)){var i=e[t];if(!g.hasOwnProperty(t)||g[t]!==i){if(g[t])throw Error(T(102,t));g[t]=i,n=!0}}n&&y()}var S=!("undefined"==typeof window||void 0===window.document||void 0===window.document.createElement),_=null,E=null,j=null;function I(e){if(e=i(e)){if("function"!=typeof _)throw Error(T(280));var t=e.stateNode;t&&(t=a(t),_(e.stateNode,e.type,t))}}function P(e){E?j?j.push(e):j=[e]:E=e}function D(){if(E){var e=E,t=j;if(j=E=null,I(e),t)for(e=0;e<t.length;e++)I(t[e])}}function M(e,t){return e(t)}function N(e,t,n,i,r){return e(t,n,i,r)}function O(){}var A=M,L=!1,F=!1;function R(){null===E&&null===j||(O(),D())}function z(e,t,n){if(F)return e(t,n);F=!0;try{return A(e,t,n)}finally{F=!1,R()}}var H=/^[:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD][:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD\-.0-9\u00B7\u0300-\u036F\u203F-\u2040]*$/,W=Object.prototype.hasOwnProperty,B={},U={};function q(e,t,n,i){if(null==t||function(e,t,n,i){if(null===n||0!==n.type)switch(typeof t){case"function":case"symbol":return 1;case"boolean":return i?void 0:null!==n?!n.acceptsBooleans:"data-"!==(e=e.toLowerCase().slice(0,5))&&"aria-"!==e;default:return}}(e,t,n,i))return 1;if(!i&&null!==n)switch(n.type){case 3:return!t;case 4:return!1===t;case 5:return isNaN(t);case 6:return isNaN(t)||t<1}}function Q(e,t,n,i,r,o){this.acceptsBooleans=2===t||3===t||4===t,this.attributeName=i,this.attributeNamespace=r,this.mustUseProperty=n,this.propertyName=e,this.type=t,this.sanitizeURL=o}var Y={};"children dangerouslySetInnerHTML defaultValue defaultChecked innerHTML suppressContentEditableWarning suppressHydrationWarning style".split(" ").forEach(function(e){Y[e]=new Q(e,0,!1,e,null,!1)}),[["acceptCharset","accept-charset"],["className","class"],["htmlFor","for"],["httpEquiv","http-equiv"]].forEach(function(e){var t=e[0];Y[t]=new Q(t,1,!1,e[1],null,!1)}),["contentEditable","draggable","spellCheck","value"].forEach(function(e){Y[e]=new Q(e,2,!1,e.toLowerCase(),null,!1)}),["autoReverse","externalResourcesRequired","focusable","preserveAlpha"].forEach(function(e){Y[e]=new Q(e,2,!1,e,null,!1)}),"allowFullScreen async autoFocus autoPlay controls default defer disabled disablePictureInPicture formNoValidate hidden loop noModule noValidate open playsInline readOnly required reversed scoped seamless itemScope".split(" ").forEach(function(e){Y[e]=new Q(e,3,!1,e.toLowerCase(),null,!1)}),["checked","multiple","muted","selected"].forEach(function(e){Y[e]=new Q(e,3,!0,e,null,!1)}),["capture","download"].forEach(function(e){Y[e]=new Q(e,4,!1,e,null,!1)}),["cols","rows","size","span"].forEach(function(e){Y[e]=new Q(e,6,!1,e,null,!1)}),["rowSpan","start"].forEach(function(e){Y[e]=new Q(e,5,!1,e.toLowerCase(),null,!1)});var V=/[\-:]([a-z])/g;function X(e){return e[1].toUpperCase()}"accent-height alignment-baseline arabic-form baseline-shift cap-height clip-path clip-rule color-interpolation color-interpolation-filters color-profile color-rendering dominant-baseline enable-background fill-opacity fill-rule flood-color flood-opacity font-family font-size font-size-adjust font-stretch font-style font-variant font-weight glyph-name glyph-orientation-horizontal glyph-orientation-vertical horiz-adv-x horiz-origin-x image-rendering letter-spacing lighting-color marker-end marker-mid marker-start overline-position overline-thickness paint-order panose-1 pointer-events rendering-intent shape-rendering stop-color stop-opacity strikethrough-position strikethrough-thickness stroke-dasharray stroke-dashoffset stroke-linecap stroke-linejoin stroke-miterlimit stroke-opacity stroke-width text-anchor text-decoration text-rendering underline-position underline-thickness unicode-bidi unicode-range units-per-em v-alphabetic v-hanging v-ideographic v-mathematical vector-effect vert-adv-y vert-origin-x vert-origin-y word-spacing writing-mode xmlns:xlink x-height".split(" ").forEach(function(e){var t=e.replace(V,X);Y[t]=new Q(t,1,!1,e,null,!1)}),"xlink:actuate xlink:arcrole xlink:role xlink:show xlink:title xlink:type".split(" ").forEach(function(e){var t=e.replace(V,X);Y[t]=new Q(t,1,!1,e,"http://www.w3.org/1999/xlink",!1)}),["xml:base","xml:lang","xml:space"].forEach(function(e){var t=e.replace(V,X);Y[t]=new Q(t,1,!1,e,"http://www.w3.org/XML/1998/namespace",!1)}),["tabIndex","crossOrigin"].forEach(function(e){Y[e]=new Q(e,1,!1,e.toLowerCase(),null,!1)}),Y.xlinkHref=new Q("xlinkHref",1,!1,"xlink:href","http://www.w3.org/1999/xlink",!0),["src","href","action","formAction"].forEach(function(e){Y[e]=new Q(e,1,!1,e.toLowerCase(),null,!0)});var K=r.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED;function G(e,t,n,i){var r,o=Y.hasOwnProperty(t)?Y[t]:null;(null!==o?0!==o.type:i||(!(2<t.length)||"o"!==t[0]&&"O"!==t[0]||"n"!==t[1]&&"N"!==t[1]))&&(q(t,n,o,i)&&(n=null),i||null===o?(r=t,(W.call(U,r)||!W.call(B,r)&&(H.test(r)?U[r]=!0:void(B[r]=!0)))&&(null===n?e.removeAttribute(t):e.setAttribute(t,""+n))):o.mustUseProperty?e[o.propertyName]=null===n?3!==o.type&&"":n:(t=o.attributeName,i=o.attributeNamespace,null===n?e.removeAttribute(t):(n=3===(o=o.type)||4===o&&!0===n?"":""+n,i?e.setAttributeNS(i,t,n):e.setAttribute(t,n))))}K.hasOwnProperty("ReactCurrentDispatcher")||(K.ReactCurrentDispatcher={current:null}),K.hasOwnProperty("ReactCurrentBatchConfig")||(K.ReactCurrentBatchConfig={suspense:null});var J=/^(.*)[\\\/]/,Z="function"==typeof Symbol&&Symbol.for,ee=Z?Symbol.for("react.element"):60103,te=Z?Symbol.for("react.portal"):60106,ne=Z?Symbol.for("react.fragment"):60107,ie=Z?Symbol.for("react.strict_mode"):60108,re=Z?Symbol.for("react.profiler"):60114,oe=Z?Symbol.for("react.provider"):60109,ae=Z?Symbol.for("react.context"):60110,se=Z?Symbol.for("react.concurrent_mode"):60111,le=Z?Symbol.for("react.forward_ref"):60112,ce=Z?Symbol.for("react.suspense"):60113,ue=Z?Symbol.for("react.suspense_list"):60120,de=Z?Symbol.for("react.memo"):60115,fe=Z?Symbol.for("react.lazy"):60116,he=Z?Symbol.for("react.block"):60121,pe="function"==typeof Symbol&&Symbol.iterator;function me(e){return null!==e&&"object"==typeof e&&"function"==typeof(e=pe&&e[pe]||e["@@iterator"])?e:null}function ge(e){if(null==e)return null;if("function"==typeof e)return e.displayName||e.name||null;if("string"==typeof e)return e;switch(e){case ne:return"Fragment";case te:return"Portal";case re:return"Profiler";case ie:return"StrictMode";case ce:return"Suspense";case ue:return"SuspenseList"}if("object"==typeof e)switch(e.$$typeof){case ae:return"Context.Consumer";case oe:return"Context.Provider";case le:var t=(t=e.render).displayName||t.name||"";return e.displayName||(""!==t?"ForwardRef("+t+")":"ForwardRef");case de:return ge(e.type);case he:return ge(e.render);case fe:if(e=1===e._status?e._result:null)return ge(e)}return null}function ve(e){var t="";do{e:switch(e.tag){case 3:case 4:case 6:case 7:case 10:case 9:var n="";break e;default:var i=e._debugOwner,r=e._debugSource,o=ge(e.type),n=null;i&&(n=ge(i.type)),i=o,o="",r?o=" (at "+r.fileName.replace(J,"")+":"+r.lineNumber+")":n&&(o=" (created by "+n+")"),n="\n    in "+(i||"Unknown")+o}t+=n,e=e.return}while(e);return t}function ye(e){switch(typeof e){case"boolean":case"number":case"object":case"string":case"undefined":return e;default:return""}}function be(e){var t=e.type;return(e=e.nodeName)&&"input"===e.toLowerCase()&&("checkbox"===t||"radio"===t)}function we(e){e._valueTracker||(e._valueTracker=function(e){var t=be(e)?"checked":"value",n=Object.getOwnPropertyDescriptor(e.constructor.prototype,t),i=""+e[t];if(!e.hasOwnProperty(t)&&void 0!==n&&"function"==typeof n.get&&"function"==typeof n.set){var r=n.get,o=n.set;return Object.defineProperty(e,t,{configurable:!0,get:function(){return r.call(this)},set:function(e){i=""+e,o.call(this,e)}}),Object.defineProperty(e,t,{enumerable:n.enumerable}),{getValue:function(){return i},setValue:function(e){i=""+e},stopTracking:function(){e._valueTracker=null,delete e[t]}}}}(e))}function xe(e){if(e){var t=e._valueTracker;if(!t)return 1;var n=t.getValue(),i="";return e&&(i=be(e)?e.checked?"true":"false":e.value),(e=i)!==n&&(t.setValue(e),1)}}function ke(e,t){var n=t.checked;return v({},t,{defaultChecked:void 0,defaultValue:void 0,value:void 0,checked:null!=n?n:e._wrapperState.initialChecked})}function Ce(e,t){var n=null==t.defaultValue?"":t.defaultValue,i=null!=t.checked?t.checked:t.defaultChecked,n=ye(null!=t.value?t.value:n);e._wrapperState={initialChecked:i,initialValue:n,controlled:"checkbox"===t.type||"radio"===t.type?null!=t.checked:null!=t.value}}function $e(e,t){null!=(t=t.checked)&&G(e,"checked",t,!1)}function Te(e,t){$e(e,t);var n=ye(t.value),i=t.type;if(null!=n)"number"===i?(0===n&&""===e.value||e.value!=n)&&(e.value=""+n):e.value!==""+n&&(e.value=""+n);else if("submit"===i||"reset"===i)return void e.removeAttribute("value");t.hasOwnProperty("value")?_e(e,t.type,n):t.hasOwnProperty("defaultValue")&&_e(e,t.type,ye(t.defaultValue)),null==t.checked&&null!=t.defaultChecked&&(e.defaultChecked=!!t.defaultChecked)}function Se(e,t,n){if(t.hasOwnProperty("value")||t.hasOwnProperty("defaultValue")){var i=t.type;if(!("submit"!==i&&"reset"!==i||void 0!==t.value&&null!==t.value))return;t=""+e._wrapperState.initialValue,n||t===e.value||(e.value=t),e.defaultValue=t}""!==(n=e.name)&&(e.name=""),e.defaultChecked=!!e._wrapperState.initialChecked,""!==n&&(e.name=n)}function _e(e,t,n){"number"===t&&e.ownerDocument.activeElement===e||(null==n?e.defaultValue=""+e._wrapperState.initialValue:e.defaultValue!==""+n&&(e.defaultValue=""+n))}function Ee(e,t){var n,i;return e=v({children:void 0},t),n=t.children,i="",r.Children.forEach(n,function(e){null!=e&&(i+=e)}),(t=i)&&(e.children=t),e}function je(e,t,n,i){if(e=e.options,t){t={};for(var r=0;r<n.length;r++)t["$"+n[r]]=!0;for(n=0;n<e.length;n++)r=t.hasOwnProperty("$"+e[n].value),e[n].selected!==r&&(e[n].selected=r),r&&i&&(e[n].defaultSelected=!0)}else{for(n=""+ye(n),t=null,r=0;r<e.length;r++){if(e[r].value===n)return e[r].selected=!0,void(i&&(e[r].defaultSelected=!0));null!==t||e[r].disabled||(t=e[r])}null!==t&&(t.selected=!0)}}function Ie(e,t){if(null!=t.dangerouslySetInnerHTML)throw Error(T(91));return v({},t,{value:void 0,defaultValue:void 0,children:""+e._wrapperState.initialValue})}function Pe(e,t){var n=t.value;if(null==n){if(n=t.children,t=t.defaultValue,null!=n){if(null!=t)throw Error(T(92));if(Array.isArray(n)){if(!(n.length<=1))throw Error(T(93));n=n[0]}t=n}null==t&&(t=""),n=t}e._wrapperState={initialValue:ye(n)}}function De(e,t){var n=ye(t.value),i=ye(t.defaultValue);null!=n&&((n=""+n)!==e.value&&(e.value=n),null==t.defaultValue&&e.defaultValue!==n&&(e.defaultValue=n)),null!=i&&(e.defaultValue=""+i)}function Me(e){var t=e.textContent;t===e._wrapperState.initialValue&&""!==t&&null!==t&&(e.value=t)}var Ne="http://www.w3.org/1999/xhtml",Oe="http://www.w3.org/2000/svg";function Ae(e){switch(e){case"svg":return"http://www.w3.org/2000/svg";case"math":return"http://www.w3.org/1998/Math/MathML";default:return"http://www.w3.org/1999/xhtml"}}function Le(e,t){return null==e||"http://www.w3.org/1999/xhtml"===e?Ae(t):"http://www.w3.org/2000/svg"===e&&"foreignObject"===t?"http://www.w3.org/1999/xhtml":e}var Fe,Re,ze=(Re=function(e,t){if(e.namespaceURI!==Oe||"innerHTML"in e)e.innerHTML=t;else{for((Fe=Fe||document.createElement("div")).innerHTML="<svg>"+t.valueOf().toString()+"</svg>",t=Fe.firstChild;e.firstChild;)e.removeChild(e.firstChild);for(;t.firstChild;)e.appendChild(t.firstChild)}},"undefined"!=typeof MSApp&&MSApp.execUnsafeLocalFunction?function(e,t,n,i){MSApp.execUnsafeLocalFunction(function(){return Re(e,t)})}:Re);function He(e,t){if(t){var n=e.firstChild;if(n&&n===e.lastChild&&3===n.nodeType)return void(n.nodeValue=t)}e.textContent=t}function We(e,t){var n={};return n[e.toLowerCase()]=t.toLowerCase(),n["Webkit"+e]="webkit"+t,n["Moz"+e]="moz"+t,n}var Be={animationend:We("Animation","AnimationEnd"),animationiteration:We("Animation","AnimationIteration"),animationstart:We("Animation","AnimationStart"),transitionend:We("Transition","TransitionEnd")},Ue={},qe={};function Qe(e){if(Ue[e])return Ue[e];if(!Be[e])return e;var t,n=Be[e];for(t in n)if(n.hasOwnProperty(t)&&t in qe)return Ue[e]=n[t];return e}S&&(qe=document.createElement("div").style,"AnimationEvent"in window||(delete Be.animationend.animation,delete Be.animationiteration.animation,delete Be.animationstart.animation),"TransitionEvent"in window||delete Be.transitionend.transition);var Ye=Qe("animationend"),Ve=Qe("animationiteration"),Xe=Qe("animationstart"),Ke=Qe("transitionend"),Ge="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),Je=new("function"==typeof WeakMap?WeakMap:Map);function Ze(e){var t=Je.get(e);return void 0===t&&(t=new Map,Je.set(e,t)),t}function et(e){var t=e,n=e;if(e.alternate)for(;t.return;)t=t.return;else for(e=t;0!=(1026&(t=e).effectTag)&&(n=t.return),e=t.return;);return 3===t.tag?n:null}function tt(e){if(13===e.tag){var t=e.memoizedState;if(null===t&&(null!==(e=e.alternate)&&(t=e.memoizedState)),null!==t)return t.dehydrated}return null}function nt(e){if(et(e)!==e)throw Error(T(188))}function it(e){if(!(e=function(e){var t=e.alternate;if(!t){if(null===(t=et(e)))throw Error(T(188));return t!==e?null:e}for(var n=e,i=t;;){var r=n.return;if(null===r)break;var o=r.alternate;if(null!==o){if(r.child===o.child){for(o=r.child;o;){if(o===n)return nt(r),e;if(o===i)return nt(r),t;o=o.sibling}throw Error(T(188))}if(n.return!==i.return)n=r,i=o;else{for(var a=!1,s=r.child;s;){if(s===n){a=!0,n=r,i=o;break}if(s===i){a=!0,i=r,n=o;break}s=s.sibling}if(!a){for(s=o.child;s;){if(s===n){a=!0,n=o,i=r;break}if(s===i){a=!0,i=o,n=r;break}s=s.sibling}if(!a)throw Error(T(189))}}if(n.alternate!==i)throw Error(T(190))}else{if(null===(i=r.return))break;n=i}}if(3!==n.tag)throw Error(T(188));return n.stateNode.current===n?e:t}(e)))return null;for(var t=e;;){if(5===t.tag||6===t.tag)return t;if(t.child)t=(t.child.return=t).child;else{if(t===e)break;for(;!t.sibling;){if(!t.return||t.return===e)return null;t=t.return}t.sibling.return=t.return,t=t.sibling}}return null}function rt(e,t){if(null==t)throw Error(T(30));return null==e?t:Array.isArray(e)?(Array.isArray(t)?e.push.apply(e,t):e.push(t),e):Array.isArray(t)?[e].concat(t):[e,t]}function ot(e,t,n){Array.isArray(e)?e.forEach(t,n):e&&t.call(n,e)}var at=null;function st(e){if(e){var t=e._dispatchListeners,n=e._dispatchInstances;if(Array.isArray(t))for(var i=0;i<t.length&&!e.isPropagationStopped();i++)l(e,t[i],n[i]);else t&&l(e,t,n);e._dispatchListeners=null,e._dispatchInstances=null,e.isPersistent()||e.constructor.release(e)}}function lt(e){if(null!==e&&(at=rt(at,e)),e=at,at=null,e){if(ot(e,st),at)throw Error(T(95));if(f)throw e=h,f=!1,h=null,e}}function ct(e){return(e=e.target||e.srcElement||window).correspondingUseElement&&(e=e.correspondingUseElement),3===e.nodeType?e.parentNode:e}function ut(e){if(!S)return!1;var t=(e="on"+e)in document;return t||((t=document.createElement("div")).setAttribute(e,"return;"),t="function"==typeof t[e]),t}var dt=[];function ft(e){e.topLevelType=null,e.nativeEvent=null,e.targetInst=null,e.ancestors.length=0,dt.length<10&&dt.push(e)}function ht(e,t,n,i){if(dt.length){var r=dt.pop();return r.topLevelType=e,r.eventSystemFlags=i,r.nativeEvent=t,r.targetInst=n,r}return{topLevelType:e,eventSystemFlags:i,nativeEvent:t,targetInst:n,ancestors:[]}}function pt(e){var t=e.targetInst,n=t;do{if(!n){e.ancestors.push(n);break}var i=n;if(3===i.tag)i=i.stateNode.containerInfo;else{for(;i.return;)i=i.return;i=3!==i.tag?null:i.stateNode.containerInfo}if(!i)break;5!==(t=n.tag)&&6!==t||e.ancestors.push(n),n=jn(i)}while(n);for(n=0;n<e.ancestors.length;n++){t=e.ancestors[n];var r=ct(e.nativeEvent),i=e.topLevelType,o=e.nativeEvent,a=e.eventSystemFlags;0===n&&(a|=64);for(var s=null,l=0;l<w.length;l++){var c=w[l];(c=c&&c.extractEvents(i,t,o,r,a))&&(s=rt(s,c))}lt(s)}}function mt(e,t,n){if(!n.has(e)){switch(e){case"scroll":Vt(t,"scroll",!0);break;case"focus":case"blur":Vt(t,"focus",!0),Vt(t,"blur",!0),n.set("blur",null),n.set("focus",null);break;case"cancel":case"close":ut(e)&&Vt(t,e,!0);break;case"invalid":case"submit":case"reset":break;default:-1===Ge.indexOf(e)&&Yt(e,t)}n.set(e,null)}}var gt,vt,yt,bt=!1,wt=[],xt=null,kt=null,Ct=null,$t=new Map,Tt=new Map,St=[],_t="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput close cancel copy cut paste click change contextmenu reset submit".split(" "),Et="focus blur dragenter dragleave mouseover mouseout pointerover pointerout gotpointercapture lostpointercapture".split(" ");function jt(e,t,n,i,r){return{blockedOn:e,topLevelType:t,eventSystemFlags:32|n,nativeEvent:r,container:i}}function It(e,t){switch(e){case"focus":case"blur":xt=null;break;case"dragenter":case"dragleave":kt=null;break;case"mouseover":case"mouseout":Ct=null;break;case"pointerover":case"pointerout":$t.delete(t.pointerId);break;case"gotpointercapture":case"lostpointercapture":Tt.delete(t.pointerId)}}function Pt(e,t,n,i,r,o){return null===e||e.nativeEvent!==o?(e=jt(t,n,i,r,o),null===t||null!==(t=In(t))&&vt(t)):e.eventSystemFlags|=i,e}function Dt(e){if(null===e.blockedOn){var t=Kt(e.topLevelType,e.eventSystemFlags,e.container,e.nativeEvent);if(null===t)return 1;var n=In(t);return null!==n&&vt(n),void(e.blockedOn=t)}}function Mt(e,t,n){Dt(e)&&n.delete(t)}function Nt(){for(bt=!1;0<wt.length;){var e=wt[0];if(null!==e.blockedOn){null!==(e=In(e.blockedOn))&&gt(e);break}var t=Kt(e.topLevelType,e.eventSystemFlags,e.container,e.nativeEvent);null!==t?e.blockedOn=t:wt.shift()}null!==xt&&Dt(xt)&&(xt=null),null!==kt&&Dt(kt)&&(kt=null),null!==Ct&&Dt(Ct)&&(Ct=null),$t.forEach(Mt),Tt.forEach(Mt)}function Ot(e,t){e.blockedOn===t&&(e.blockedOn=null,bt||(bt=!0,o.unstable_scheduleCallback(o.unstable_NormalPriority,Nt)))}function At(t){function e(e){return Ot(e,t)}if(0<wt.length){Ot(wt[0],t);for(var n=1;n<wt.length;n++){var i=wt[n];i.blockedOn===t&&(i.blockedOn=null)}}for(null!==xt&&Ot(xt,t),null!==kt&&Ot(kt,t),null!==Ct&&Ot(Ct,t),$t.forEach(e),Tt.forEach(e),n=0;n<St.length;n++)(i=St[n]).blockedOn===t&&(i.blockedOn=null);for(;0<St.length&&null===(n=St[0]).blockedOn;)(function(e){var t=jn(e.target);if(null!==t){var n=et(t);if(null!==n)if(13===(t=n.tag)){if(null!==(t=tt(n)))return e.blockedOn=t,o.unstable_runWithPriority(e.priority,function(){yt(n)})}else if(3===t&&n.stateNode.hydrate)return e.blockedOn=3===n.tag?n.stateNode.containerInfo:null}e.blockedOn=null})(n),null===n.blockedOn&&St.shift()}var Lt={},Ft=new Map,Rt=new Map,zt=["abort","abort",Ye,"animationEnd",Ve,"animationIteration",Xe,"animationStart","canplay","canPlay","canplaythrough","canPlayThrough","durationchange","durationChange","emptied","emptied","encrypted","encrypted","ended","ended","error","error","gotpointercapture","gotPointerCapture","load","load","loadeddata","loadedData","loadedmetadata","loadedMetadata","loadstart","loadStart","lostpointercapture","lostPointerCapture","playing","playing","progress","progress","seeking","seeking","stalled","stalled","suspend","suspend","timeupdate","timeUpdate",Ke,"transitionEnd","waiting","waiting"];function Ht(e,t){for(var n=0;n<e.length;n+=2){var i=e[n],r=e[n+1],o={phasedRegistrationNames:{bubbled:o="on"+(r[0].toUpperCase()+r.slice(1)),captured:o+"Capture"},dependencies:[i],eventPriority:t};Rt.set(i,t),Ft.set(i,o),Lt[r]=o}}Ht("blur blur cancel cancel click click close close contextmenu contextMenu copy copy cut cut auxclick auxClick dblclick doubleClick dragend dragEnd dragstart dragStart drop drop focus focus input input invalid invalid keydown keyDown keypress keyPress keyup keyUp mousedown mouseDown mouseup mouseUp paste paste pause pause play play pointercancel pointerCancel pointerdown pointerDown pointerup pointerUp ratechange rateChange reset reset seeked seeked submit submit touchcancel touchCancel touchend touchEnd touchstart touchStart volumechange volumeChange".split(" "),0),Ht("drag drag dragenter dragEnter dragexit dragExit dragleave dragLeave dragover dragOver mousemove mouseMove mouseout mouseOut mouseover mouseOver pointermove pointerMove pointerout pointerOut pointerover pointerOver scroll scroll toggle toggle touchmove touchMove wheel wheel".split(" "),1),Ht(zt,2);for(var Wt="change selectionchange textInput compositionstart compositionend compositionupdate".split(" "),Bt=0;Bt<Wt.length;Bt++)Rt.set(Wt[Bt],0);var Ut=o.unstable_UserBlockingPriority,qt=o.unstable_runWithPriority,Qt=!0;function Yt(e,t){Vt(t,e,!1)}function Vt(e,t,n){var i=Rt.get(t);switch(void 0===i?2:i){case 0:i=function(e,t,n,i){L||O();var r=Xt,o=L;L=!0;try{N(r,e,t,n,i)}finally{(L=o)||R()}}.bind(null,t,1,e);break;case 1:i=function(e,t,n,i){qt(Ut,Xt.bind(null,e,t,n,i))}.bind(null,t,1,e);break;default:i=Xt.bind(null,t,1,e)}n?e.addEventListener(t,i,!0):e.addEventListener(t,i,!1)}function Xt(e,t,n,i){if(Qt)if(0<wt.length&&-1<_t.indexOf(e))e=jt(null,e,t,n,i),wt.push(e);else{var r=Kt(e,t,n,i);if(null===r)It(e,i);else if(-1<_t.indexOf(e))e=jt(r,e,t,n,i),wt.push(e);else if(!function(e,t,n,i,r){switch(t){case"focus":return xt=Pt(xt,e,t,n,i,r),1;case"dragenter":return kt=Pt(kt,e,t,n,i,r),1;case"mouseover":return Ct=Pt(Ct,e,t,n,i,r),1;case"pointerover":var o=r.pointerId;return $t.set(o,Pt($t.get(o)||null,e,t,n,i,r)),1;case"gotpointercapture":return o=r.pointerId,Tt.set(o,Pt(Tt.get(o)||null,e,t,n,i,r)),1}}(r,e,t,n,i)){It(e,i),e=ht(e,i,null,t);try{z(pt,e)}finally{ft(e)}}}}function Kt(e,t,n,i){if(null!==(n=jn(n=ct(i)))){var r=et(n);if(null===r)n=null;else{var o=r.tag;if(13===o){if(null!==(n=tt(r)))return n;n=null}else if(3===o){if(r.stateNode.hydrate)return 3===r.tag?r.stateNode.containerInfo:null;n=null}else r!==n&&(n=null)}}e=ht(e,i,n,t);try{z(pt,e)}finally{ft(e)}return null}var Gt={animationIterationCount:!0,borderImageOutset:!0,borderImageSlice:!0,borderImageWidth:!0,boxFlex:!0,boxFlexGroup:!0,boxOrdinalGroup:!0,columnCount:!0,columns:!0,flex:!0,flexGrow:!0,flexPositive:!0,flexShrink:!0,flexNegative:!0,flexOrder:!0,gridArea:!0,gridRow:!0,gridRowEnd:!0,gridRowSpan:!0,gridRowStart:!0,gridColumn:!0,gridColumnEnd:!0,gridColumnSpan:!0,gridColumnStart:!0,fontWeight:!0,lineClamp:!0,lineHeight:!0,opacity:!0,order:!0,orphans:!0,tabSize:!0,widows:!0,zIndex:!0,zoom:!0,fillOpacity:!0,floodOpacity:!0,stopOpacity:!0,strokeDasharray:!0,strokeDashoffset:!0,strokeMiterlimit:!0,strokeOpacity:!0,strokeWidth:!0},Jt=["Webkit","ms","Moz","O"];function Zt(e,t,n){return null==t||"boolean"==typeof t||""===t?"":n||"number"!=typeof t||0===t||Gt.hasOwnProperty(e)&&Gt[e]?(""+t).trim():t+"px"}function en(e,t){for(var n in e=e.style,t){var i,r;t.hasOwnProperty(n)&&(i=0===n.indexOf("--"),r=Zt(n,t[n],i),"float"===n&&(n="cssFloat"),i?e.setProperty(n,r):e[n]=r)}}Object.keys(Gt).forEach(function(t){Jt.forEach(function(e){e=e+t.charAt(0).toUpperCase()+t.substring(1),Gt[e]=Gt[t]})});var tn=v({menuitem:!0},{area:!0,base:!0,br:!0,col:!0,embed:!0,hr:!0,img:!0,input:!0,keygen:!0,link:!0,meta:!0,param:!0,source:!0,track:!0,wbr:!0});function nn(e,t){if(t){if(tn[e]&&(null!=t.children||null!=t.dangerouslySetInnerHTML))throw Error(T(137,e,""));if(null!=t.dangerouslySetInnerHTML){if(null!=t.children)throw Error(T(60));if(!("object"==typeof t.dangerouslySetInnerHTML&&"__html"in t.dangerouslySetInnerHTML))throw Error(T(61))}if(null!=t.style&&"object"!=typeof t.style)throw Error(T(62,""))}}function rn(e,t){if(-1===e.indexOf("-"))return"string"==typeof t.is;switch(e){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var on=Ne;function an(e,t){var n=Ze(e=9===e.nodeType||11===e.nodeType?e:e.ownerDocument);t=C[t];for(var i=0;i<t.length;i++)mt(t[i],e,n)}function sn(){}function ln(t){if(void 0===(t=t||("undefined"!=typeof document?document:void 0)))return null;try{return t.activeElement||t.body}catch(e){return t.body}}function cn(e){for(;e&&e.firstChild;)e=e.firstChild;return e}function un(e,t){var n,i=cn(e);for(e=0;i;){if(3===i.nodeType){if(n=e+i.textContent.length,e<=t&&t<=n)return{node:i,offset:t-e};e=n}e:{for(;i;){if(i.nextSibling){i=i.nextSibling;break e}i=i.parentNode}i=void 0}i=cn(i)}}function dn(){for(var e=window,t=ln();t instanceof e.HTMLIFrameElement;){try{var n="string"==typeof t.contentWindow.location.href}catch(e){n=!1}if(!n)break;t=ln((e=t.contentWindow).document)}return t}function fn(e){var t=e&&e.nodeName&&e.nodeName.toLowerCase();return t&&("input"===t&&("text"===e.type||"search"===e.type||"tel"===e.type||"url"===e.type||"password"===e.type)||"textarea"===t||"true"===e.contentEditable)}var hn="$",pn="/$",mn="$?",gn="$!",vn=null,yn=null;function bn(e,t){switch(e){case"button":case"input":case"select":case"textarea":return t.autoFocus}}function wn(e,t){return"textarea"===e||"option"===e||"noscript"===e||"string"==typeof t.children||"number"==typeof t.children||"object"==typeof t.dangerouslySetInnerHTML&&null!==t.dangerouslySetInnerHTML&&null!=t.dangerouslySetInnerHTML.__html}var xn="function"==typeof setTimeout?setTimeout:void 0,kn="function"==typeof clearTimeout?clearTimeout:void 0;function Cn(e){for(;null!=e;e=e.nextSibling){var t=e.nodeType;if(1===t||3===t)break}return e}function $n(e){e=e.previousSibling;for(var t=0;e;){if(8===e.nodeType){var n=e.data;if(n===hn||n===gn||n===mn){if(0===t)return e;t--}else n===pn&&t++}e=e.previousSibling}return null}var Tn=Math.random().toString(36).slice(2),Sn="__reactInternalInstance$"+Tn,_n="__reactEventHandlers$"+Tn,En="__reactContainere$"+Tn;function jn(e){var t=e[Sn];if(t)return t;for(var n=e.parentNode;n;){if(t=n[En]||n[Sn]){if(n=t.alternate,null!==t.child||null!==n&&null!==n.child)for(e=$n(e);null!==e;){if(n=e[Sn])return n;e=$n(e)}return t}n=(e=n).parentNode}return null}function In(e){return!(e=e[Sn]||e[En])||5!==e.tag&&6!==e.tag&&13!==e.tag&&3!==e.tag?null:e}function Pn(e){if(5===e.tag||6===e.tag)return e.stateNode;throw Error(T(33))}function Dn(e){return e[_n]||null}function Mn(e){for(;(e=e.return)&&5!==e.tag;);return e||null}function Nn(e,t){var n=e.stateNode;if(!n)return null;var i=a(n);if(!i)return null;n=i[t];e:switch(t){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(i=!i.disabled)||(i=!("button"===(e=e.type)||"input"===e||"select"===e||"textarea"===e)),e=!i;break e;default:e=!1}if(e)return null;if(n&&"function"!=typeof n)throw Error(T(231,t,typeof n));return n}function On(e,t,n){(t=Nn(e,n.dispatchConfig.phasedRegistrationNames[t]))&&(n._dispatchListeners=rt(n._dispatchListeners,t),n._dispatchInstances=rt(n._dispatchInstances,e))}function An(e){if(e&&e.dispatchConfig.phasedRegistrationNames){for(var t=e._targetInst,n=[];t;)n.push(t),t=Mn(t);for(t=n.length;0<t--;)On(n[t],"captured",e);for(t=0;t<n.length;t++)On(n[t],"bubbled",e)}}function Ln(e,t,n){e&&n&&n.dispatchConfig.registrationName&&(t=Nn(e,n.dispatchConfig.registrationName))&&(n._dispatchListeners=rt(n._dispatchListeners,t),n._dispatchInstances=rt(n._dispatchInstances,e))}function Fn(e){e&&e.dispatchConfig.registrationName&&Ln(e._targetInst,null,e)}function Rn(e){ot(e,An)}var zn=null,Hn=null,Wn=null;function Bn(){if(Wn)return Wn;for(var e=Hn,t=e.length,n=("value"in zn?zn.value:zn.textContent),i=n.length,r=0;r<t&&e[r]===n[r];r++);for(var o=t-r,a=1;a<=o&&e[t-a]===n[i-a];a++);return Wn=n.slice(r,1<a?1-a:void 0)}function Un(){return!0}function qn(){return!1}function Qn(e,t,n,i){for(var r in this.dispatchConfig=e,this._targetInst=t,this.nativeEvent=n,e=this.constructor.Interface)e.hasOwnProperty(r)&&((t=e[r])?this[r]=t(n):"target"===r?this.target=i:this[r]=n[r]);return this.isDefaultPrevented=(null!=n.defaultPrevented?n.defaultPrevented:!1===n.returnValue)?Un:qn,this.isPropagationStopped=qn,this}function Yn(e,t,n,i){if(this.eventPool.length){var r=this.eventPool.pop();return this.call(r,e,t,n,i),r}return new this(e,t,n,i)}function Vn(e){if(!(e instanceof this))throw Error(T(279));e.destructor(),this.eventPool.length<10&&this.eventPool.push(e)}function Xn(e){e.eventPool=[],e.getPooled=Yn,e.release=Vn}v(Qn.prototype,{preventDefault:function(){this.defaultPrevented=!0;var e=this.nativeEvent;e&&(e.preventDefault?e.preventDefault():"unknown"!=typeof e.returnValue&&(e.returnValue=!1),this.isDefaultPrevented=Un)},stopPropagation:function(){var e=this.nativeEvent;e&&(e.stopPropagation?e.stopPropagation():"unknown"!=typeof e.cancelBubble&&(e.cancelBubble=!0),this.isPropagationStopped=Un)},persist:function(){this.isPersistent=Un},isPersistent:qn,destructor:function(){var e,t=this.constructor.Interface;for(e in t)this[e]=null;this.nativeEvent=this._targetInst=this.dispatchConfig=null,this.isPropagationStopped=this.isDefaultPrevented=qn,this._dispatchInstances=this._dispatchListeners=null}}),Qn.Interface={type:null,target:null,currentTarget:function(){return null},eventPhase:null,bubbles:null,cancelable:null,timeStamp:function(e){return e.timeStamp||Date.now()},defaultPrevented:null,isTrusted:null},Qn.extend=function(e){function t(){}function n(){return i.apply(this,arguments)}var i=this;t.prototype=i.prototype;var r=new t;return v(r,n.prototype),((n.prototype=r).constructor=n).Interface=v({},i.Interface,e),n.extend=i.extend,Xn(n),n},Xn(Qn);var Kn=Qn.extend({data:null}),Gn=Qn.extend({data:null}),Jn=[9,13,27,32],Zn=S&&"CompositionEvent"in window,ei=null;S&&"documentMode"in document&&(ei=document.documentMode);var ti=S&&"TextEvent"in window&&!ei,ni=S&&(!Zn||ei&&8<ei&&ei<=11),ii=String.fromCharCode(32),ri={beforeInput:{phasedRegistrationNames:{bubbled:"onBeforeInput",captured:"onBeforeInputCapture"},dependencies:["compositionend","keypress","textInput","paste"]},compositionEnd:{phasedRegistrationNames:{bubbled:"onCompositionEnd",captured:"onCompositionEndCapture"},dependencies:"blur compositionend keydown keypress keyup mousedown".split(" ")},compositionStart:{phasedRegistrationNames:{bubbled:"onCompositionStart",captured:"onCompositionStartCapture"},dependencies:"blur compositionstart keydown keypress keyup mousedown".split(" ")},compositionUpdate:{phasedRegistrationNames:{bubbled:"onCompositionUpdate",captured:"onCompositionUpdateCapture"},dependencies:"blur compositionupdate keydown keypress keyup mousedown".split(" ")}},oi=!1;function ai(e,t){switch(e){case"keyup":return-1!==Jn.indexOf(t.keyCode);case"keydown":return 229!==t.keyCode;case"keypress":case"mousedown":case"blur":return 1;default:return}}function si(e){return"object"==typeof(e=e.detail)&&"data"in e?e.data:null}var li=!1;var ci={eventTypes:ri,extractEvents:function(e,t,n,i){var r;if(Zn)e:{switch(e){case"compositionstart":var o=ri.compositionStart;break e;case"compositionend":o=ri.compositionEnd;break e;case"compositionupdate":o=ri.compositionUpdate;break e}o=void 0}else li?ai(e,n)&&(o=ri.compositionEnd):"keydown"===e&&229===n.keyCode&&(o=ri.compositionStart);return r=o?(ni&&"ko"!==n.locale&&(li||o!==ri.compositionStart?o===ri.compositionEnd&&li&&(r=Bn()):(Hn="value"in(zn=i)?zn.value:zn.textContent,li=!0)),o=Kn.getPooled(o,t,n,i),r?o.data=r:null!==(r=si(n))&&(o.data=r),Rn(o),o):null,(e=(ti?function(e,t){switch(e){case"compositionend":return si(t);case"keypress":return 32!==t.which?null:(oi=!0,ii);case"textInput":return(e=t.data)===ii&&oi?null:e;default:return null}}:function(e,t){if(li)return"compositionend"===e||!Zn&&ai(e,t)?(e=Bn(),Wn=Hn=zn=null,li=!1,e):null;switch(e){case"paste":return null;case"keypress":if(!(t.ctrlKey||t.altKey||t.metaKey)||t.ctrlKey&&t.altKey){if(t.char&&1<t.char.length)return t.char;if(t.which)return String.fromCharCode(t.which)}return null;case"compositionend":return ni&&"ko"!==t.locale?null:t.data;default:return null}})(e,n))?((t=Gn.getPooled(ri.beforeInput,t,n,i)).data=e,Rn(t)):t=null,null===r?t:null===t?r:[r,t]}},ui={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function di(e){var t=e&&e.nodeName&&e.nodeName.toLowerCase();return"input"===t?ui[e.type]:"textarea"===t}var fi={change:{phasedRegistrationNames:{bubbled:"onChange",captured:"onChangeCapture"},dependencies:"blur change click focus input keydown keyup selectionchange".split(" ")}};function hi(e,t,n){return(e=Qn.getPooled(fi.change,e,t,n)).type="change",P(n),Rn(e),e}var pi=null,mi=null;function gi(e){lt(e)}function vi(e){if(xe(Pn(e)))return e}function yi(e,t){if("change"===e)return t}var bi=!1;function wi(){pi&&(pi.detachEvent("onpropertychange",xi),mi=pi=null)}function xi(e){if("value"===e.propertyName&&vi(mi))if(e=hi(mi,e,ct(e)),L)lt(e);else{L=!0;try{M(gi,e)}finally{L=!1,R()}}}function ki(e,t,n){"focus"===e?(wi(),mi=n,(pi=t).attachEvent("onpropertychange",xi)):"blur"===e&&wi()}function Ci(e){if("selectionchange"===e||"keyup"===e||"keydown"===e)return vi(mi)}function $i(e,t){if("click"===e)return vi(t)}function Ti(e,t){if("input"===e||"change"===e)return vi(t)}S&&(bi=ut("input")&&(!document.documentMode||9<document.documentMode));var Si={eventTypes:fi,_isInputEventSupported:bi,extractEvents:function(e,t,n,i){var r,o,a=t?Pn(t):window,s=a.nodeName&&a.nodeName.toLowerCase();if("select"===s||"input"===s&&"file"===a.type?r=yi:di(a)?bi?r=Ti:(r=Ci,o=ki):!(s=a.nodeName)||"input"!==s.toLowerCase()||"checkbox"!==a.type&&"radio"!==a.type||(r=$i),r=r&&r(e,t))return hi(r,n,i);o&&o(e,a,t),"blur"===e&&(e=a._wrapperState)&&e.controlled&&"number"===a.type&&_e(a,"number",a.value)}},_i=Qn.extend({view:null,detail:null}),Ei={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function ji(e){var t=this.nativeEvent;return t.getModifierState?t.getModifierState(e):!!(e=Ei[e])&&!!t[e]}function Ii(){return ji}var Pi=0,Di=0,Mi=!1,Ni=!1,Oi=_i.extend({screenX:null,screenY:null,clientX:null,clientY:null,pageX:null,pageY:null,ctrlKey:null,shiftKey:null,altKey:null,metaKey:null,getModifierState:Ii,button:null,buttons:null,relatedTarget:function(e){return e.relatedTarget||(e.fromElement===e.srcElement?e.toElement:e.fromElement)},movementX:function(e){if("movementX"in e)return e.movementX;var t=Pi;return Pi=e.screenX,Mi?"mousemove"===e.type?e.screenX-t:0:(Mi=!0,0)},movementY:function(e){if("movementY"in e)return e.movementY;var t=Di;return Di=e.screenY,Ni?"mousemove"===e.type?e.screenY-t:0:(Ni=!0,0)}}),Ai=Oi.extend({pointerId:null,width:null,height:null,pressure:null,tangentialPressure:null,tiltX:null,tiltY:null,twist:null,pointerType:null,isPrimary:null}),Li={mouseEnter:{registrationName:"onMouseEnter",dependencies:["mouseout","mouseover"]},mouseLeave:{registrationName:"onMouseLeave",dependencies:["mouseout","mouseover"]},pointerEnter:{registrationName:"onPointerEnter",dependencies:["pointerout","pointerover"]},pointerLeave:{registrationName:"onPointerLeave",dependencies:["pointerout","pointerover"]}},Fi={eventTypes:Li,extractEvents:function(e,t,n,i,r){var o,a,s,l,c="mouseover"===e||"pointerover"===e,u="mouseout"===e||"pointerout"===e;if(c&&0==(32&r)&&(n.relatedTarget||n.fromElement)||!u&&!c)return null;if(c=i.window===i?i:(c=i.ownerDocument)?c.defaultView||c.parentWindow:window,u?(u=t,null===(t=(t=n.relatedTarget||n.toElement)?jn(t):null)||(t!==et(t)||5!==t.tag&&6!==t.tag)&&(t=null)):u=null,u===t)return null;if("mouseout"===e||"mouseover"===e?(o=Oi,a=Li.mouseLeave,s=Li.mouseEnter,l="mouse"):"pointerout"!==e&&"pointerover"!==e||(o=Ai,a=Li.pointerLeave,s=Li.pointerEnter,l="pointer"),e=null==u?c:Pn(u),c=null==t?c:Pn(t),(a=o.getPooled(a,u,n,i)).type=l+"leave",a.target=e,a.relatedTarget=c,(n=o.getPooled(s,t,n,i)).type=l+"enter",n.target=c,n.relatedTarget=e,l=t,(i=u)&&l)e:{for(s=l,u=0,e=o=i;e;e=Mn(e))u++;for(e=0,t=s;t;t=Mn(t))e++;for(;0<u-e;)o=Mn(o),u--;for(;0<e-u;)s=Mn(s),e--;for(;u--;){if(o===s||o===s.alternate)break e;o=Mn(o),s=Mn(s)}o=null}else o=null;for(s=o,o=[];i&&i!==s&&(null===(u=i.alternate)||u!==s);)o.push(i),i=Mn(i);for(i=[];l&&l!==s&&(null===(u=l.alternate)||u!==s);)i.push(l),l=Mn(l);for(l=0;l<o.length;l++)Ln(o[l],"bubbled",a);for(l=i.length;0<l--;)Ln(i[l],"captured",n);return 0==(64&r)?[a]:[a,n]}};var Ri="function"==typeof Object.is?Object.is:function(e,t){return e===t&&(0!==e||1/e==1/t)||e!=e&&t!=t},zi=Object.prototype.hasOwnProperty;function Hi(e,t){if(Ri(e,t))return!0;if("object"!=typeof e||null===e||"object"!=typeof t||null===t)return!1;var n=Object.keys(e),i=Object.keys(t);if(n.length!==i.length)return!1;for(i=0;i<n.length;i++)if(!zi.call(t,n[i])||!Ri(e[n[i]],t[n[i]]))return!1;return!0}var Wi=S&&"documentMode"in document&&document.documentMode<=11,Bi={select:{phasedRegistrationNames:{bubbled:"onSelect",captured:"onSelectCapture"},dependencies:"blur contextmenu dragend focus keydown keyup mousedown mouseup selectionchange".split(" ")}},Ui=null,qi=null,Qi=null,Yi=!1;function Vi(e,t){var n=t.window===t?t.document:9===t.nodeType?t:t.ownerDocument;return Yi||null==Ui||Ui!==ln(n)?null:(n="selectionStart"in(n=Ui)&&fn(n)?{start:n.selectionStart,end:n.selectionEnd}:{anchorNode:(n=(n.ownerDocument&&n.ownerDocument.defaultView||window).getSelection()).anchorNode,anchorOffset:n.anchorOffset,focusNode:n.focusNode,focusOffset:n.focusOffset},Qi&&Hi(Qi,n)?null:(Qi=n,(e=Qn.getPooled(Bi.select,qi,e,t)).type="select",e.target=Ui,Rn(e),e))}var Xi={eventTypes:Bi,extractEvents:function(e,t,n,i,r,o){if(!(o=!(r=o||(i.window===i?i.document:9===i.nodeType?i:i.ownerDocument)))){e:{r=Ze(r),o=C.onSelect;for(var a=0;a<o.length;a++)if(!r.has(o[a])){r=!1;break e}r=!0}o=!r}if(o)return null;switch(r=t?Pn(t):window,e){case"focus":!di(r)&&"true"!==r.contentEditable||(Ui=r,qi=t,Qi=null);break;case"blur":Qi=qi=Ui=null;break;case"mousedown":Yi=!0;break;case"contextmenu":case"mouseup":case"dragend":return Yi=!1,Vi(n,i);case"selectionchange":if(Wi)break;case"keydown":case"keyup":return Vi(n,i)}return null}},Ki=Qn.extend({animationName:null,elapsedTime:null,pseudoElement:null}),Gi=Qn.extend({clipboardData:function(e){return"clipboardData"in e?e.clipboardData:window.clipboardData}}),Ji=_i.extend({relatedTarget:null});function Zi(e){var t=e.keyCode;return"charCode"in e?0===(e=e.charCode)&&13===t&&(e=13):e=t,10===e&&(e=13),32<=e||13===e?e:0}var er={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},tr={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},nr=_i.extend({key:function(e){if(e.key){var t=er[e.key]||e.key;if("Unidentified"!==t)return t}return"keypress"===e.type?13===(e=Zi(e))?"Enter":String.fromCharCode(e):"keydown"===e.type||"keyup"===e.type?tr[e.keyCode]||"Unidentified":""},location:null,ctrlKey:null,shiftKey:null,altKey:null,metaKey:null,repeat:null,locale:null,getModifierState:Ii,charCode:function(e){return"keypress"===e.type?Zi(e):0},keyCode:function(e){return"keydown"===e.type||"keyup"===e.type?e.keyCode:0},which:function(e){return"keypress"===e.type?Zi(e):"keydown"===e.type||"keyup"===e.type?e.keyCode:0}}),ir=Oi.extend({dataTransfer:null}),rr=_i.extend({touches:null,targetTouches:null,changedTouches:null,altKey:null,metaKey:null,ctrlKey:null,shiftKey:null,getModifierState:Ii}),or=Qn.extend({propertyName:null,elapsedTime:null,pseudoElement:null}),ar=Oi.extend({deltaX:function(e){return"deltaX"in e?e.deltaX:"wheelDeltaX"in e?-e.wheelDeltaX:0},deltaY:function(e){return"deltaY"in e?e.deltaY:"wheelDeltaY"in e?-e.wheelDeltaY:"wheelDelta"in e?-e.wheelDelta:0},deltaZ:null,deltaMode:null}),sr={eventTypes:Lt,extractEvents:function(e,t,n,i){var r=Ft.get(e);if(!r)return null;switch(e){case"keypress":if(0===Zi(n))return null;case"keydown":case"keyup":e=nr;break;case"blur":case"focus":e=Ji;break;case"click":if(2===n.button)return null;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":e=Oi;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":e=ir;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":e=rr;break;case Ye:case Ve:case Xe:e=Ki;break;case Ke:e=or;break;case"scroll":e=_i;break;case"wheel":e=ar;break;case"copy":case"cut":case"paste":e=Gi;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":e=Ai;break;default:e=Qn}return Rn(t=e.getPooled(r,t,n,i)),t}};if(m)throw Error(T(101));m=Array.prototype.slice.call("ResponderEventPlugin SimpleEventPlugin EnterLeaveEventPlugin ChangeEventPlugin SelectEventPlugin BeforeInputEventPlugin".split(" ")),y();a=Dn,i=In,s=Pn;$({SimpleEventPlugin:sr,EnterLeaveEventPlugin:Fi,ChangeEventPlugin:Si,SelectEventPlugin:Xi,BeforeInputEventPlugin:ci});var lr=[],cr=-1;function ur(e){cr<0||(e.current=lr[cr],lr[cr]=null,cr--)}function dr(e,t){lr[++cr]=e.current,e.current=t}var fr={},hr={current:fr},pr={current:!1},mr=fr;function gr(e,t){var n=e.type.contextTypes;if(!n)return fr;var i=e.stateNode;if(i&&i.__reactInternalMemoizedUnmaskedChildContext===t)return i.__reactInternalMemoizedMaskedChildContext;var r,o={};for(r in n)o[r]=t[r];return i&&((e=e.stateNode).__reactInternalMemoizedUnmaskedChildContext=t,e.__reactInternalMemoizedMaskedChildContext=o),o}function vr(e){return null!=(e=e.childContextTypes)}function yr(){ur(pr),ur(hr)}function br(e,t,n){if(hr.current!==fr)throw Error(T(168));dr(hr,t),dr(pr,n)}function wr(e,t,n){var i,r=e.stateNode;if(e=t.childContextTypes,"function"!=typeof r.getChildContext)return n;for(i in r=r.getChildContext())if(!(i in e))throw Error(T(108,ge(t)||"Unknown",i));return v({},n,{},r)}function xr(e){return e=(e=e.stateNode)&&e.__reactInternalMemoizedMergedChildContext||fr,mr=hr.current,dr(hr,e),dr(pr,pr.current),1}function kr(e,t,n){var i=e.stateNode;if(!i)throw Error(T(169));n?(e=wr(e,t,mr),i.__reactInternalMemoizedMergedChildContext=e,ur(pr),ur(hr),dr(hr,e)):ur(pr),dr(pr,n)}var Cr=o.unstable_runWithPriority,$r=o.unstable_scheduleCallback,Tr=o.unstable_cancelCallback,Sr=o.unstable_requestPaint,_r=o.unstable_now,Er=o.unstable_getCurrentPriorityLevel,jr=o.unstable_ImmediatePriority,Ir=o.unstable_UserBlockingPriority,Pr=o.unstable_NormalPriority,Dr=o.unstable_LowPriority,Mr=o.unstable_IdlePriority,Nr={},Or=o.unstable_shouldYield,Ar=void 0!==Sr?Sr:function(){},Lr=null,Fr=null,Rr=!1,zr=_r(),Hr=zr<1e4?_r:function(){return _r()-zr};function Wr(){switch(Er()){case jr:return 99;case Ir:return 98;case Pr:return 97;case Dr:return 96;case Mr:return 95;default:throw Error(T(332))}}function Br(e){switch(e){case 99:return jr;case 98:return Ir;case 97:return Pr;case 96:return Dr;case 95:return Mr;default:throw Error(T(332))}}function Ur(e,t){return e=Br(e),Cr(e,t)}function qr(e,t,n){return e=Br(e),$r(e,t,n)}function Qr(e){return null===Lr?(Lr=[e],Fr=$r(jr,Vr)):Lr.push(e),Nr}function Yr(){var e;null!==Fr&&(e=Fr,Fr=null,Tr(e)),Vr()}function Vr(){if(!Rr&&null!==Lr){Rr=!0;var t=0;try{var n=Lr;Ur(99,function(){for(;t<n.length;t++)for(var e=n[t];null!==(e=e(!0)););}),Lr=null}catch(e){throw null!==Lr&&(Lr=Lr.slice(t+1)),$r(jr,Yr),e}finally{Rr=!1}}}function Xr(e,t,n){return 1073741821-(1+((1073741821-e+t/10)/(n/=10)|0))*n}function Kr(e,t){if(e&&e.defaultProps)for(var n in t=v({},t),e=e.defaultProps)void 0===t[n]&&(t[n]=e[n]);return t}var Gr={current:null},Jr=null,Zr=null,eo=null;function to(){eo=Zr=Jr=null}function no(e){var t=Gr.current;ur(Gr),e.type._context._currentValue=t}function io(e,t){for(;null!==e;){var n=e.alternate;if(e.childExpirationTime<t)e.childExpirationTime=t,null!==n&&n.childExpirationTime<t&&(n.childExpirationTime=t);else{if(!(null!==n&&n.childExpirationTime<t))break;n.childExpirationTime=t}e=e.return}}function ro(e,t){(eo=Zr=null)!==(e=(Jr=e).dependencies)&&null!==e.firstContext&&(e.expirationTime>=t&&(Da=!0),e.firstContext=null)}function oo(e,t){if(eo!==e&&!1!==t&&0!==t)if("number"==typeof t&&1073741823!==t||(eo=e,t=1073741823),t={context:e,observedBits:t,next:null},null===Zr){if(null===Jr)throw Error(T(308));Zr=t,Jr.dependencies={expirationTime:0,firstContext:t,responders:null}}else Zr=Zr.next=t;return e._currentValue}var ao=!1;function so(e){e.updateQueue={baseState:e.memoizedState,baseQueue:null,shared:{pending:null},effects:null}}function lo(e,t){e=e.updateQueue,t.updateQueue===e&&(t.updateQueue={baseState:e.baseState,baseQueue:e.baseQueue,shared:e.shared,effects:e.effects})}function co(e,t){return(e={expirationTime:e,suspenseConfig:t,tag:0,payload:null,callback:null,next:null}).next=e}function uo(e,t){var n;null!==(e=e.updateQueue)&&(null===(n=(e=e.shared).pending)?t.next=t:(t.next=n.next,n.next=t),e.pending=t)}function fo(e,t){var n=e.alternate;null!==n&&lo(n,e),null===(n=(e=e.updateQueue).baseQueue)?(e.baseQueue=t.next=t).next=t:(t.next=n.next,n.next=t)}function ho(e,t,n,i){var r=e.updateQueue;ao=!1;var o,a=r.baseQueue;if(null!==(g=r.shared.pending)&&(null!==a&&(o=a.next,a.next=g.next,g.next=o),a=g,(r.shared.pending=null)===(o=e.alternate)||null!==(o=o.updateQueue)&&(o.baseQueue=g)),null!==a){o=a.next;var s=r.baseState,l=0,c=null,u=null,d=null;if(null!==o)for(var f=o;;){if((g=f.expirationTime)<i){var h={expirationTime:f.expirationTime,suspenseConfig:f.suspenseConfig,tag:f.tag,payload:f.payload,callback:f.callback,next:null};null===d?(u=d=h,c=s):d=d.next=h,l<g&&(l=g)}else{null!==d&&(d=d.next={expirationTime:1073741823,suspenseConfig:f.suspenseConfig,tag:f.tag,payload:f.payload,callback:f.callback,next:null}),dl(g,f.suspenseConfig);e:{var p=e,m=f,g=t,h=n;switch(m.tag){case 1:if("function"==typeof(p=m.payload)){s=p.call(h,s,g);break e}s=p;break e;case 3:p.effectTag=-4097&p.effectTag|64;case 0:if(null==(g="function"==typeof(p=m.payload)?p.call(h,s,g):p))break e;s=v({},s,g);break e;case 2:ao=!0}}null!==f.callback&&(e.effectTag|=32,null===(g=r.effects)?r.effects=[f]:g.push(f))}if(null===(f=f.next)||f===o){if(null===(g=r.shared.pending))break;f=a.next=g.next,g.next=o,r.baseQueue=a=g,r.shared.pending=null}}null===d?c=s:d.next=u,r.baseState=c,r.baseQueue=d,fl(l),e.expirationTime=l,e.memoizedState=s}}function po(e,t,n){if(e=t.effects,(t.effects=null)!==e)for(t=0;t<e.length;t++){var i=e[t],r=i.callback;if(null!==r){if(i.callback=null,i=r,r=n,"function"!=typeof i)throw Error(T(191,i));i.call(r)}}}var mo=K.ReactCurrentBatchConfig,go=(new r.Component).refs;function vo(e,t,n,i){n=null==(n=n(i,t=e.memoizedState))?t:v({},t,n),e.memoizedState=n,0===e.expirationTime&&(e.updateQueue.baseState=n)}var yo={isMounted:function(e){return!!(e=e._reactInternalFiber)&&et(e)===e},enqueueSetState:function(e,t,n){e=e._reactInternalFiber;var i=Js(),r=mo.suspense;(r=co(i=Zs(i,e,r),r)).payload=t,null!=n&&(r.callback=n),uo(e,r),el(e,i)},enqueueReplaceState:function(e,t,n){e=e._reactInternalFiber;var i=Js(),r=mo.suspense;(r=co(i=Zs(i,e,r),r)).tag=1,r.payload=t,null!=n&&(r.callback=n),uo(e,r),el(e,i)},enqueueForceUpdate:function(e,t){e=e._reactInternalFiber;var n=Js(),i=mo.suspense;(i=co(n=Zs(n,e,i),i)).tag=2,null!=t&&(i.callback=t),uo(e,i),el(e,n)}};function bo(e,t,n,i,r,o,a){return"function"==typeof(e=e.stateNode).shouldComponentUpdate?e.shouldComponentUpdate(i,o,a):!t.prototype||!t.prototype.isPureReactComponent||(!Hi(n,i)||!Hi(r,o))}function wo(e,t,n){var i=!1,r=fr,o=t.contextType;return t=new t(n,o="object"==typeof o&&null!==o?oo(o):(r=vr(t)?mr:hr.current,(i=null!=(i=t.contextTypes))?gr(e,r):fr)),e.memoizedState=null!==t.state&&void 0!==t.state?t.state:null,t.updater=yo,(e.stateNode=t)._reactInternalFiber=e,i&&((e=e.stateNode).__reactInternalMemoizedUnmaskedChildContext=r,e.__reactInternalMemoizedMaskedChildContext=o),t}function xo(e,t,n,i){e=t.state,"function"==typeof t.componentWillReceiveProps&&t.componentWillReceiveProps(n,i),"function"==typeof t.UNSAFE_componentWillReceiveProps&&t.UNSAFE_componentWillReceiveProps(n,i),t.state!==e&&yo.enqueueReplaceState(t,t.state,null)}function ko(e,t,n,i){var r=e.stateNode;r.props=n,r.state=e.memoizedState,r.refs=go,so(e);var o=t.contextType;"object"==typeof o&&null!==o?r.context=oo(o):(o=vr(t)?mr:hr.current,r.context=gr(e,o)),ho(e,n,r,i),r.state=e.memoizedState,"function"==typeof(o=t.getDerivedStateFromProps)&&(vo(e,t,o,n),r.state=e.memoizedState),"function"==typeof t.getDerivedStateFromProps||"function"==typeof r.getSnapshotBeforeUpdate||"function"!=typeof r.UNSAFE_componentWillMount&&"function"!=typeof r.componentWillMount||(t=r.state,"function"==typeof r.componentWillMount&&r.componentWillMount(),"function"==typeof r.UNSAFE_componentWillMount&&r.UNSAFE_componentWillMount(),t!==r.state&&yo.enqueueReplaceState(r,r.state,null),ho(e,n,r,i),r.state=e.memoizedState),"function"==typeof r.componentDidMount&&(e.effectTag|=4)}var Co=Array.isArray;function $o(e,t,n){if(null!==(e=n.ref)&&"function"!=typeof e&&"object"!=typeof e){if(n._owner){if(n=n._owner){if(1!==n.tag)throw Error(T(309));var i=n.stateNode}if(!i)throw Error(T(147,e));var r=""+e;return null!==t&&null!==t.ref&&"function"==typeof t.ref&&t.ref._stringRef===r?t.ref:((t=function(e){var t=i.refs;t===go&&(t=i.refs={}),null===e?delete t[r]:t[r]=e})._stringRef=r,t)}if("string"!=typeof e)throw Error(T(284));if(!n._owner)throw Error(T(290,e))}return e}function To(e,t){if("textarea"!==e.type)throw Error(T(31,"[object Object]"===Object.prototype.toString.call(t)?"object with keys {"+Object.keys(t).join(", ")+"}":t,""))}function So(d){function f(e,t){var n;d&&(null!==(n=e.lastEffect)?(n.nextEffect=t,e.lastEffect=t):e.firstEffect=e.lastEffect=t,t.nextEffect=null,t.effectTag=8)}function h(e,t){if(!d)return null;for(;null!==t;)f(e,t),t=t.sibling;return null}function p(e,t){for(e=new Map;null!==t;)null!==t.key?e.set(t.key,t):e.set(t.index,t),t=t.sibling;return e}function a(e,t){return(e=_l(e,t)).index=0,e.sibling=null,e}function m(e,t,n){return e.index=n,d?null===(n=e.alternate)||(n=n.index)<t?(e.effectTag=2,t):n:t}function s(e){return d&&null===e.alternate&&(e.effectTag=2),e}function o(e,t,n,i){return null===t||6!==t.tag?(t=Il(n,e.mode,i)).return=e:(t=a(t,n)).return=e,t}function l(e,t,n,i){return null!==t&&t.elementType===n.type?(i=a(t,n.props)).ref=$o(e,t,n):(i=El(n.type,n.key,n.props,null,e.mode,i)).ref=$o(e,t,n),i.return=e,i}function c(e,t,n,i){return null===t||4!==t.tag||t.stateNode.containerInfo!==n.containerInfo||t.stateNode.implementation!==n.implementation?(t=Pl(n,e.mode,i)).return=e:(t=a(t,n.children||[])).return=e,t}function u(e,t,n,i,r){return null===t||7!==t.tag?(t=jl(n,e.mode,i,r)).return=e:(t=a(t,n)).return=e,t}function g(e,t,n){if("string"==typeof t||"number"==typeof t)return(t=Il(""+t,e.mode,n)).return=e,t;if("object"==typeof t&&null!==t){switch(t.$$typeof){case ee:return(n=El(t.type,t.key,t.props,null,e.mode,n)).ref=$o(e,null,t),n.return=e,n;case te:return(t=Pl(t,e.mode,n)).return=e,t}if(Co(t)||me(t))return(t=jl(t,e.mode,n,null)).return=e,t;To(e,t)}return null}function v(e,t,n,i){var r=null!==t?t.key:null;if("string"==typeof n||"number"==typeof n)return null!==r?null:o(e,t,""+n,i);if("object"==typeof n&&null!==n){switch(n.$$typeof){case ee:return n.key===r?n.type===ne?u(e,t,n.props.children,i,r):l(e,t,n,i):null;case te:return n.key===r?c(e,t,n,i):null}if(Co(n)||me(n))return null!==r?null:u(e,t,n,i,null);To(e,n)}return null}function y(e,t,n,i,r){if("string"==typeof i||"number"==typeof i)return o(t,e=e.get(n)||null,""+i,r);if("object"==typeof i&&null!==i){switch(i.$$typeof){case ee:return e=e.get(null===i.key?n:i.key)||null,i.type===ne?u(t,e,i.props.children,r,i.key):l(t,e,i,r);case te:return c(t,e=e.get(null===i.key?n:i.key)||null,i,r)}if(Co(i)||me(i))return u(t,e=e.get(n)||null,i,r,null);To(t,i)}return null}return function(e,t,n,i){var r="object"==typeof n&&null!==n&&n.type===ne&&null===n.key;r&&(n=n.props.children);var o="object"==typeof n&&null!==n;if(o)switch(n.$$typeof){case ee:e:{for(o=n.key,r=t;null!==r;){if(r.key===o){switch(r.tag){case 7:if(n.type!==ne)break;h(e,r.sibling),(t=a(r,n.props.children)).return=e,e=t;break e;default:if(r.elementType===n.type){h(e,r.sibling),(t=a(r,n.props)).ref=$o(e,r,n),t.return=e,e=t;break e}}h(e,r);break}f(e,r),r=r.sibling}e=n.type===ne?((t=jl(n.props.children,e.mode,i,n.key)).return=e,t):((i=El(n.type,n.key,n.props,null,e.mode,i)).ref=$o(e,t,n),i.return=e,i)}return s(e);case te:e:{for(r=n.key;null!==t;){if(t.key===r){if(4===t.tag&&t.stateNode.containerInfo===n.containerInfo&&t.stateNode.implementation===n.implementation){h(e,t.sibling),(t=a(t,n.children||[])).return=e,e=t;break e}h(e,t);break}f(e,t),t=t.sibling}(t=Pl(n,e.mode,i)).return=e,e=t}return s(e)}if("string"==typeof n||"number"==typeof n)return n=""+n,s(e=((t=null!==t&&6===t.tag?(h(e,t.sibling),a(t,n)):(h(e,t),Il(n,e.mode,i))).return=e,t));if(Co(n))return function(t,e,n,i){for(var r=null,o=null,a=e,s=e=0,l=null;null!==a&&s<n.length;s++){a.index>s?(l=a,a=null):l=a.sibling;var c=v(t,a,n[s],i);if(null===c){null===a&&(a=l);break}d&&a&&null===c.alternate&&f(t,a),e=m(c,e,s),null===o?r=c:o.sibling=c,o=c,a=l}if(s===n.length)return h(t,a),r;if(null===a){for(;s<n.length;s++)null!==(a=g(t,n[s],i))&&(e=m(a,e,s),null===o?r=a:o.sibling=a,o=a);return r}for(a=p(t,a);s<n.length;s++)null!==(l=y(a,t,s,n[s],i))&&(d&&null!==l.alternate&&a.delete(null===l.key?s:l.key),e=m(l,e,s),null===o?r=l:o.sibling=l,o=l);return d&&a.forEach(function(e){return f(t,e)}),r}(e,t,n,i);if(me(n))return function(t,e,n,i){var r=me(n);if("function"!=typeof r)throw Error(T(150));if(null==(n=r.call(n)))throw Error(T(151));for(var o=r=null,a=e,s=e=0,l=null,c=n.next();null!==a&&!c.done;s++,c=n.next()){a.index>s?(l=a,a=null):l=a.sibling;var u=v(t,a,c.value,i);if(null===u){null===a&&(a=l);break}d&&a&&null===u.alternate&&f(t,a),e=m(u,e,s),null===o?r=u:o.sibling=u,o=u,a=l}if(c.done)return h(t,a),r;if(null===a){for(;!c.done;s++,c=n.next())null!==(c=g(t,c.value,i))&&(e=m(c,e,s),null===o?r=c:o.sibling=c,o=c);return r}for(a=p(t,a);!c.done;s++,c=n.next())null!==(c=y(a,t,s,c.value,i))&&(d&&null!==c.alternate&&a.delete(null===c.key?s:c.key),e=m(c,e,s),null===o?r=c:o.sibling=c,o=c);return d&&a.forEach(function(e){return f(t,e)}),r}(e,t,n,i);if(o&&To(e,n),void 0===n&&!r)switch(e.tag){case 1:case 0:throw e=e.type,Error(T(152,e.displayName||e.name||"Component"))}return h(e,t)}}var _o=So(!0),Eo=So(!1),jo={},Io={current:jo},Po={current:jo},Do={current:jo};function Mo(e){if(e===jo)throw Error(T(174));return e}function No(e,t){switch(dr(Do,t),dr(Po,e),dr(Io,jo),e=t.nodeType){case 9:case 11:t=(t=t.documentElement)?t.namespaceURI:Le(null,"");break;default:t=Le(t=(e=8===e?t.parentNode:t).namespaceURI||null,e=e.tagName)}ur(Io),dr(Io,t)}function Oo(){ur(Io),ur(Po),ur(Do)}function Ao(e){Mo(Do.current);var t=Mo(Io.current),n=Le(t,e.type);t!==n&&(dr(Po,e),dr(Io,n))}function Lo(e){Po.current===e&&(ur(Io),ur(Po))}var Fo={current:0};function Ro(e){for(var t=e;null!==t;){if(13===t.tag){var n=t.memoizedState;if(null!==n&&(null===(n=n.dehydrated)||n.data===mn||n.data===gn))return t}else if(19===t.tag&&void 0!==t.memoizedProps.revealOrder){if(0!=(64&t.effectTag))return t}else if(null!==t.child){t=(t.child.return=t).child;continue}if(t===e)break;for(;null===t.sibling;){if(null===t.return||t.return===e)return null;t=t.return}t.sibling.return=t.return,t=t.sibling}return null}function zo(e,t){return{responder:e,props:t}}var Ho=K.ReactCurrentDispatcher,Wo=K.ReactCurrentBatchConfig,Bo=0,Uo=null,qo=null,Qo=null,Yo=!1;function Vo(){throw Error(T(321))}function Xo(e,t){if(null!==t){for(var n=0;n<t.length&&n<e.length;n++)if(!Ri(e[n],t[n]))return;return 1}}function Ko(e,t,n,i,r,o){if(Bo=o,(Uo=t).memoizedState=null,t.updateQueue=null,t.expirationTime=0,Ho.current=null===e||null===e.memoizedState?ba:wa,e=n(i,r),t.expirationTime===Bo){o=0;do{if(t.expirationTime=0,!(o<25))throw Error(T(301));o+=1,Qo=qo=null,t.updateQueue=null,Ho.current=xa,e=n(i,r)}while(t.expirationTime===Bo)}if(Ho.current=ya,t=null!==qo&&null!==qo.next,Bo=0,Qo=qo=Uo=null,Yo=!1,t)throw Error(T(300));return e}function Go(){var e={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return null===Qo?Uo.memoizedState=Qo=e:Qo=Qo.next=e,Qo}function Jo(){var e;e=null===qo?null!==(e=Uo.alternate)?e.memoizedState:null:qo.next;var t=null===Qo?Uo.memoizedState:Qo.next;if(null!==t)Qo=t,qo=e;else{if(null===e)throw Error(T(310));e={memoizedState:(qo=e).memoizedState,baseState:qo.baseState,baseQueue:qo.baseQueue,queue:qo.queue,next:null},null===Qo?Uo.memoizedState=Qo=e:Qo=Qo.next=e}return Qo}function Zo(e,t){return"function"==typeof t?t(e):t}function ea(e){var t=Jo(),n=t.queue;if(null===n)throw Error(T(311));n.lastRenderedReducer=e;var i,r=qo,o=r.baseQueue,a=n.pending;if(null!==a&&(null!==o&&(i=o.next,o.next=a.next,a.next=i),r.baseQueue=o=a,n.pending=null),null!==o){o=o.next,r=r.baseState;var s=i=a=null,l=o;do{var c,u=l.expirationTime;u<Bo?(c={expirationTime:l.expirationTime,suspenseConfig:l.suspenseConfig,action:l.action,eagerReducer:l.eagerReducer,eagerState:l.eagerState,next:null},null===s?(i=s=c,a=r):s=s.next=c,u>Uo.expirationTime&&fl(Uo.expirationTime=u)):(null!==s&&(s=s.next={expirationTime:1073741823,suspenseConfig:l.suspenseConfig,action:l.action,eagerReducer:l.eagerReducer,eagerState:l.eagerState,next:null}),dl(u,l.suspenseConfig),r=l.eagerReducer===e?l.eagerState:e(r,l.action)),l=l.next}while(null!==l&&l!==o);null===s?a=r:s.next=i,Ri(r,t.memoizedState)||(Da=!0),t.memoizedState=r,t.baseState=a,t.baseQueue=s,n.lastRenderedState=r}return[t.memoizedState,n.dispatch]}function ta(e){var t=Jo(),n=t.queue;if(null===n)throw Error(T(311));n.lastRenderedReducer=e;var i=n.dispatch,r=n.pending,o=t.memoizedState;if(null!==r){n.pending=null;for(var a=r=r.next;o=e(o,a.action),(a=a.next)!==r;);Ri(o,t.memoizedState)||(Da=!0),t.memoizedState=o,null===t.baseQueue&&(t.baseState=o),n.lastRenderedState=o}return[o,i]}function na(e){var t=Go();return"function"==typeof e&&(e=e()),t.memoizedState=t.baseState=e,e=(e=t.queue={pending:null,dispatch:null,lastRenderedReducer:Zo,lastRenderedState:e}).dispatch=va.bind(null,Uo,e),[t.memoizedState,e]}function ia(e,t,n,i){return e={tag:e,create:t,destroy:n,deps:i,next:null},null===(t=Uo.updateQueue)?(t={lastEffect:null},(Uo.updateQueue=t).lastEffect=e.next=e):null===(n=t.lastEffect)?t.lastEffect=e.next=e:(i=n.next,(n.next=e).next=i,t.lastEffect=e),e}function ra(){return Jo().memoizedState}function oa(e,t,n,i){var r=Go();Uo.effectTag|=e,r.memoizedState=ia(1|t,n,void 0,void 0===i?null:i)}function aa(e,t,n,i){var r=Jo();i=void 0===i?null:i;var o=void 0;if(null!==qo){var a=qo.memoizedState,o=a.destroy;if(null!==i&&Xo(i,a.deps))return void ia(t,n,o,i)}Uo.effectTag|=e,r.memoizedState=ia(1|t,n,o,i)}function sa(e,t){return oa(516,4,e,t)}function la(e,t){return aa(516,4,e,t)}function ca(e,t){return aa(4,2,e,t)}function ua(e,t){return"function"==typeof t?(e=e(),t(e),function(){t(null)}):null!=t?(e=e(),t.current=e,function(){t.current=null}):void 0}function da(e,t,n){return n=null!=n?n.concat([e]):null,aa(4,2,ua.bind(null,t,e),n)}function fa(){}function ha(e,t){return Go().memoizedState=[e,void 0===t?null:t],e}function pa(e,t){var n=Jo();t=void 0===t?null:t;var i=n.memoizedState;return null!==i&&null!==t&&Xo(t,i[1])?i[0]:(n.memoizedState=[e,t],e)}function ma(e,t){var n=Jo();t=void 0===t?null:t;var i=n.memoizedState;return null!==i&&null!==t&&Xo(t,i[1])?i[0]:(e=e(),n.memoizedState=[e,t],e)}function ga(t,n,i){var e=Wr();Ur(e<98?98:e,function(){t(!0)}),Ur(97<e?97:e,function(){var e=Wo.suspense;Wo.suspense=void 0===n?null:n;try{t(!1),i()}finally{Wo.suspense=e}})}function va(e,t,n){var i=Js(),r={expirationTime:i=Zs(i,e,r=mo.suspense),suspenseConfig:r,action:n,eagerReducer:null,eagerState:null,next:null},o=t.pending;if(null===o?r.next=r:(r.next=o.next,o.next=r),t.pending=r,o=e.alternate,e===Uo||null!==o&&o===Uo)Yo=!0,r.expirationTime=Bo,Uo.expirationTime=Bo;else{if(0===e.expirationTime&&(null===o||0===o.expirationTime)&&null!==(o=t.lastRenderedReducer))try{var a=t.lastRenderedState,s=o(a,n);if(r.eagerReducer=o,r.eagerState=s,Ri(s,a))return}catch(e){}el(e,i)}}var ya={readContext:oo,useCallback:Vo,useContext:Vo,useEffect:Vo,useImperativeHandle:Vo,useLayoutEffect:Vo,useMemo:Vo,useReducer:Vo,useRef:Vo,useState:Vo,useDebugValue:Vo,useResponder:Vo,useDeferredValue:Vo,useTransition:Vo},ba={readContext:oo,useCallback:ha,useContext:oo,useEffect:sa,useImperativeHandle:function(e,t,n){return n=null!=n?n.concat([e]):null,oa(4,2,ua.bind(null,t,e),n)},useLayoutEffect:function(e,t){return oa(4,2,e,t)},useMemo:function(e,t){var n=Go();return t=void 0===t?null:t,e=e(),n.memoizedState=[e,t],e},useReducer:function(e,t,n){var i=Go();return t=void 0!==n?n(t):t,i.memoizedState=i.baseState=t,e=(e=i.queue={pending:null,dispatch:null,lastRenderedReducer:e,lastRenderedState:t}).dispatch=va.bind(null,Uo,e),[i.memoizedState,e]},useRef:function(e){return e={current:e},Go().memoizedState=e},useState:na,useDebugValue:fa,useResponder:zo,useDeferredValue:function(t,n){var e=na(t),i=e[0],r=e[1];return sa(function(){var e=Wo.suspense;Wo.suspense=void 0===n?null:n;try{r(t)}finally{Wo.suspense=e}},[t,n]),i},useTransition:function(e){var t=(n=na(!1))[0],n=n[1];return[ha(ga.bind(null,n,e),[n,e]),t]}},wa={readContext:oo,useCallback:pa,useContext:oo,useEffect:la,useImperativeHandle:da,useLayoutEffect:ca,useMemo:ma,useReducer:ea,useRef:ra,useState:function(){return ea(Zo)},useDebugValue:fa,useResponder:zo,useDeferredValue:function(t,n){var e=ea(Zo),i=e[0],r=e[1];return la(function(){var e=Wo.suspense;Wo.suspense=void 0===n?null:n;try{r(t)}finally{Wo.suspense=e}},[t,n]),i},useTransition:function(e){var t=(n=ea(Zo))[0],n=n[1];return[pa(ga.bind(null,n,e),[n,e]),t]}},xa={readContext:oo,useCallback:pa,useContext:oo,useEffect:la,useImperativeHandle:da,useLayoutEffect:ca,useMemo:ma,useReducer:ta,useRef:ra,useState:function(){return ta(Zo)},useDebugValue:fa,useResponder:zo,useDeferredValue:function(t,n){var e=ta(Zo),i=e[0],r=e[1];return la(function(){var e=Wo.suspense;Wo.suspense=void 0===n?null:n;try{r(t)}finally{Wo.suspense=e}},[t,n]),i},useTransition:function(e){var t=(n=ta(Zo))[0],n=n[1];return[pa(ga.bind(null,n,e),[n,e]),t]}},ka=null,Ca=null,$a=!1;function Ta(e,t){var n=Tl(5,null,null,0);n.elementType="DELETED",n.type="DELETED",n.stateNode=t,n.return=e,n.effectTag=8,null!==e.lastEffect?(e.lastEffect.nextEffect=n,e.lastEffect=n):e.firstEffect=e.lastEffect=n}function Sa(e,t){switch(e.tag){case 5:var n=e.type;return null!==(t=1!==t.nodeType||n.toLowerCase()!==t.nodeName.toLowerCase()?null:t)&&(e.stateNode=t,1);case 6:return null!==(t=""===e.pendingProps||3!==t.nodeType?null:t)&&(e.stateNode=t,1);case 13:default:return}}function _a(e){if($a){var t=Ca;if(t){var n=t;if(!Sa(e,t)){if(!(t=Cn(n.nextSibling))||!Sa(e,t))return e.effectTag=-1025&e.effectTag|2,$a=!1,void(ka=e);Ta(ka,n)}ka=e,Ca=Cn(t.firstChild)}else e.effectTag=-1025&e.effectTag|2,$a=!1,ka=e}}function Ea(e){for(e=e.return;null!==e&&5!==e.tag&&3!==e.tag&&13!==e.tag;)e=e.return;ka=e}function ja(e){if(e===ka){if(!$a)return Ea(e),$a=!0,0;var t=e.type;if(5!==e.tag||"head"!==t&&"body"!==t&&!wn(t,e.memoizedProps))for(t=Ca;t;)Ta(e,t),t=Cn(t.nextSibling);if(Ea(e),13===e.tag){if(!(e=null!==(e=e.memoizedState)?e.dehydrated:null))throw Error(T(317));e:{for(e=e.nextSibling,t=0;e;){if(8===e.nodeType){var n=e.data;if(n===pn){if(0===t){Ca=Cn(e.nextSibling);break e}t--}else n!==hn&&n!==gn&&n!==mn||t++}e=e.nextSibling}Ca=null}}else Ca=ka?Cn(e.stateNode.nextSibling):null;return 1}}function Ia(){Ca=ka=null,$a=!1}var Pa=K.ReactCurrentOwner,Da=!1;function Ma(e,t,n,i){t.child=null===e?Eo(t,null,n,i):_o(t,e.child,n,i)}function Na(e,t,n,i,r){n=n.render;var o=t.ref;return ro(t,r),i=Ko(e,t,n,i,o,r),null===e||Da?(t.effectTag|=1,Ma(e,t,i,r),t.child):(t.updateQueue=e.updateQueue,t.effectTag&=-517,e.expirationTime<=r&&(e.expirationTime=0),Ga(e,t,r))}function Oa(e,t,n,i,r,o){if(null!==e)return a=e.child,r<o&&(r=a.memoizedProps,(n=null!==(n=n.compare)?n:Hi)(r,i)&&e.ref===t.ref)?Ga(e,t,o):(t.effectTag|=1,(e=_l(a,i)).ref=t.ref,(e.return=t).child=e);var a=n.type;return"function"!=typeof a||Sl(a)||void 0!==a.defaultProps||null!==n.compare||void 0!==n.defaultProps?((e=El(n.type,null,i,null,t.mode,o)).ref=t.ref,(e.return=t).child=e):(t.tag=15,t.type=a,Aa(e,t,a,i,r,o))}function Aa(e,t,n,i,r,o){return null!==e&&Hi(e.memoizedProps,i)&&e.ref===t.ref&&(Da=!1,r<o)?(t.expirationTime=e.expirationTime,Ga(e,t,o)):Fa(e,t,n,i,o)}function La(e,t){var n=t.ref;(null===e&&null!==n||null!==e&&e.ref!==n)&&(t.effectTag|=128)}function Fa(e,t,n,i,r){var o=gr(t,o=vr(n)?mr:hr.current);return ro(t,r),n=Ko(e,t,n,i,o,r),null===e||Da?(t.effectTag|=1,Ma(e,t,n,r),t.child):(t.updateQueue=e.updateQueue,t.effectTag&=-517,e.expirationTime<=r&&(e.expirationTime=0),Ga(e,t,r))}function Ra(e,t,n,i,r){var o,a,s,l,c,u,d,f;return vr(n)?(o=!0,xr(t)):o=!1,ro(t,r),i=null===t.stateNode?(null!==e&&(e.alternate=null,t.alternate=null,t.effectTag|=2),wo(t,n,i),ko(t,n,i,r),!0):null===e?(a=t.stateNode,s=t.memoizedProps,a.props=s,l=a.context,c="object"==typeof(c=n.contextType)&&null!==c?oo(c):gr(t,c=vr(n)?mr:hr.current),(d="function"==typeof(u=n.getDerivedStateFromProps)||"function"==typeof a.getSnapshotBeforeUpdate)||"function"!=typeof a.UNSAFE_componentWillReceiveProps&&"function"!=typeof a.componentWillReceiveProps||s===i&&l===c||xo(t,a,i,c),ao=!1,f=t.memoizedState,a.state=f,ho(t,i,a,r),l=t.memoizedState,s!==i||f!==l||pr.current||ao?("function"==typeof u&&(vo(t,n,u,i),l=t.memoizedState),(s=ao||bo(t,n,s,i,f,l,c))?(d||"function"!=typeof a.UNSAFE_componentWillMount&&"function"!=typeof a.componentWillMount||("function"==typeof a.componentWillMount&&a.componentWillMount(),"function"==typeof a.UNSAFE_componentWillMount&&a.UNSAFE_componentWillMount()),"function"==typeof a.componentDidMount&&(t.effectTag|=4)):("function"==typeof a.componentDidMount&&(t.effectTag|=4),t.memoizedProps=i,t.memoizedState=l),a.props=i,a.state=l,a.context=c,s):("function"==typeof a.componentDidMount&&(t.effectTag|=4),!1)):(a=t.stateNode,lo(e,t),s=t.memoizedProps,a.props=t.type===t.elementType?s:Kr(t.type,s),l=a.context,c="object"==typeof(c=n.contextType)&&null!==c?oo(c):gr(t,c=vr(n)?mr:hr.current),(d="function"==typeof(u=n.getDerivedStateFromProps)||"function"==typeof a.getSnapshotBeforeUpdate)||"function"!=typeof a.UNSAFE_componentWillReceiveProps&&"function"!=typeof a.componentWillReceiveProps||s===i&&l===c||xo(t,a,i,c),ao=!1,l=t.memoizedState,a.state=l,ho(t,i,a,r),f=t.memoizedState,s!==i||l!==f||pr.current||ao?("function"==typeof u&&(vo(t,n,u,i),f=t.memoizedState),(u=ao||bo(t,n,s,i,l,f,c))?(d||"function"!=typeof a.UNSAFE_componentWillUpdate&&"function"!=typeof a.componentWillUpdate||("function"==typeof a.componentWillUpdate&&a.componentWillUpdate(i,f,c),"function"==typeof a.UNSAFE_componentWillUpdate&&a.UNSAFE_componentWillUpdate(i,f,c)),"function"==typeof a.componentDidUpdate&&(t.effectTag|=4),"function"==typeof a.getSnapshotBeforeUpdate&&(t.effectTag|=256)):("function"!=typeof a.componentDidUpdate||s===e.memoizedProps&&l===e.memoizedState||(t.effectTag|=4),"function"!=typeof a.getSnapshotBeforeUpdate||s===e.memoizedProps&&l===e.memoizedState||(t.effectTag|=256),t.memoizedProps=i,t.memoizedState=f),a.props=i,a.state=f,a.context=c,u):("function"!=typeof a.componentDidUpdate||s===e.memoizedProps&&l===e.memoizedState||(t.effectTag|=4),"function"!=typeof a.getSnapshotBeforeUpdate||s===e.memoizedProps&&l===e.memoizedState||(t.effectTag|=256),!1)),za(e,t,n,i,o,r)}function za(e,t,n,i,r,o){La(e,t);var a=0!=(64&t.effectTag);if(!i&&!a)return r&&kr(t,n,!1),Ga(e,t,o);i=t.stateNode,Pa.current=t;var s=a&&"function"!=typeof n.getDerivedStateFromError?null:i.render();return t.effectTag|=1,null!==e&&a?(t.child=_o(t,e.child,null,o),t.child=_o(t,null,s,o)):Ma(e,t,s,o),t.memoizedState=i.state,r&&kr(t,n,!0),t.child}function Ha(e){var t=e.stateNode;t.pendingContext?br(0,t.pendingContext,t.pendingContext!==t.context):t.context&&br(0,t.context,!1),No(e,t.containerInfo)}var Wa,Ba,Ua,qa,Qa={dehydrated:null,retryTime:0};function Ya(e,t,n){var i,r=t.mode,o=t.pendingProps,a=Fo.current,s=!1;if((i=0!=(64&t.effectTag))||(i=0!=(2&a)&&(null===e||null!==e.memoizedState)),i?(s=!0,t.effectTag&=-65):null!==e&&null===e.memoizedState||void 0===o.fallback||!0===o.unstable_avoidThisFallback||(a|=1),dr(Fo,1&a),null===e){if(void 0!==o.fallback&&_a(t),s){if(s=o.fallback,0==(2&((o=jl(null,r,0,null)).return=t).mode))for(e=null!==t.memoizedState?t.child.child:t.child,o.child=e;null!==e;)e.return=o,e=e.sibling;return(n=jl(s,r,n,null)).return=t,o.sibling=n,t.memoizedState=Qa,t.child=o,n}return r=o.children,t.memoizedState=null,t.child=Eo(t,null,r,n)}if(null!==e.memoizedState){if(r=(e=e.child).sibling,s){if(o=o.fallback,0==(2&((n=_l(e,e.pendingProps)).return=t).mode)&&(s=null!==t.memoizedState?t.child.child:t.child)!==e.child)for(n.child=s;null!==s;)s.return=n,s=s.sibling;return(r=_l(r,o)).return=t,n.sibling=r,n.childExpirationTime=0,t.memoizedState=Qa,t.child=n,r}return n=_o(t,e.child,o.children,n),t.memoizedState=null,t.child=n}if(e=e.child,s){if(s=o.fallback,(o=jl(null,r,0,null)).return=t,null!==(o.child=e)&&(e.return=o),0==(2&t.mode))for(e=null!==t.memoizedState?t.child.child:t.child,o.child=e;null!==e;)e.return=o,e=e.sibling;return(n=jl(s,r,n,null)).return=t,(o.sibling=n).effectTag|=2,o.childExpirationTime=0,t.memoizedState=Qa,t.child=o,n}return t.memoizedState=null,t.child=_o(t,e,o.children,n)}function Va(e,t){e.expirationTime<t&&(e.expirationTime=t);var n=e.alternate;null!==n&&n.expirationTime<t&&(n.expirationTime=t),io(e.return,t)}function Xa(e,t,n,i,r,o){var a=e.memoizedState;null===a?e.memoizedState={isBackwards:t,rendering:null,renderingStartTime:0,last:i,tail:n,tailExpiration:0,tailMode:r,lastEffect:o}:(a.isBackwards=t,a.rendering=null,a.renderingStartTime=0,a.last=i,a.tail=n,a.tailExpiration=0,a.tailMode=r,a.lastEffect=o)}function Ka(e,t,n){var i=t.pendingProps,r=i.revealOrder,o=i.tail;if(Ma(e,t,i.children,n),0!=(2&(i=Fo.current)))i=1&i|2,t.effectTag|=64;else{if(null!==e&&0!=(64&e.effectTag))e:for(e=t.child;null!==e;){if(13===e.tag)null!==e.memoizedState&&Va(e,n);else if(19===e.tag)Va(e,n);else if(null!==e.child){e=(e.child.return=e).child;continue}if(e===t)break e;for(;null===e.sibling;){if(null===e.return||e.return===t)break e;e=e.return}e.sibling.return=e.return,e=e.sibling}i&=1}if(dr(Fo,i),0==(2&t.mode))t.memoizedState=null;else switch(r){case"forwards":for(n=t.child,r=null;null!==n;)null!==(e=n.alternate)&&null===Ro(e)&&(r=n),n=n.sibling;null===(n=r)?(r=t.child,t.child=null):(r=n.sibling,n.sibling=null),Xa(t,!1,r,n,o,t.lastEffect);break;case"backwards":for(n=null,r=t.child,t.child=null;null!==r;){if(null!==(e=r.alternate)&&null===Ro(e)){t.child=r;break}e=r.sibling,r.sibling=n,n=r,r=e}Xa(t,!0,n,null,o,t.lastEffect);break;case"together":Xa(t,!1,null,null,void 0,t.lastEffect);break;default:t.memoizedState=null}return t.child}function Ga(e,t,n){null!==e&&(t.dependencies=e.dependencies);var i=t.expirationTime;if(0!==i&&fl(i),t.childExpirationTime<n)return null;if(null!==e&&t.child!==e.child)throw Error(T(153));if(null!==t.child){for(n=_l(e=t.child,e.pendingProps),(t.child=n).return=t;null!==e.sibling;)e=e.sibling,(n=n.sibling=_l(e,e.pendingProps)).return=t;n.sibling=null}return t.child}function Ja(e,t){switch(e.tailMode){case"hidden":t=e.tail;for(var n=null;null!==t;)null!==t.alternate&&(n=t),t=t.sibling;null===n?e.tail=null:n.sibling=null;break;case"collapsed":n=e.tail;for(var i=null;null!==n;)null!==n.alternate&&(i=n),n=n.sibling;null===i?t||null===e.tail?e.tail=null:e.tail.sibling=null:i.sibling=null}}function Za(e,t){return{value:e,source:t,stack:ve(t)}}Wa=function(e,t){for(var n=t.child;null!==n;){if(5===n.tag||6===n.tag)e.appendChild(n.stateNode);else if(4!==n.tag&&null!==n.child){n=(n.child.return=n).child;continue}if(n===t)break;for(;null===n.sibling;){if(null===n.return||n.return===t)return;n=n.return}n.sibling.return=n.return,n=n.sibling}},Ba=function(){},Ua=function(e,t,n,i,r){var o=e.memoizedProps;if(o!==i){var a,s,l=t.stateNode;switch(Mo(Io.current),e=null,n){case"input":o=ke(l,o),i=ke(l,i),e=[];break;case"option":o=Ee(l,o),i=Ee(l,i),e=[];break;case"select":o=v({},o,{value:void 0}),i=v({},i,{value:void 0}),e=[];break;case"textarea":o=Ie(l,o),i=Ie(l,i),e=[];break;default:"function"!=typeof o.onClick&&"function"==typeof i.onClick&&(l.onclick=sn)}for(a in nn(n,i),n=null,o)if(!i.hasOwnProperty(a)&&o.hasOwnProperty(a)&&null!=o[a])if("style"===a)for(s in l=o[a])l.hasOwnProperty(s)&&((n=n||{})[s]="");else"dangerouslySetInnerHTML"!==a&&"children"!==a&&"suppressContentEditableWarning"!==a&&"suppressHydrationWarning"!==a&&"autoFocus"!==a&&(k.hasOwnProperty(a)?e=e||[]:(e=e||[]).push(a,null));for(a in i){var c=i[a],l=null!=o?o[a]:void 0;if(i.hasOwnProperty(a)&&c!==l&&(null!=c||null!=l))if("style"===a)if(l){for(s in l)!l.hasOwnProperty(s)||c&&c.hasOwnProperty(s)||((n=n||{})[s]="");for(s in c)c.hasOwnProperty(s)&&l[s]!==c[s]&&((n=n||{})[s]=c[s])}else n||(e=e||[]).push(a,n),n=c;else"dangerouslySetInnerHTML"===a?(c=c?c.__html:void 0,l=l?l.__html:void 0,null!=c&&l!==c&&(e=e||[]).push(a,c)):"children"===a?l===c||"string"!=typeof c&&"number"!=typeof c||(e=e||[]).push(a,""+c):"suppressContentEditableWarning"!==a&&"suppressHydrationWarning"!==a&&(k.hasOwnProperty(a)?(null!=c&&an(r,a),e||l===c||(e=[])):(e=e||[]).push(a,c))}n&&(e=e||[]).push("style",n),r=e,(t.updateQueue=r)&&(t.effectTag|=4)}},qa=function(e,t,n,i){n!==i&&(t.effectTag|=4)};var es="function"==typeof WeakSet?WeakSet:Set;function ts(e,t){var n=t.source;null===t.stack&&null!==n&&ve(n),null!==n&&ge(n.type),t=t.value,null!==e&&1===e.tag&&ge(e.type);try{console.error(t)}catch(e){setTimeout(function(){throw e})}}function ns(t){var e=t.ref;if(null!==e)if("function"==typeof e)try{e(null)}catch(e){wl(t,e)}else e.current=null}function is(e,t){if(null!==(t=null!==(t=t.updateQueue)?t.lastEffect:null)){var n,i=t=t.next;do{(i.tag&e)===e&&(n=i.destroy,(i.destroy=void 0)!==n&&n()),i=i.next}while(i!==t)}}function rs(e,t){if(null!==(t=null!==(t=t.updateQueue)?t.lastEffect:null)){var n,i=t=t.next;do{(i.tag&e)===e&&(n=i.create,i.destroy=n()),i=i.next}while(i!==t)}}function os(e,i,t){switch("function"==typeof Cl&&Cl(i),i.tag){case 0:case 11:case 14:case 15:case 22:var r;null!==(e=i.updateQueue)&&null!==(e=e.lastEffect)&&(r=e.next,Ur(97<t?97:t,function(){var e=r;do{var t=e.destroy;if(void 0!==t){var n=i;try{t()}catch(e){wl(n,e)}}e=e.next}while(e!==r)}));break;case 1:ns(i),"function"==typeof(t=i.stateNode).componentWillUnmount&&function(t,e){try{e.props=t.memoizedProps,e.state=t.memoizedState,e.componentWillUnmount()}catch(e){wl(t,e)}}(i,t);break;case 5:ns(i);break;case 4:ls(e,i,t)}}function as(e){return 5===e.tag||3===e.tag||4===e.tag}function ss(e){e:{for(var t=e.return;null!==t;){if(as(t)){var n=t;break e}t=t.return}throw Error(T(160))}switch(t=n.stateNode,n.tag){case 5:var i=!1;break;case 3:case 4:t=t.containerInfo,i=!0;break;default:throw Error(T(161))}16&n.effectTag&&(He(t,""),n.effectTag&=-17);e:t:for(n=e;;){for(;null===n.sibling;){if(null===n.return||as(n.return)){n=null;break e}n=n.return}for(n.sibling.return=n.return,n=n.sibling;5!==n.tag&&6!==n.tag&&18!==n.tag;){if(2&n.effectTag)continue t;if(null===n.child||4===n.tag)continue t;n=(n.child.return=n).child}if(!(2&n.effectTag)){n=n.stateNode;break e}}(i?function e(t,n,i){var r=t.tag,o=5===r||6===r;if(o)t=o?t.stateNode:t.stateNode.instance,n?8===i.nodeType?i.parentNode.insertBefore(t,n):i.insertBefore(t,n):(8===i.nodeType?(n=i.parentNode,n.insertBefore(t,i)):(n=i,n.appendChild(t)),i=i._reactRootContainer,null!=i||null!==n.onclick||(n.onclick=sn));else if(4!==r&&(t=t.child,null!==t))for(e(t,n,i),t=t.sibling;null!==t;)e(t,n,i),t=t.sibling}:function e(t,n,i){var r=t.tag,o=5===r||6===r;if(o)t=o?t.stateNode:t.stateNode.instance,n?i.insertBefore(t,n):i.appendChild(t);else if(4!==r&&(t=t.child,null!==t))for(e(t,n,i),t=t.sibling;null!==t;)e(t,n,i),t=t.sibling})(e,n,t)}function ls(e,t,n){for(var i,r,o=t,a=!1;;){if(!a){a=o.return;e:for(;;){if(null===a)throw Error(T(160));switch(i=a.stateNode,a.tag){case 5:r=!1;break e;case 3:case 4:i=i.containerInfo,r=!0;break e}a=a.return}a=!0}if(5===o.tag||6===o.tag){e:for(var s=e,l=o,c=n,u=l;;)if(os(s,u,c),null!==u.child&&4!==u.tag)u.child.return=u,u=u.child;else{if(u===l)break e;for(;null===u.sibling;){if(null===u.return||u.return===l)break e;u=u.return}u.sibling.return=u.return,u=u.sibling}r?(s=i,l=o.stateNode,8===s.nodeType?s.parentNode.removeChild(l):s.removeChild(l)):i.removeChild(o.stateNode)}else if(4===o.tag){if(null!==o.child){i=o.stateNode.containerInfo,r=!0,o=(o.child.return=o).child;continue}}else if(os(e,o,n),null!==o.child){o=(o.child.return=o).child;continue}if(o===t)break;for(;null===o.sibling;){if(null===o.return||o.return===t)return;4===(o=o.return).tag&&(a=!1)}o.sibling.return=o.return,o=o.sibling}}function cs(e,t){switch(t.tag){case 0:case 11:case 14:case 15:case 22:return void is(3,t);case 1:return;case 5:var n=t.stateNode;if(null!=n){var i=t.memoizedProps,r=null!==e?e.memoizedProps:i;e=t.type;var o=t.updateQueue;if((t.updateQueue=null)!==o){for(n[_n]=i,"input"===e&&"radio"===i.type&&null!=i.name&&$e(n,i),rn(e,r),t=rn(e,i),r=0;r<o.length;r+=2){var a=o[r],s=o[r+1];"style"===a?en(n,s):"dangerouslySetInnerHTML"===a?ze(n,s):"children"===a?He(n,s):G(n,a,s,t)}switch(e){case"input":Te(n,i);break;case"textarea":De(n,i);break;case"select":t=n._wrapperState.wasMultiple,n._wrapperState.wasMultiple=!!i.multiple,null!=(e=i.value)?je(n,!!i.multiple,e,!1):t!==!!i.multiple&&(null!=i.defaultValue?je(n,!!i.multiple,i.defaultValue,!0):je(n,!!i.multiple,i.multiple?[]:"",!1))}}}return;case 6:if(null===t.stateNode)throw Error(T(162));return void(t.stateNode.nodeValue=t.memoizedProps);case 3:return void((t=t.stateNode).hydrate&&(t.hydrate=!1,At(t.containerInfo)));case 12:return;case 13:if(null===(n=t).memoizedState?i=!1:(i=!0,n=t.child,Rs=Hr()),null!==n)e:for(e=n;;){if(5===e.tag)o=e.stateNode,i?"function"==typeof(o=o.style).setProperty?o.setProperty("display","none","important"):o.display="none":(o=e.stateNode,r=null!=(r=e.memoizedProps.style)&&r.hasOwnProperty("display")?r.display:null,o.style.display=Zt("display",r));else if(6===e.tag)e.stateNode.nodeValue=i?"":e.memoizedProps;else{if(13===e.tag&&null!==e.memoizedState&&null===e.memoizedState.dehydrated){(o=e.child.sibling).return=e,e=o;continue}if(null!==e.child){e=(e.child.return=e).child;continue}}if(e===n)break;for(;null===e.sibling;){if(null===e.return||e.return===n)break e;e=e.return}e.sibling.return=e.return,e=e.sibling}return void us(t);case 19:return void us(t);case 17:return}throw Error(T(163))}function us(n){var i,e=n.updateQueue;null!==e&&((n.updateQueue=null)===(i=n.stateNode)&&(i=n.stateNode=new es),e.forEach(function(e){var t=function(e,t){var n=e.stateNode;null!==n&&n.delete(t),(t=0)===t&&(t=Zs(t=Js(),e,null)),null!==(e=tl(e,t))&&il(e)}.bind(null,n,e);i.has(e)||(i.add(e),e.then(t,t))}))}var ds="function"==typeof WeakMap?WeakMap:Map;function fs(e,t,n){(n=co(n,null)).tag=3,n.payload={element:null};var i=t.value;return n.callback=function(){Ws||(Ws=!0,Bs=i),ts(e,t)},n}function hs(t,n,e){(e=co(e,null)).tag=3;var i,r=t.type.getDerivedStateFromError;"function"==typeof r&&(i=n.value,e.payload=function(){return ts(t,n),r(i)});var o=t.stateNode;return null!==o&&"function"==typeof o.componentDidCatch&&(e.callback=function(){"function"!=typeof r&&(null===Us?Us=new Set([this]):Us.add(this),ts(t,n));var e=n.stack;this.componentDidCatch(n.value,{componentStack:null!==e?e:""})}),e}var ps,ms=Math.ceil,gs=K.ReactCurrentDispatcher,vs=K.ReactCurrentOwner,ys=0,bs=8,ws=16,xs=32,ks=0,Cs=1,$s=2,Ts=3,Ss=4,_s=5,Es=ys,js=null,Is=null,Ps=0,Ds=ks,Ms=null,Ns=1073741823,Os=1073741823,As=null,Ls=0,Fs=!1,Rs=0,zs=500,Hs=null,Ws=!1,Bs=null,Us=null,qs=!1,Qs=null,Ys=90,Vs=null,Xs=0,Ks=null,Gs=0;function Js(){return(Es&(ws|xs))!==ys?1073741821-(Hr()/10|0):0!==Gs?Gs:Gs=1073741821-(Hr()/10|0)}function Zs(e,t,n){if(0==(2&(t=t.mode)))return 1073741823;var i=Wr();if(0==(4&t))return 99===i?1073741823:1073741822;if((Es&ws)!==ys)return Ps;if(null!==n)e=Xr(e,0|n.timeoutMs||5e3,250);else switch(i){case 99:e=1073741823;break;case 98:e=Xr(e,150,100);break;case 97:case 96:e=Xr(e,5e3,250);break;case 95:e=2;break;default:throw Error(T(326))}return null!==js&&e===Ps&&--e,e}function el(e,t){if(50<Xs)throw Xs=0,Ks=null,Error(T(185));var n;null!==(e=tl(e,t))&&(n=Wr(),1073741823===t?(Es&bs)!==ys&&(Es&(ws|xs))===ys?ol(e):(il(e),Es===ys&&Yr()):il(e),(4&Es)===ys||98!==n&&99!==n||(null===Vs?Vs=new Map([[e,t]]):(void 0===(n=Vs.get(e))||t<n)&&Vs.set(e,t)))}function tl(e,t){e.expirationTime<t&&(e.expirationTime=t);var n=e.alternate;null!==n&&n.expirationTime<t&&(n.expirationTime=t);var i=e.return,r=null;if(null===i&&3===e.tag)r=e.stateNode;else for(;null!==i;){if(n=i.alternate,i.childExpirationTime<t&&(i.childExpirationTime=t),null!==n&&n.childExpirationTime<t&&(n.childExpirationTime=t),null===i.return&&3===i.tag){r=i.stateNode;break}i=i.return}return null!==r&&(js===r&&(fl(t),Ds===Ss&&Nl(r,Ps)),Ol(r,t)),r}function nl(e){var t=e.lastExpiredTime;if(0!==t)return t;if(!Ml(e,t=e.firstPendingTime))return t;var n=e.lastPingedTime;return(e=(e=e.nextKnownPendingLevel)<n?n:e)<=2&&t!==e?0:e}function il(e){if(0!==e.lastExpiredTime)e.callbackExpirationTime=1073741823,e.callbackPriority=99,e.callbackNode=Qr(ol.bind(null,e));else{var t=nl(e),n=e.callbackNode;if(0===t)null!==n&&(e.callbackNode=null,e.callbackExpirationTime=0,e.callbackPriority=90);else{var i=Js(),i=1073741823===t?99:1===t||2===t?95:(i=10*(1073741821-t)-10*(1073741821-i))<=0?99:i<=250?98:i<=5250?97:95;if(null!==n){var r=e.callbackPriority;if(e.callbackExpirationTime===t&&i<=r)return;n!==Nr&&Tr(n)}e.callbackExpirationTime=t,e.callbackPriority=i,t=1073741823===t?Qr(ol.bind(null,e)):qr(i,rl.bind(null,e),{timeout:10*(1073741821-t)-Hr()}),e.callbackNode=t}}}function rl(t,e){if(Gs=0,e)return Al(t,e=Js()),il(t),null;var n=nl(t);if(0!==n){if(e=t.callbackNode,(Es&(ws|xs))!==ys)throw Error(T(327));if(vl(),t===js&&n===Ps||ll(t,n),null!==Is){var i=Es;Es|=ws;for(var r=ul();;)try{!function(){for(;null!==Is&&!Or();)Is=hl(Is)}();break}catch(e){cl(t,e)}if(to(),Es=i,gs.current=r,Ds===Cs)throw e=Ms,ll(t,n),Nl(t,n),il(t),e;if(null===Is)switch(r=t.finishedWork=t.current.alternate,t.finishedExpirationTime=n,i=Ds,js=null,i){case ks:case Cs:throw Error(T(345));case $s:Al(t,2<n?2:n);break;case Ts:if(Nl(t,n),n===(i=t.lastSuspendedTime)&&(t.nextKnownPendingLevel=ml(r)),1073741823===Ns&&10<(r=Rs+zs-Hr())){if(Fs){var o=t.lastPingedTime;if(0===o||n<=o){t.lastPingedTime=n,ll(t,n);break}}if(0!==(o=nl(t))&&o!==n)break;if(0!==i&&i!==n){t.lastPingedTime=i;break}t.timeoutHandle=xn(gl.bind(null,t),r);break}gl(t);break;case Ss:if(Nl(t,n),n===(i=t.lastSuspendedTime)&&(t.nextKnownPendingLevel=ml(r)),Fs&&(0===(r=t.lastPingedTime)||n<=r)){t.lastPingedTime=n,ll(t,n);break}if(0!==(r=nl(t))&&r!==n)break;if(0!==i&&i!==n){t.lastPingedTime=i;break}if(1073741823!==Os?i=10*(1073741821-Os)-Hr():1073741823===Ns?i=0:(i=10*(1073741821-Ns)-5e3,(i=(r=Hr())-i)<0&&(i=0),(n=10*(1073741821-n)-r)<(i=(i<120?120:i<480?480:i<1080?1080:i<1920?1920:i<3e3?3e3:i<4320?4320:1960*ms(i/1960))-i)&&(i=n)),10<i){t.timeoutHandle=xn(gl.bind(null,t),i);break}gl(t);break;case _s:if(1073741823!==Ns&&null!==As){o=Ns;var a=As;if(10<(i=(i=0|a.busyMinDurationMs)<=0?0:(r=0|a.busyDelayMs,(o=Hr()-(10*(1073741821-o)-(0|a.timeoutMs||5e3)))<=r?0:r+i-o))){Nl(t,n),t.timeoutHandle=xn(gl.bind(null,t),i);break}}gl(t);break;default:throw Error(T(329))}if(il(t),t.callbackNode===e)return rl.bind(null,t)}}return null}function ol(t){var e=0!==(e=t.lastExpiredTime)?e:1073741823;if((Es&(ws|xs))!==ys)throw Error(T(327));if(vl(),t===js&&e===Ps||ll(t,e),null!==Is){var n=Es;Es|=ws;for(var i=ul();;)try{!function(){for(;null!==Is;)Is=hl(Is)}();break}catch(e){cl(t,e)}if(to(),Es=n,gs.current=i,Ds===Cs)throw n=Ms,ll(t,e),Nl(t,e),il(t),n;if(null!==Is)throw Error(T(261));t.finishedWork=t.current.alternate,t.finishedExpirationTime=e,js=null,gl(t),il(t)}return null}function al(e,t){var n=Es;Es|=1;try{return e(t)}finally{(Es=n)===ys&&Yr()}}function sl(e,t){var n=Es;Es&=-2,Es|=bs;try{return e(t)}finally{(Es=n)===ys&&Yr()}}function ll(e,t){e.finishedWork=null,e.finishedExpirationTime=0;var n=e.timeoutHandle;if(-1!==n&&(e.timeoutHandle=-1,kn(n)),null!==Is)for(n=Is.return;null!==n;){var i=n;switch(i.tag){case 1:null!=(i=i.type.childContextTypes)&&yr();break;case 3:Oo(),ur(pr),ur(hr);break;case 5:Lo(i);break;case 4:Oo();break;case 13:case 19:ur(Fo);break;case 10:no(i)}n=n.return}Is=_l((js=e).current,null),Ps=t,Ds=ks,Os=Ns=1073741823,As=Ms=null,Ls=0,Fs=!1}function cl(e,t){for(;;){try{if(to(),Ho.current=ya,Yo)for(var n=Uo.memoizedState;null!==n;){var i=n.queue;null!==i&&(i.pending=null),n=n.next}if(Bo=0,Qo=qo=Uo=null,Yo=!1,null===Is||null===Is.return)return Ds=Cs,Ms=t,Is=null;e:{var r=e,o=Is.return,a=Is,s=t;if(t=Ps,a.effectTag|=2048,(a.firstEffect=a.lastEffect=null)!==s&&"object"==typeof s&&"function"==typeof s.then){var l,c=s;0==(2&a.mode)&&((l=a.alternate)?(a.updateQueue=l.updateQueue,a.memoizedState=l.memoizedState,a.expirationTime=l.expirationTime):(a.updateQueue=null,a.memoizedState=null));var u,d,f,h=0!=(1&Fo.current),p=o;do{if((f=13===p.tag)&&(f=null!==(u=p.memoizedState)?null!==u.dehydrated:void 0!==(d=p.memoizedProps).fallback&&(!0!==d.unstable_avoidThisFallback||!h)),f){var m,g,v=p.updateQueue;if(null===v?((m=new Set).add(c),p.updateQueue=m):v.add(c),0==(2&p.mode)){p.effectTag|=64,a.effectTag&=-2981,1===a.tag&&(null===a.alternate?a.tag=17:((g=co(1073741823,null)).tag=2,uo(a,g))),a.expirationTime=1073741823;break e}s=void 0,a=t;var y,b=r.pingCache;null===b?(b=r.pingCache=new ds,s=new Set,b.set(c,s)):void 0===(s=b.get(c))&&(s=new Set,b.set(c,s)),s.has(a)||(s.add(a),y=xl.bind(null,r,c,a),c.then(y,y)),p.effectTag|=4096,p.expirationTime=t;break e}p=p.return}while(null!==p);s=Error((ge(a.type)||"A React component")+" suspended while rendering, but no fallback UI was specified.\n\nAdd a <Suspense fallback=...> component higher in the tree to provide a loading indicator or placeholder to display."+ve(a))}Ds!==_s&&(Ds=$s),s=Za(s,a),p=o;do{switch(p.tag){case 3:c=s;p.effectTag|=4096,p.expirationTime=t,fo(p,fs(p,c,t));break e;case 1:c=s;var w=p.type,x=p.stateNode;if(0==(64&p.effectTag)&&("function"==typeof w.getDerivedStateFromError||null!==x&&"function"==typeof x.componentDidCatch&&(null===Us||!Us.has(x)))){p.effectTag|=4096,p.expirationTime=t,fo(p,hs(p,c,t));break e}}p=p.return}while(null!==p)}Is=pl(Is)}catch(e){t=e;continue}break}}function ul(){var e=gs.current;return gs.current=ya,null===e?ya:e}function dl(e,t){e<Ns&&2<e&&(Ns=e),null!==t&&e<Os&&2<e&&(Os=e,As=t)}function fl(e){Ls<e&&(Ls=e)}function hl(e){var t=ps(e.alternate,e,Ps);return e.memoizedProps=e.pendingProps,null===t&&(t=pl(e)),vs.current=null,t}function pl(e){Is=e;do{var t=Is.alternate;if(e=Is.return,0==(2048&Is.effectTag)){if(t=function(e,t,n){var i=t.pendingProps;switch(t.tag){case 2:case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return null;case 1:return vr(t.type)&&yr(),null;case 3:return Oo(),ur(pr),ur(hr),(n=t.stateNode).pendingContext&&(n.context=n.pendingContext,n.pendingContext=null),null!==e&&null!==e.child||!ja(t)||(t.effectTag|=4),Ba(t),null;case 5:Lo(t),n=Mo(Do.current);var r=t.type;if(null!==e&&null!=t.stateNode)Ua(e,t,r,i,n),e.ref!==t.ref&&(t.effectTag|=128);else{if(!i){if(null===t.stateNode)throw Error(T(166));return null}if(e=Mo(Io.current),ja(t)){i=t.stateNode,r=t.type;var o,a,s=t.memoizedProps;switch(i[Sn]=t,i[_n]=s,r){case"iframe":case"object":case"embed":Yt("load",i);break;case"video":case"audio":for(e=0;e<Ge.length;e++)Yt(Ge[e],i);break;case"source":Yt("error",i);break;case"img":case"image":case"link":Yt("error",i),Yt("load",i);break;case"form":Yt("reset",i),Yt("submit",i);break;case"details":Yt("toggle",i);break;case"input":Ce(i,s),Yt("invalid",i),an(n,"onChange");break;case"select":i._wrapperState={wasMultiple:!!s.multiple},Yt("invalid",i),an(n,"onChange");break;case"textarea":Pe(i,s),Yt("invalid",i),an(n,"onChange")}for(o in nn(r,s),e=null,s){s.hasOwnProperty(o)&&(a=s[o],"children"===o?"string"==typeof a?i.textContent!==a&&(e=["children",a]):"number"==typeof a&&i.textContent!==""+a&&(e=["children",""+a]):k.hasOwnProperty(o)&&null!=a&&an(n,o))}switch(r){case"input":we(i),Se(i,s,!0);break;case"textarea":we(i),Me(i);break;case"select":case"option":break;default:"function"==typeof s.onClick&&(i.onclick=sn)}n=e,null!==(t.updateQueue=n)&&(t.effectTag|=4)}else{switch(o=9===n.nodeType?n:n.ownerDocument,e===on&&(e=Ae(r)),e===on?"script"===r?((e=o.createElement("div")).innerHTML="<script><\/script>",e=e.removeChild(e.firstChild)):"string"==typeof i.is?e=o.createElement(r,{is:i.is}):(e=o.createElement(r),"select"===r&&(o=e,i.multiple?o.multiple=!0:i.size&&(o.size=i.size))):e=o.createElementNS(e,r),e[Sn]=t,e[_n]=i,Wa(e,t,!1,!1),t.stateNode=e,o=rn(r,i),r){case"iframe":case"object":case"embed":Yt("load",e),a=i;break;case"video":case"audio":for(a=0;a<Ge.length;a++)Yt(Ge[a],e);a=i;break;case"source":Yt("error",e),a=i;break;case"img":case"image":case"link":Yt("error",e),Yt("load",e),a=i;break;case"form":Yt("reset",e),Yt("submit",e),a=i;break;case"details":Yt("toggle",e),a=i;break;case"input":Ce(e,i),a=ke(e,i),Yt("invalid",e),an(n,"onChange");break;case"option":a=Ee(e,i);break;case"select":e._wrapperState={wasMultiple:!!i.multiple},a=v({},i,{value:void 0}),Yt("invalid",e),an(n,"onChange");break;case"textarea":Pe(e,i),a=Ie(e,i),Yt("invalid",e),an(n,"onChange");break;default:a=i}nn(r,a);var l,c=a;for(s in c){c.hasOwnProperty(s)&&(l=c[s],"style"===s?en(e,l):"dangerouslySetInnerHTML"===s?null!=(l=l?l.__html:void 0)&&ze(e,l):"children"===s?"string"==typeof l?"textarea"===r&&""===l||He(e,l):"number"==typeof l&&He(e,""+l):"suppressContentEditableWarning"!==s&&"suppressHydrationWarning"!==s&&"autoFocus"!==s&&(k.hasOwnProperty(s)?null!=l&&an(n,s):null!=l&&G(e,s,l,o)))}switch(r){case"input":we(e),Se(e,i,!1);break;case"textarea":we(e),Me(e);break;case"option":null!=i.value&&e.setAttribute("value",""+ye(i.value));break;case"select":e.multiple=!!i.multiple,null!=(n=i.value)?je(e,!!i.multiple,n,!1):null!=i.defaultValue&&je(e,!!i.multiple,i.defaultValue,!0);break;default:"function"==typeof a.onClick&&(e.onclick=sn)}bn(r,i)&&(t.effectTag|=4)}null!==t.ref&&(t.effectTag|=128)}return null;case 6:if(e&&null!=t.stateNode)qa(e,t,e.memoizedProps,i);else{if("string"!=typeof i&&null===t.stateNode)throw Error(T(166));n=Mo(Do.current),Mo(Io.current),ja(t)?(n=t.stateNode,i=t.memoizedProps,n[Sn]=t,n.nodeValue!==i&&(t.effectTag|=4)):((n=(9===n.nodeType?n:n.ownerDocument).createTextNode(i))[Sn]=t).stateNode=n}return null;case 13:return(ur(Fo),i=t.memoizedState,0!=(64&t.effectTag))?(t.expirationTime=n,t):(n=null!==i,i=!1,null===e?void 0!==t.memoizedProps.fallback&&ja(t):(i=null!==(r=e.memoizedState),n||null===r||null!==(r=e.child.sibling)&&(null!==(s=t.firstEffect)?(t.firstEffect=r).nextEffect=s:(t.firstEffect=t.lastEffect=r).nextEffect=null,r.effectTag=8)),n&&!i&&0!=(2&t.mode)&&(null===e&&!0!==t.memoizedProps.unstable_avoidThisFallback||0!=(1&Fo.current)?Ds===ks&&(Ds=Ts):(Ds!==ks&&Ds!==Ts||(Ds=Ss),0!==Ls&&null!==js&&(Nl(js,Ps),Ol(js,Ls)))),(n||i)&&(t.effectTag|=4),null);case 4:return Oo(),Ba(t),null;case 10:return no(t),null;case 17:return vr(t.type)&&yr(),null;case 19:if(ur(Fo),null===(i=t.memoizedState))return null;if(r=0!=(64&t.effectTag),null===(s=i.rendering)){if(r)Ja(i,!1);else if(Ds!==ks||null!==e&&0!=(64&e.effectTag))for(s=t.child;null!==s;){if(null!==(e=Ro(s))){for(t.effectTag|=64,Ja(i,!1),null!==(r=e.updateQueue)&&(t.updateQueue=r,t.effectTag|=4),null===i.lastEffect&&(t.firstEffect=null),t.lastEffect=i.lastEffect,i=t.child;null!==i;)s=n,(r=i).effectTag&=2,r.nextEffect=null,r.firstEffect=null,(r.lastEffect=null)===(e=r.alternate)?(r.childExpirationTime=0,r.expirationTime=s,r.child=null,r.memoizedProps=null,r.memoizedState=null,r.updateQueue=null,r.dependencies=null):(r.childExpirationTime=e.childExpirationTime,r.expirationTime=e.expirationTime,r.child=e.child,r.memoizedProps=e.memoizedProps,r.memoizedState=e.memoizedState,r.updateQueue=e.updateQueue,s=e.dependencies,r.dependencies=null===s?null:{expirationTime:s.expirationTime,firstContext:s.firstContext,responders:s.responders}),i=i.sibling;return dr(Fo,1&Fo.current|2),t.child}s=s.sibling}}else{if(!r)if(null!==(e=Ro(s))){if(t.effectTag|=64,r=!0,null!==(n=e.updateQueue)&&(t.updateQueue=n,t.effectTag|=4),Ja(i,!0),null===i.tail&&"hidden"===i.tailMode&&!s.alternate)return null!==(t=t.lastEffect=i.lastEffect)&&(t.nextEffect=null),null}else 2*Hr()-i.renderingStartTime>i.tailExpiration&&1<n&&(t.effectTag|=64,Ja(i,!(r=!0)),t.expirationTime=t.childExpirationTime=n-1);i.isBackwards?(s.sibling=t.child,t.child=s):(null!==(n=i.last)?n.sibling=s:t.child=s,i.last=s)}return null!==i.tail?(0===i.tailExpiration&&(i.tailExpiration=Hr()+500),n=i.tail,i.rendering=n,i.tail=n.sibling,i.lastEffect=t.lastEffect,i.renderingStartTime=Hr(),n.sibling=null,t=Fo.current,dr(Fo,r?1&t|2:1&t),n):null}throw Error(T(156,t.tag))}(t,Is,Ps),1===Ps||1!==Is.childExpirationTime){for(var n=0,i=Is.child;null!==i;){var r=i.expirationTime,o=i.childExpirationTime;n<r&&(n=r),n<o&&(n=o),i=i.sibling}Is.childExpirationTime=n}if(null!==t)return t;null!==e&&0==(2048&e.effectTag)&&(null===e.firstEffect&&(e.firstEffect=Is.firstEffect),null!==Is.lastEffect&&(null!==e.lastEffect&&(e.lastEffect.nextEffect=Is.firstEffect),e.lastEffect=Is.lastEffect),1<Is.effectTag&&(null!==e.lastEffect?e.lastEffect.nextEffect=Is:e.firstEffect=Is,e.lastEffect=Is))}else{if(null!==(t=function(e){switch(e.tag){case 1:vr(e.type)&&yr();var t=e.effectTag;return 4096&t?(e.effectTag=-4097&t|64,e):null;case 3:if(Oo(),ur(pr),ur(hr),0!=(64&(t=e.effectTag)))throw Error(T(285));return e.effectTag=-4097&t|64,e;case 5:return Lo(e),null;case 13:return ur(Fo),4096&(t=e.effectTag)?(e.effectTag=-4097&t|64,e):null;case 19:return ur(Fo),null;case 4:return Oo(),null;case 10:return no(e),null;default:return null}}(Is)))return t.effectTag&=2047,t;null!==e&&(e.firstEffect=e.lastEffect=null,e.effectTag|=2048)}if(null!==(t=Is.sibling))return t;Is=e}while(null!==Is);return Ds===ks&&(Ds=_s),null}function ml(e){var t=e.expirationTime;return(e=e.childExpirationTime)<t?t:e}function gl(e){var t=Wr();return Ur(99,function(e,t){for(;vl(),null!==Qs;);if((Es&(ws|xs))!==ys)throw Error(T(327));var n=e.finishedWork,i=e.finishedExpirationTime;if(null===n)return null;if(e.finishedWork=null,e.finishedExpirationTime=0,n===e.current)throw Error(T(177));e.callbackNode=null,e.callbackExpirationTime=0,e.callbackPriority=90,e.nextKnownPendingLevel=0;var r,o=ml(n);if(e.firstPendingTime=o,i<=e.lastSuspendedTime?e.firstSuspendedTime=e.lastSuspendedTime=e.nextKnownPendingLevel=0:i<=e.firstSuspendedTime&&(e.firstSuspendedTime=i-1),i<=e.lastPingedTime&&(e.lastPingedTime=0),i<=e.lastExpiredTime&&(e.lastExpiredTime=0),e===js&&(Is=js=null,Ps=0),o=1<n.effectTag?null!==n.lastEffect?(n.lastEffect.nextEffect=n,n.firstEffect):n:n.firstEffect,null!==o){var a=Es;Es|=xs,vs.current=null,vn=Qt;var s=dn();if(fn(s)){if("selectionStart"in s)var l={start:s.selectionStart,end:s.selectionEnd};else e:{var c=(l=(l=s.ownerDocument)&&l.defaultView||window).getSelection&&l.getSelection();if(c&&0!==c.rangeCount){l=c.anchorNode;var u=c.anchorOffset,d=c.focusNode;c=c.focusOffset;try{l.nodeType,d.nodeType}catch(e){l=null;break e}var f=0,h=-1,p=-1,m=0,g=0,v=s,y=null;t:for(;;){for(;v!==l||0!==u&&3!==v.nodeType||(h=f+u),v!==d||0!==c&&3!==v.nodeType||(p=f+c),3===v.nodeType&&(f+=v.nodeValue.length),null!==(r=v.firstChild);)y=v,v=r;for(;;){if(v===s)break t;if(y===l&&++m===u&&(h=f),y===d&&++g===c&&(p=f),null!==(r=v.nextSibling))break;y=(v=y).parentNode}v=r}l=-1===h||-1===p?null:{start:h,end:p}}else l=null}l=l||{start:0,end:0}}else l=null;Qt=!(yn={activeElementDetached:null,focusedElem:s,selectionRange:l}),Hs=o;do{try{!function(){for(;null!==Hs;){var e=Hs.effectTag;0!=(256&e)&&function(e,t){switch(t.tag){case 0:case 11:case 15:case 22:return;case 1:var n,i;return 256&t.effectTag&&null!==e&&(n=e.memoizedProps,i=e.memoizedState,t=(e=t.stateNode).getSnapshotBeforeUpdate(t.elementType===t.type?n:Kr(t.type,n),i),e.__reactInternalSnapshotBeforeUpdate=t);case 3:case 5:case 6:case 4:case 17:return}throw Error(T(163))}(Hs.alternate,Hs),0==(512&e)||qs||(qs=!0,qr(97,function(){return vl(),null})),Hs=Hs.nextEffect}}()}catch(e){if(null===Hs)throw Error(T(330));wl(Hs,e),Hs=Hs.nextEffect}}while(null!==Hs);Hs=o;do{try{for(s=e,l=t;null!==Hs;){var b,w,x=Hs.effectTag;switch(16&x&&He(Hs.stateNode,""),128&x&&(null===(b=Hs.alternate)||null!==(w=b.ref)&&("function"==typeof w?w(null):w.current=null)),1038&x){case 2:ss(Hs),Hs.effectTag&=-3;break;case 6:ss(Hs),Hs.effectTag&=-3,cs(Hs.alternate,Hs);break;case 1024:Hs.effectTag&=-1025;break;case 1028:Hs.effectTag&=-1025,cs(Hs.alternate,Hs);break;case 4:cs(Hs.alternate,Hs);break;case 8:ls(s,u=Hs,l),function e(t){var n=t.alternate;t.return=null,t.child=null,t.memoizedState=null,t.updateQueue=null,t.dependencies=null,t.alternate=null,t.firstEffect=null,t.lastEffect=null,t.pendingProps=null,t.memoizedProps=null,(t.stateNode=null)!==n&&e(n)}(u)}Hs=Hs.nextEffect}}catch(e){if(null===Hs)throw Error(T(330));wl(Hs,e),Hs=Hs.nextEffect}}while(null!==Hs);if(w=yn,b=dn(),x=w.focusedElem,l=w.selectionRange,b!==x&&x&&x.ownerDocument&&function e(t,n){return!(!t||!n)&&(t===n||(!t||3!==t.nodeType)&&(n&&3===n.nodeType?e(t,n.parentNode):"contains"in t?t.contains(n):!!t.compareDocumentPosition&&!!(16&t.compareDocumentPosition(n))))}(x.ownerDocument.documentElement,x)){null!==l&&fn(x)&&(b=l.start,void 0===(w=l.end)&&(w=b),"selectionStart"in x?(x.selectionStart=b,x.selectionEnd=Math.min(w,x.value.length)):(w=(b=x.ownerDocument||document)&&b.defaultView||window).getSelection&&(w=w.getSelection(),u=x.textContent.length,s=Math.min(l.start,u),l=void 0===l.end?s:Math.min(l.end,u),!w.extend&&l<s&&(u=l,l=s,s=u),u=un(x,s),d=un(x,l),u&&d&&(1!==w.rangeCount||w.anchorNode!==u.node||w.anchorOffset!==u.offset||w.focusNode!==d.node||w.focusOffset!==d.offset)&&((b=b.createRange()).setStart(u.node,u.offset),w.removeAllRanges(),l<s?(w.addRange(b),w.extend(d.node,d.offset)):(b.setEnd(d.node,d.offset),w.addRange(b))))),b=[];for(w=x;w=w.parentNode;)1===w.nodeType&&b.push({element:w,left:w.scrollLeft,top:w.scrollTop});for("function"==typeof x.focus&&x.focus(),x=0;x<b.length;x++)(w=b[x]).element.scrollLeft=w.left,w.element.scrollTop=w.top}Qt=!!vn,yn=vn=null,e.current=n,Hs=o;do{try{for(x=e;null!==Hs;){var k,C,$=Hs.effectTag;36&$&&function(e,t,n){switch(n.tag){case 0:case 11:case 15:case 22:return rs(3,n);case 1:var i;return e=n.stateNode,4&n.effectTag&&(null===t?e.componentDidMount():(i=n.elementType===n.type?t.memoizedProps:Kr(n.type,t.memoizedProps),e.componentDidUpdate(i,t.memoizedState,e.__reactInternalSnapshotBeforeUpdate))),null!==(t=n.updateQueue)&&po(n,t,e);case 3:if(null!==(t=n.updateQueue)){if((e=null)!==n.child)switch(n.child.tag){case 5:e=n.child.stateNode;break;case 1:e=n.child.stateNode}po(n,t,e)}return;case 5:return e=n.stateNode,null===t&&4&n.effectTag&&bn(n.type,n.memoizedProps)&&e.focus();case 6:case 4:case 12:return;case 13:return null!==n.memoizedState||null!==(n=n.alternate)&&(null===(n=n.memoizedState)||null!==(n=n.dehydrated)&&At(n));case 19:case 17:case 20:case 21:return}throw Error(T(163))}(x,Hs.alternate,Hs),128&$&&(b=void 0,null!==(k=Hs.ref)&&(C=Hs.stateNode,b=(Hs.tag,C),"function"==typeof k?k(b):k.current=b)),Hs=Hs.nextEffect}}catch(e){if(null===Hs)throw Error(T(330));wl(Hs,e),Hs=Hs.nextEffect}}while(null!==Hs);Hs=null,Ar(),Es=a}else e.current=n;if(qs)qs=!1,Qs=e,Ys=t;else for(Hs=o;null!==Hs;)t=Hs.nextEffect,Hs.nextEffect=null,Hs=t;if(0===(t=e.firstPendingTime)&&(Us=null),1073741823===t?e===Ks?Xs++:(Xs=0,Ks=e):Xs=0,"function"==typeof kl&&kl(n.stateNode,i),il(e),Ws)throw Ws=!1,e=Bs,Bs=null,e;return(Es&bs)!==ys||Yr(),null}.bind(null,e,t)),null}function vl(){if(90!==Ys){var e=97<Ys?97:Ys;return Ys=90,Ur(e,yl)}}function yl(){if(null===Qs)return!1;var t=Qs;if(Qs=null,(Es&(ws|xs))!==ys)throw Error(T(331));var e=Es;for(Es|=xs,t=t.current.firstEffect;null!==t;){try{var n=t;if(0!=(512&n.effectTag))switch(n.tag){case 0:case 11:case 15:case 22:is(5,n),rs(5,n)}}catch(e){if(null===t)throw Error(T(330));wl(t,e)}n=t.nextEffect,t.nextEffect=null,t=n}return Es=e,Yr(),!0}function bl(e,t,n){uo(e,t=fs(e,t=Za(n,t),1073741823)),null!==(e=tl(e,1073741823))&&il(e)}function wl(e,t){if(3===e.tag)bl(e,e,t);else for(var n=e.return;null!==n;){if(3===n.tag){bl(n,e,t);break}if(1===n.tag){var i=n.stateNode;if("function"==typeof n.type.getDerivedStateFromError||"function"==typeof i.componentDidCatch&&(null===Us||!Us.has(i))){uo(n,e=hs(n,e=Za(t,e),1073741823)),null!==(n=tl(n,1073741823))&&il(n);break}}n=n.return}}function xl(e,t,n){var i=e.pingCache;null!==i&&i.delete(t),js===e&&Ps===n?Ds===Ss||Ds===Ts&&1073741823===Ns&&Hr()-Rs<zs?ll(e,Ps):Fs=!0:Ml(e,n)&&(0!==(t=e.lastPingedTime)&&t<n||(e.lastPingedTime=n,il(e)))}ps=function(e,t,n){var i,r,o=t.expirationTime;if(null!==e){var a=t.pendingProps;if(e.memoizedProps!==a||pr.current)Da=!0;else{if(o<n){switch(Da=!1,t.tag){case 3:Ha(t),Ia();break;case 5:if(Ao(t),4&t.mode&&1!==n&&a.hidden)return t.expirationTime=t.childExpirationTime=1,null;break;case 1:vr(t.type)&&xr(t);break;case 4:No(t,t.stateNode.containerInfo);break;case 10:o=t.memoizedProps.value,a=t.type._context,dr(Gr,a._currentValue),a._currentValue=o;break;case 13:if(null!==t.memoizedState)return 0!==(o=t.child.childExpirationTime)&&n<=o?Ya(e,t,n):(dr(Fo,1&Fo.current),null!==(t=Ga(e,t,n))?t.sibling:null);dr(Fo,1&Fo.current);break;case 19:if(o=t.childExpirationTime>=n,0!=(64&e.effectTag)){if(o)return Ka(e,t,n);t.effectTag|=64}if(null!==(a=t.memoizedState)&&(a.rendering=null,a.tail=null),dr(Fo,Fo.current),!o)return null}return Ga(e,t,n)}Da=!1}}else Da=!1;switch(t.expirationTime=0,t.tag){case 2:var s,l,o=t.type;return null!==e&&(e.alternate=null,t.alternate=null,t.effectTag|=2),e=t.pendingProps,a=gr(t,hr.current),ro(t,n),a=Ko(null,t,o,e,a,n),t.effectTag|=1,t="object"==typeof a&&null!==a&&"function"==typeof a.render&&void 0===a.$$typeof?(t.tag=1,t.memoizedState=null,t.updateQueue=null,vr(o)?(s=!0,xr(t)):s=!1,t.memoizedState=null!==a.state&&void 0!==a.state?a.state:null,so(t),"function"==typeof(l=o.getDerivedStateFromProps)&&vo(t,o,l,e),a.updater=yo,ko((t.stateNode=a)._reactInternalFiber=t,o,e,n),za(null,t,o,!0,s,n)):(t.tag=0,Ma(null,t,a,n),t.child);case 16:e:{if(a=t.elementType,null!==e&&(e.alternate=null,t.alternate=null,t.effectTag|=2),e=t.pendingProps,-1===(i=a)._status&&(i._status=0,r=(r=i._ctor)(),(i._result=r).then(function(e){0===i._status&&(e=e.default,i._status=1,i._result=e)},function(e){0===i._status&&(i._status=2,i._result=e)})),1!==a._status)throw a._result;switch(a=a._result,t.type=a,s=t.tag=function(e){if("function"==typeof e)return Sl(e)?1:0;if(null!=e){if((e=e.$$typeof)===le)return 11;if(e===de)return 14}return 2}(a),e=Kr(a,e),s){case 0:t=Fa(null,t,a,e,n);break e;case 1:t=Ra(null,t,a,e,n);break e;case 11:t=Na(null,t,a,e,n);break e;case 14:t=Oa(null,t,a,Kr(a.type,e),o,n);break e}throw Error(T(306,a,""))}return t;case 0:return o=t.type,a=t.pendingProps,Fa(e,t,o,a=t.elementType===o?a:Kr(o,a),n);case 1:return o=t.type,a=t.pendingProps,Ra(e,t,o,a=t.elementType===o?a:Kr(o,a),n);case 3:if(Ha(t),o=t.updateQueue,null===e||null===o)throw Error(T(282));if(o=t.pendingProps,a=null!==(a=t.memoizedState)?a.element:null,lo(e,t),ho(t,o,null,n),(o=t.memoizedState.element)===a)Ia(),t=Ga(e,t,n);else{if((a=t.stateNode.hydrate)&&(Ca=Cn(t.stateNode.containerInfo.firstChild),ka=t,a=$a=!0),a)for(n=Eo(t,null,o,n),t.child=n;n;)n.effectTag=-3&n.effectTag|1024,n=n.sibling;else Ma(e,t,o,n),Ia();t=t.child}return t;case 5:return Ao(t),null===e&&_a(t),o=t.type,a=t.pendingProps,s=null!==e?e.memoizedProps:null,l=a.children,wn(o,a)?l=null:null!==s&&wn(o,s)&&(t.effectTag|=16),La(e,t),t=4&t.mode&&1!==n&&a.hidden?(t.expirationTime=t.childExpirationTime=1,null):(Ma(e,t,l,n),t.child);case 6:return null===e&&_a(t),null;case 13:return Ya(e,t,n);case 4:return No(t,t.stateNode.containerInfo),o=t.pendingProps,null===e?t.child=_o(t,null,o,n):Ma(e,t,o,n),t.child;case 11:return o=t.type,a=t.pendingProps,Na(e,t,o,a=t.elementType===o?a:Kr(o,a),n);case 7:return Ma(e,t,t.pendingProps,n),t.child;case 8:case 12:return Ma(e,t,t.pendingProps.children,n),t.child;case 10:e:{o=t.type._context,a=t.pendingProps,l=t.memoizedProps,s=a.value;var c=t.type._context;if(dr(Gr,c._currentValue),c._currentValue=s,null!==l)if(c=l.value,0===(s=Ri(c,s)?0:0|("function"==typeof o._calculateChangedBits?o._calculateChangedBits(c,s):1073741823))){if(l.children===a.children&&!pr.current){t=Ga(e,t,n);break e}}else for(null!==(c=t.child)&&(c.return=t);null!==c;){var u=c.dependencies;if(null!==u){l=c.child;for(var d=u.firstContext;null!==d;){if(d.context===o&&0!=(d.observedBits&s)){1===c.tag&&((d=co(n,null)).tag=2,uo(c,d)),c.expirationTime<n&&(c.expirationTime=n),null!==(d=c.alternate)&&d.expirationTime<n&&(d.expirationTime=n),io(c.return,n),u.expirationTime<n&&(u.expirationTime=n);break}d=d.next}}else l=10===c.tag&&c.type===t.type?null:c.child;if(null!==l)l.return=c;else for(l=c;null!==l;){if(l===t){l=null;break}if(null!==(c=l.sibling)){c.return=l.return,l=c;break}l=l.return}c=l}Ma(e,t,a.children,n),t=t.child}return t;case 9:return a=t.type,o=(s=t.pendingProps).children,ro(t,n),o=o(a=oo(a,s.unstable_observedBits)),t.effectTag|=1,Ma(e,t,o,n),t.child;case 14:return s=Kr(a=t.type,t.pendingProps),Oa(e,t,a,s=Kr(a.type,s),o,n);case 15:return Aa(e,t,t.type,t.pendingProps,o,n);case 17:return o=t.type,a=t.pendingProps,a=t.elementType===o?a:Kr(o,a),null!==e&&(e.alternate=null,t.alternate=null,t.effectTag|=2),t.tag=1,vr(o)?(e=!0,xr(t)):e=!1,ro(t,n),wo(t,o,a),ko(t,o,a,n),za(null,t,o,!0,e,n);case 19:return Ka(e,t,n)}throw Error(T(156,t.tag))};var kl=null,Cl=null;function $l(e,t,n,i){this.tag=e,this.key=n,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.ref=null,this.pendingProps=t,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=i,this.effectTag=0,this.lastEffect=this.firstEffect=this.nextEffect=null,this.childExpirationTime=this.expirationTime=0,this.alternate=null}function Tl(e,t,n,i){return new $l(e,t,n,i)}function Sl(e){return(e=e.prototype)&&e.isReactComponent}function _l(e,t){var n=e.alternate;return null===n?((n=Tl(e.tag,t,e.key,e.mode)).elementType=e.elementType,n.type=e.type,n.stateNode=e.stateNode,(n.alternate=e).alternate=n):(n.pendingProps=t,n.effectTag=0,n.nextEffect=null,n.firstEffect=null,n.lastEffect=null),n.childExpirationTime=e.childExpirationTime,n.expirationTime=e.expirationTime,n.child=e.child,n.memoizedProps=e.memoizedProps,n.memoizedState=e.memoizedState,n.updateQueue=e.updateQueue,t=e.dependencies,n.dependencies=null===t?null:{expirationTime:t.expirationTime,firstContext:t.firstContext,responders:t.responders},n.sibling=e.sibling,n.index=e.index,n.ref=e.ref,n}function El(e,t,n,i,r,o){var a=2;if("function"==typeof(i=e))Sl(e)&&(a=1);else if("string"==typeof e)a=5;else e:switch(e){case ne:return jl(n.children,r,o,t);case se:a=8,r|=7;break;case ie:a=8,r|=1;break;case re:return(e=Tl(12,n,t,8|r)).elementType=re,e.type=re,e.expirationTime=o,e;case ce:return(e=Tl(13,n,t,r)).type=ce,e.elementType=ce,e.expirationTime=o,e;case ue:return(e=Tl(19,n,t,r)).elementType=ue,e.expirationTime=o,e;default:if("object"==typeof e&&null!==e)switch(e.$$typeof){case oe:a=10;break e;case ae:a=9;break e;case le:a=11;break e;case de:a=14;break e;case fe:a=16,i=null;break e;case he:a=22;break e}throw Error(T(130,null==e?e:typeof e,""))}return(t=Tl(a,n,t,r)).elementType=e,t.type=i,t.expirationTime=o,t}function jl(e,t,n,i){return(e=Tl(7,e,i,t)).expirationTime=n,e}function Il(e,t,n){return(e=Tl(6,e,null,t)).expirationTime=n,e}function Pl(e,t,n){return(t=Tl(4,null!==e.children?e.children:[],e.key,t)).expirationTime=n,t.stateNode={containerInfo:e.containerInfo,pendingChildren:null,implementation:e.implementation},t}function Dl(e,t,n){this.tag=t,this.current=null,this.containerInfo=e,this.pingCache=this.pendingChildren=null,this.finishedExpirationTime=0,this.finishedWork=null,this.timeoutHandle=-1,this.pendingContext=this.context=null,this.hydrate=n,this.callbackNode=null,this.callbackPriority=90,this.lastExpiredTime=this.lastPingedTime=this.nextKnownPendingLevel=this.lastSuspendedTime=this.firstSuspendedTime=this.firstPendingTime=0}function Ml(e,t){var n=e.firstSuspendedTime;return e=e.lastSuspendedTime,0!==n&&t<=n&&e<=t}function Nl(e,t){var n=e.firstSuspendedTime,i=e.lastSuspendedTime;n<t&&(e.firstSuspendedTime=t),(t<i||0===n)&&(e.lastSuspendedTime=t),t<=e.lastPingedTime&&(e.lastPingedTime=0),t<=e.lastExpiredTime&&(e.lastExpiredTime=0)}function Ol(e,t){t>e.firstPendingTime&&(e.firstPendingTime=t);var n=e.firstSuspendedTime;0!==n&&(n<=t?e.firstSuspendedTime=e.lastSuspendedTime=e.nextKnownPendingLevel=0:t>=e.lastSuspendedTime&&(e.lastSuspendedTime=t+1),t>e.nextKnownPendingLevel&&(e.nextKnownPendingLevel=t))}function Al(e,t){var n=e.lastExpiredTime;(0===n||t<n)&&(e.lastExpiredTime=t)}function Ll(e,t,n,i){var r=t.current,o=Js(),a=mo.suspense,o=Zs(o,r,a);e:if(n){t:{if(et(n=n._reactInternalFiber)!==n||1!==n.tag)throw Error(T(170));var s=n;do{switch(s.tag){case 3:s=s.stateNode.context;break t;case 1:if(vr(s.type)){s=s.stateNode.__reactInternalMemoizedMergedChildContext;break t}}s=s.return}while(null!==s);throw Error(T(171))}if(1===n.tag){var l=n.type;if(vr(l)){n=wr(n,l,s);break e}}n=s}else n=fr;return null===t.context?t.context=n:t.pendingContext=n,(t=co(o,a)).payload={element:e},null!==(i=void 0===i?null:i)&&(t.callback=i),uo(r,t),el(r,o),o}function Fl(e){return(e=e.current).child?(e.child.tag,e.child.stateNode):null}function Rl(e,t){null!==(e=e.memoizedState)&&null!==e.dehydrated&&e.retryTime<t&&(e.retryTime=t)}function zl(e,t){Rl(e,t),(e=e.alternate)&&Rl(e,t)}function Hl(e,t,n){var i,r,o=new Dl(e,t,n=null!=n&&!0===n.hydrate),a=Tl(3,null,null,2===t?7:1===t?3:0);(o.current=a).stateNode=o,so(a),e[En]=o.current,n&&0!==t&&(i=9===e.nodeType?e:e.ownerDocument,r=Ze(i),_t.forEach(function(e){mt(e,i,r)}),Et.forEach(function(e){mt(e,i,r)})),this._internalRoot=o}function Wl(e){return e&&(1===e.nodeType||9===e.nodeType||11===e.nodeType||8===e.nodeType&&" react-mount-point-unstable "===e.nodeValue)}function Bl(e,t,n,i,r){var o,a,s,l=n._reactRootContainer;return l?(s=l._internalRoot,"function"==typeof r&&(o=r,r=function(){var e=Fl(s);o.call(e)}),Ll(t,s,e,r)):(s=(l=n._reactRootContainer=function(e,t){if(t||(t=!(!(t=e?9===e.nodeType?e.documentElement:e.firstChild:null)||1!==t.nodeType||!t.hasAttribute("data-reactroot"))),!t)for(var n;n=e.lastChild;)e.removeChild(n);return new Hl(e,0,t?{hydrate:!0}:void 0)}(n,i))._internalRoot,"function"==typeof r&&(a=r,r=function(){var e=Fl(s);a.call(e)}),sl(function(){Ll(t,s,e,r)})),Fl(s)}function Ul(e,t){var n=2<arguments.length&&void 0!==arguments[2]?arguments[2]:null;if(!Wl(t))throw Error(T(200));return function(e,t,n,i){var r=3<arguments.length&&void 0!==i?i:null;return{$$typeof:te,key:null==r?null:""+r,children:e,containerInfo:t,implementation:n}}(e,t,null,n)}Hl.prototype.render=function(e){Ll(e,this._internalRoot,null,null)},Hl.prototype.unmount=function(){var e=this._internalRoot,t=e.containerInfo;Ll(null,e,null,function(){t[En]=null})},gt=function(e){var t;13===e.tag&&(el(e,t=Xr(Js(),150,100)),zl(e,t))},vt=function(e){13===e.tag&&(el(e,3),zl(e,3))},yt=function(e){var t;13===e.tag&&(el(e,t=Zs(t=Js(),e,null)),zl(e,t))},_=function(e,t,n){switch(t){case"input":if(Te(e,n),t=n.name,"radio"===n.type&&null!=t){for(n=e;n.parentNode;)n=n.parentNode;for(n=n.querySelectorAll("input[name="+JSON.stringify(""+t)+'][type="radio"]'),t=0;t<n.length;t++){var i=n[t];if(i!==e&&i.form===e.form){var r=Dn(i);if(!r)throw Error(T(90));xe(i),Te(i,r)}}}break;case"textarea":De(e,n);break;case"select":null!=(t=n.value)&&je(e,!!n.multiple,t,!1)}},M=al,N=function(e,t,n,i,r){var o=Es;Es|=4;try{return Ur(98,e.bind(null,t,n,i,r))}finally{(Es=o)===ys&&Yr()}},O=function(){var e;(Es&(1|ws|xs))===ys&&(null!==Vs&&(e=Vs,Vs=null,e.forEach(function(e,t){Al(t,e),il(t)}),Yr()),vl())};var ql,Ql,Yl={Events:[In,Pn,Dn,$,x,Rn,function(e){ot(e,Fn)},P,D,Xt,lt,vl,{current:!(A=function(e,t){var n=Es;Es|=2;try{return e(t)}finally{(Es=n)===ys&&Yr()}})}]};Ql=(ql={findFiberByHostInstance:jn,bundleType:0,version:"16.13.1",rendererPackageName:"react-dom"}).findFiberByHostInstance,function(e){if("undefined"!=typeof __REACT_DEVTOOLS_GLOBAL_HOOK__){var t=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(t.isDisabled||!t.supportsFiber)return;try{var n=t.inject(e);kl=function(e){try{t.onCommitFiberRoot(n,e,void 0,64==(64&e.current.effectTag))}catch(e){}},Cl=function(e){try{t.onCommitFiberUnmount(n,e)}catch(e){}}}catch(e){}}}(v({},ql,{overrideHookState:null,overrideProps:null,setSuspenseHandler:null,scheduleUpdate:null,currentDispatcherRef:K.ReactCurrentDispatcher,findHostInstanceByFiber:function(e){return null===(e=it(e))?null:e.stateNode},findFiberByHostInstance:function(e){return Ql?Ql(e):null},findHostInstancesForRefresh:null,scheduleRefresh:null,scheduleRoot:null,setRefreshHandler:null,getCurrentFiber:null})),t.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=Yl,t.createPortal=Ul,t.findDOMNode=function(e){if(null==e)return null;if(1===e.nodeType)return e;var t=e._reactInternalFiber;if(void 0!==t)return e=null===(e=it(t))?null:e.stateNode;if("function"==typeof e.render)throw Error(T(188));throw Error(T(268,Object.keys(e)))},t.flushSync=function(e,t){if((Es&(ws|xs))!==ys)throw Error(T(187));var n=Es;Es|=1;try{return Ur(99,e.bind(null,t))}finally{Es=n,Yr()}},t.hydrate=function(e,t,n){if(!Wl(t))throw Error(T(200));return Bl(null,e,t,!0,n)},t.render=function(e,t,n){if(!Wl(t))throw Error(T(200));return Bl(null,e,t,!1,n)},t.unmountComponentAtNode=function(e){if(!Wl(e))throw Error(T(40));return!!e._reactRootContainer&&(sl(function(){Bl(null,null,e,!1,function(){e._reactRootContainer=null,e[En]=null})}),!0)},t.unstable_batchedUpdates=al,t.unstable_createPortal=function(e,t){return Ul(e,t,2<arguments.length&&void 0!==arguments[2]?arguments[2]:null)},t.unstable_renderSubtreeIntoContainer=function(e,t,n,i){if(!Wl(n))throw Error(T(200));if(null==e||void 0===e._reactInternalFiber)throw Error(T(38));return Bl(e,t,n,!1,i)},t.version="16.13.1"},function(e,t,n){"use strict";
/** @license React v16.13.1
 * react.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var u=n(89),i="function"==typeof Symbol&&Symbol.for,d=i?Symbol.for("react.element"):60103,c=i?Symbol.for("react.portal"):60106,r=i?Symbol.for("react.fragment"):60107,o=i?Symbol.for("react.strict_mode"):60108,a=i?Symbol.for("react.profiler"):60114,s=i?Symbol.for("react.provider"):60109,l=i?Symbol.for("react.context"):60110,f=i?Symbol.for("react.forward_ref"):60112,h=i?Symbol.for("react.suspense"):60113,p=i?Symbol.for("react.memo"):60115,m=i?Symbol.for("react.lazy"):60116,g="function"==typeof Symbol&&Symbol.iterator;function v(e){for(var t="https://reactjs.org/docs/error-decoder.html?invariant="+e,n=1;n<arguments.length;n++)t+="&args[]="+encodeURIComponent(arguments[n]);return"Minified React error #"+e+"; visit "+t+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}var y={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},b={};function w(e,t,n){this.props=e,this.context=t,this.refs=b,this.updater=n||y}function x(){}function k(e,t,n){this.props=e,this.context=t,this.refs=b,this.updater=n||y}w.prototype.isReactComponent={},w.prototype.setState=function(e,t){if("object"!=typeof e&&"function"!=typeof e&&null!=e)throw Error(v(85));this.updater.enqueueSetState(this,e,t,"setState")},w.prototype.forceUpdate=function(e){this.updater.enqueueForceUpdate(this,e,"forceUpdate")},x.prototype=w.prototype;var C=k.prototype=new x;C.constructor=k,u(C,w.prototype),C.isPureReactComponent=!0;var $={current:null},T=Object.prototype.hasOwnProperty,S={key:!0,ref:!0,__self:!0,__source:!0};function _(e,t,n){var i,r={},o=null,a=null;if(null!=t)for(i in void 0!==t.ref&&(a=t.ref),void 0!==t.key&&(o=""+t.key),t)T.call(t,i)&&!S.hasOwnProperty(i)&&(r[i]=t[i]);var s=arguments.length-2;if(1===s)r.children=n;else if(1<s){for(var l=Array(s),c=0;c<s;c++)l[c]=arguments[c+2];r.children=l}if(e&&e.defaultProps)for(i in s=e.defaultProps)void 0===r[i]&&(r[i]=s[i]);return{$$typeof:d,type:e,key:o,ref:a,props:r,_owner:$.current}}function E(e){return"object"==typeof e&&null!==e&&e.$$typeof===d}var j=/\/+/g,I=[];function P(e,t,n,i){if(I.length){var r=I.pop();return r.result=e,r.keyPrefix=t,r.func=n,r.context=i,r.count=0,r}return{result:e,keyPrefix:t,func:n,context:i,count:0}}function D(e){e.result=null,e.keyPrefix=null,e.func=null,e.context=null,e.count=0,I.length<10&&I.push(e)}function M(e,t,n){return null==e?0:function e(t,n,i,r){var o=typeof t;"undefined"!==o&&"boolean"!==o||(t=null);var a=!1;if(null===t)a=!0;else switch(o){case"string":case"number":a=!0;break;case"object":switch(t.$$typeof){case d:case c:a=!0}}if(a)return i(r,t,""===n?"."+N(t,0):n),1;if(a=0,n=""===n?".":n+":",Array.isArray(t))for(var s=0;s<t.length;s++){var l=n+N(o=t[s],s);a+=e(o,l,i,r)}else if("function"==typeof(l=null!==t&&"object"==typeof t&&"function"==typeof(l=g&&t[g]||t["@@iterator"])?l:null))for(t=l.call(t),s=0;!(o=t.next()).done;)a+=e(o=o.value,l=n+N(o,s++),i,r);else if("object"===o)throw i=""+t,Error(v(31,"[object Object]"===i?"object with keys {"+Object.keys(t).join(", ")+"}":i,""));return a}(e,"",t,n)}function N(e,t){return"object"==typeof e&&null!==e&&null!=e.key?(n=e.key,i={"=":"=0",":":"=2"},"$"+(""+n).replace(/[=:]/g,function(e){return i[e]})):t.toString(36);var n,i}function O(e,t){e.func.call(e.context,t,e.count++)}function A(e,t,n){var i,r,o=e.result,a=e.keyPrefix;e=e.func.call(e.context,t,e.count++),Array.isArray(e)?L(e,o,n,function(e){return e}):null!=e&&(E(e)&&(r=a+(!(i=e).key||t&&t.key===e.key?"":(""+e.key).replace(j,"$&/")+"/")+n,e={$$typeof:d,type:i.type,key:r,ref:i.ref,props:i.props,_owner:i._owner}),o.push(e))}function L(e,t,n,i,r){var o="";null!=n&&(o=(""+n).replace(j,"$&/")+"/"),M(e,A,t=P(t,o,i,r)),D(t)}var F={current:null};function R(){var e=F.current;if(null===e)throw Error(v(321));return e}var z={ReactCurrentDispatcher:F,ReactCurrentBatchConfig:{suspense:null},ReactCurrentOwner:$,IsSomeRendererActing:{current:!1},assign:u};t.Children={map:function(e,t,n){if(null==e)return e;var i=[];return L(e,i,null,t,n),i},forEach:function(e,t,n){if(null==e)return e;M(e,O,t=P(null,null,t,n)),D(t)},count:function(e){return M(e,function(){return null},null)},toArray:function(e){var t=[];return L(e,t,null,function(e){return e}),t},only:function(e){if(!E(e))throw Error(v(143));return e}},t.Component=w,t.Fragment=r,t.Profiler=a,t.PureComponent=k,t.StrictMode=o,t.Suspense=h,t.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=z,t.cloneElement=function(e,t,n){if(null==e)throw Error(v(267,e));var i,r=u({},e.props),o=e.key,a=e.ref,s=e._owner;if(null!=t)for(l in void 0!==t.ref&&(a=t.ref,s=$.current),void 0!==t.key&&(o=""+t.key),e.type&&e.type.defaultProps&&(i=e.type.defaultProps),t)T.call(t,l)&&!S.hasOwnProperty(l)&&(r[l]=void 0===t[l]&&void 0!==i?i[l]:t[l]);var l=arguments.length-2;if(1===l)r.children=n;else if(1<l){i=Array(l);for(var c=0;c<l;c++)i[c]=arguments[c+2];r.children=i}return{$$typeof:d,type:e.type,key:o,ref:a,props:r,_owner:s}},t.createContext=function(e,t){return void 0===t&&(t=null),(e={$$typeof:l,_calculateChangedBits:t,_currentValue:e,_currentValue2:e,_threadCount:0,Provider:null,Consumer:null}).Provider={$$typeof:s,_context:e},e.Consumer=e},t.createElement=_,t.createFactory=function(e){var t=_.bind(null,e);return t.type=e,t},t.createRef=function(){return{current:null}},t.forwardRef=function(e){return{$$typeof:f,render:e}},t.isValidElement=E,t.lazy=function(e){return{$$typeof:m,_ctor:e,_status:-1,_result:null}},t.memo=function(e,t){return{$$typeof:p,type:e,compare:void 0===t?null:t}},t.useCallback=function(e,t){return R().useCallback(e,t)},t.useContext=function(e,t){return R().useContext(e,t)},t.useDebugValue=function(){},t.useEffect=function(e,t){return R().useEffect(e,t)},t.useImperativeHandle=function(e,t,n){return R().useImperativeHandle(e,t,n)},t.useLayoutEffect=function(e,t){return R().useLayoutEffect(e,t)},t.useMemo=function(e,t){return R().useMemo(e,t)},t.useReducer=function(e,t,n){return R().useReducer(e,t,n)},t.useRef=function(e){return R().useRef(e)},t.useState=function(e){return R().useState(e)},t.version="16.13.1"},function(e,t,n){"use strict";e.exports=n(327)},function(e,s,t){"use strict";
/** @license React v0.19.1
 * scheduler.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var o,l,c,n,i,r,a,u,d,f,h,p,m,g,v,y,b,w,x,k,C,$;function T(e,t){var n=e.length;e.push(t);e:for(;;){var i=n-1>>>1,r=e[i];if(!(void 0!==r&&0<E(r,t)))break e;e[i]=t,e[n]=r,n=i}}function S(e){return void 0===(e=e[0])?null:e}function _(e){var t=e[0];if(void 0!==t){var n=e.pop();if(n!==t){e[0]=n;e:for(var i=0,r=e.length;i<r;){var o=2*(i+1)-1,a=e[o],s=1+o,l=e[s];if(void 0!==a&&E(a,n)<0)i=void 0!==l&&E(l,a)<0?(e[i]=l,e[s]=n,s):(e[i]=a,e[o]=n,o);else{if(!(void 0!==l&&E(l,n)<0))break e;e[i]=l,e[s]=n,i=s}}}return t}}function E(e,t){var n=e.sortIndex-t.sortIndex;return 0!=n?n:e.id-t.id}"undefined"==typeof window||"function"!=typeof MessageChannel?(i=n=null,r=function(){if(null!==n)try{var e=s.unstable_now();n(!0,e),n=null}catch(e){throw setTimeout(r,0),e}},a=Date.now(),s.unstable_now=function(){return Date.now()-a},o=function(e){null!==n?setTimeout(o,0,e):(n=e,setTimeout(r,0))},l=function(e,t){i=setTimeout(e,t)},c=function(){clearTimeout(i)},x=function(){return!1},k=s.unstable_forceFrameRate=function(){}):(u=window.performance,d=window.Date,f=window.setTimeout,h=window.clearTimeout,"undefined"!=typeof console&&(p=window.cancelAnimationFrame,"function"!=typeof window.requestAnimationFrame&&console.error("This browser doesn't support requestAnimationFrame. Make sure that you load a polyfill in older browsers. https://fb.me/react-polyfills"),"function"!=typeof p&&console.error("This browser doesn't support cancelAnimationFrame. Make sure that you load a polyfill in older browsers. https://fb.me/react-polyfills")),"object"==typeof u&&"function"==typeof u.now?s.unstable_now=function(){return u.now()}:(m=d.now(),s.unstable_now=function(){return d.now()-m}),g=!1,v=null,y=-1,b=5,w=0,x=function(){return s.unstable_now()>=w},k=function(){},s.unstable_forceFrameRate=function(e){e<0||125<e?console.error("forceFrameRate takes a positive int between 0 and 125, forcing framerates higher than 125 fps is not unsupported"):b=0<e?Math.floor(1e3/e):5},C=new MessageChannel,$=C.port2,C.port1.onmessage=function(){if(null!==v){var e=s.unstable_now();w=e+b;try{v(!0,e)?$.postMessage(null):(g=!1,v=null)}catch(e){throw $.postMessage(null),e}}else g=!1},o=function(e){v=e,g||(g=!0,$.postMessage(null))},l=function(e,t){y=f(function(){e(s.unstable_now())},t)},c=function(){h(y),y=-1});var j=[],I=[],P=1,D=null,M=3,N=!1,O=!1,A=!1;function L(e){for(var t=S(I);null!==t;){if(null===t.callback)_(I);else{if(!(t.startTime<=e))break;_(I),t.sortIndex=t.expirationTime,T(j,t)}t=S(I)}}function F(e){var t;A=!1,L(e),O||(null!==S(j)?(O=!0,o(R)):null!==(t=S(I))&&l(F,t.startTime-e))}function R(e,t){O=!1,A&&(A=!1,c()),N=!0;var n=M;try{for(L(t),D=S(j);null!==D&&(!(D.expirationTime>t)||e&&!x());){var i,r=D.callback;null!==r?(D.callback=null,M=D.priorityLevel,i=r(D.expirationTime<=t),t=s.unstable_now(),"function"==typeof i?D.callback=i:D===S(j)&&_(j),L(t)):_(j),D=S(j)}var o,a=null!==D||(null!==(o=S(I))&&l(F,o.startTime-t),!1);return a}finally{D=null,M=n,N=!1}}function z(e){switch(e){case 1:return-1;case 2:return 250;case 5:return 1073741823;case 4:return 1e4;default:return 5e3}}var H=k;s.unstable_IdlePriority=5,s.unstable_ImmediatePriority=1,s.unstable_LowPriority=4,s.unstable_NormalPriority=3,s.unstable_Profiling=null,s.unstable_UserBlockingPriority=2,s.unstable_cancelCallback=function(e){e.callback=null},s.unstable_continueExecution=function(){O||N||(O=!0,o(R))},s.unstable_getCurrentPriorityLevel=function(){return M},s.unstable_getFirstCallbackNode=function(){return S(j)},s.unstable_next=function(e){switch(M){case 1:case 2:case 3:var t=3;break;default:t=M}var n=M;M=t;try{return e()}finally{M=n}},s.unstable_pauseExecution=function(){},s.unstable_requestPaint=H,s.unstable_runWithPriority=function(e,t){switch(e){case 1:case 2:case 3:case 4:case 5:break;default:e=3}var n=M;M=e;try{return t()}finally{M=n}},s.unstable_scheduleCallback=function(e,t,n){var i,r=s.unstable_now();return"object"==typeof n&&null!==n?(i="number"==typeof(i=n.delay)&&0<i?r+i:r,n="number"==typeof n.timeout?n.timeout:z(e)):(n=z(e),i=r),e={id:P++,callback:t,priorityLevel:e,startTime:i,expirationTime:n=i+n,sortIndex:-1},r<i?(e.sortIndex=i,T(I,e),null===S(j)&&e===S(I)&&(A?c():A=!0,l(F,i-r))):(e.sortIndex=n,T(j,e),O||N||(O=!0,o(R))),e},s.unstable_shouldYield=function(){var e=s.unstable_now();L(e);var t=S(j);return t!==D&&null!==D&&null!==t&&null!==t.callback&&t.startTime<=e&&t.expirationTime<D.expirationTime||x()},s.unstable_wrapCallback=function(t){var n=M;return function(){var e=M;M=n;try{return t.apply(this,arguments)}finally{M=e}}}},function(e,t,n){var i,r,o;function a(e){return(a="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}
/*!
 * jQuery.scrollTo
 * Copyright (c) 2007-2015 Ariel Flesler - aflesler<a>gmail<d>com | http://flesler.blogspot.com
 * Licensed under MIT
 * http://flesler.blogspot.com/2007/10/jqueryscrollto.html
 * @projectDescription Lightweight, cross-browser and highly customizable animated scrolling with jQuery
 * @author Ariel Flesler
 * @version 2.1.2
 */!function(){"use strict";r=[n(18)],void 0===(o="function"==typeof(i=function(y){"use strict";var b=y.scrollTo=function(e,t,n){return y(window).scrollTo(e,t,n)};function w(e){return!e.nodeName||y.inArray(e.nodeName.toLowerCase(),["iframe","#document","html","body"])!==-1}function t(e){return y.isFunction(e)||y.isPlainObject(e)?e:{top:e,left:e}}return b.defaults={axis:"xy",duration:0,limit:!0},y.fn.scrollTo=function(e,n,g){"object"===a(n)&&(g=n,n=0),"function"==typeof g&&(g={onAfter:g}),"max"===e&&(e=9e9),g=y.extend({},b.defaults,g),n=n||g.duration;var v=g.queue&&1<g.axis.length;return v&&(n/=2),g.offset=t(g.offset),g.over=t(g.over),this.each(function(){if(null!==e){var l,c=w(this),u=c?this.contentWindow||window:this,d=y(u),f=e,h={};switch(a(f)){case"number":case"string":if(/^([+-]=?)?\d+(\.\d+)?(px|%)?$/.test(f)){f=t(f);break}f=c?y(f):y(f,u);case"object":if(0===f.length)return;(f.is||f.style)&&(l=(f=y(f)).offset())}var p=y.isFunction(g.offset)&&g.offset(u,f)||g.offset;y.each(g.axis.split(""),function(e,t){var n,i="x"===t?"Left":"Top",r=i.toLowerCase(),o="scroll"+i,a=d[o](),s=b.max(u,t);l?(h[o]=l[r]+(c?0:a-d.offset()[r]),g.margin&&(h[o]-=parseInt(f.css("margin"+i),10)||0,h[o]-=parseInt(f.css("border"+i+"Width"),10)||0),h[o]+=p[r]||0,g.over[r]&&(h[o]+=f["x"===t?"width":"height"]()*g.over[r])):(n=f[r],h[o]=n.slice&&"%"===n.slice(-1)?parseFloat(n)/100*s:n),g.limit&&/^\d+$/.test(h[o])&&(h[o]=h[o]<=0?0:Math.min(h[o],s)),!e&&1<g.axis.length&&(a===h[o]?h={}:v&&(m(g.onAfterFirst),h={}))}),m(g.onAfter)}function m(e){var t=y.extend({},g,{queue:!0,duration:n,complete:e&&function(){e.call(u,f,g)}});d.animate(h,t)}})},b.max=function(e,t){var n="x"===t?"Width":"Height",i="scroll"+n;if(!w(e))return e[i]-y(e)[n.toLowerCase()]();var r="client"+n,o=e.ownerDocument||e.document,a=o.documentElement,s=o.body;return Math.max(a[i],s[i])-Math.min(a[r],s[r])},y.Tween.propHooks.scrollLeft=y.Tween.propHooks.scrollTop={get:function(e){return y(e.elem)[e.prop]()},set:function(e){var t=this.get(e);if(e.options.interrupt&&e._last&&e._last!==t)return y(e.elem).stop();var n=Math.round(e.now);t!==n&&(y(e.elem)[e.prop](n),e._last=this.get(e))}},b})?i.apply(t,r):i)||(e.exports=o)}()},function(e,t){
/*! Smooth Scroll - v1.4.6 - 2012-08-23
* Copyright (c) 2012 Karl Swedberg; Licensed MIT, GPL */
!function(h){function n(e){var t=[],n=e.dir&&"left"==e.dir?"scrollLeft":"scrollTop";return this.each(function(){var e;this!=document&&this!=window&&(0<(e=h(this))[n]()?t.push(this):(e[n](1),0<e[n]()&&t.push(this),e[n](0)))}),t.length||this.each(function(e){"BODY"===this.nodeName&&(t=[this])}),"first"===e.el&&1<t.length&&(t=[t[0]]),t}0 in document;function p(e){return e.replace(/(:|\.)/g,"\\$1")}h.fn.extend({scrollable:function(e){var t=n.call(this,{dir:e});return this.pushStack(t)},firstScrollable:function(e){var t=n.call(this,{el:"first",dir:e});return this.pushStack(t)},smoothScroll:function(e){e=e||{};var d=h.extend({},h.fn.smoothScroll.defaults,e),f=h.smoothScroll.filterPath(location.pathname);return this.unbind("click.smoothscroll").bind("click.smoothscroll",function(e){var t=h(this),n=d.exclude,i=d.excludeWithin,r=0,o=0,a=!0,s={},l=location.hostname===this.hostname||!this.hostname,c=d.scrollTarget||(h.smoothScroll.filterPath(this.pathname)||f)===f,u=p(this.hash);if(d.scrollTarget||l&&c&&u){for(;a&&r<n.length;)t.is(p(n[r++]))&&(a=!1);for(;a&&o<i.length;)t.closest(i[o++]).length&&(a=!1)}else a=!1;a&&(e.preventDefault(),h.extend(s,d,{scrollTarget:d.scrollTarget||u,link:this}),h.smoothScroll(s))}),this}}),h.smoothScroll=function(e,t){var n,i,r=0,o="offset",a="scrollTop",s={},l={},c="number"==typeof e?(u=h.fn.smoothScroll.defaults,e):((u=h.extend({},h.fn.smoothScroll.defaults,e||{})).scrollElement&&(o="position","static"==u.scrollElement.css("position")&&u.scrollElement.css("position","relative")),t||h(u.scrollTarget)[o]()&&h(u.scrollTarget)[o]()[u.direction]||0),u=h.extend({link:null},u),a="left"==u.direction?"scrollLeft":a;u.scrollElement?r=(n=u.scrollElement)[a]():n=h("html, body").firstScrollable(),s[a]=c+r+u.offset,u.beforeScroll.call(n,u),"auto"===(i=u.speed)&&(i=s[a]||n.scrollTop(),i/=u.autoCoefficent),l={duration:i,easing:u.easing,complete:function(){u.afterScroll.call(u.link,u)}},u.step&&(l.step=u.step),n.length?n.stop().animate(s,l):u.afterScroll.call(u.link,u)},h.smoothScroll.version="1.4.6",h.smoothScroll.filterPath=function(e){return e.replace(/^\//,"").replace(/(index|default).[a-zA-Z]{3,4}$/,"").replace(/\/$/,"")},h.fn.smoothScroll.defaults={exclude:[],excludeWithin:[],offset:0,direction:"top",scrollElement:null,scrollTarget:null,beforeScroll:function(){},afterScroll:function(){},easing:"swing",speed:400,autoCoefficent:2}}(jQuery)},function(e,t){
/**
@license Sticky-kit v1.1.2 | WTFPL | Leaf Corcoran 2015 | http://leafo.net
 */
(function(){var I=this.jQuery||window.jQuery,P=I(window);I.fn.stick_in_parent=function(e){var C,t,$,n,i,T,r,S,_,o,E,j;for(null==e&&(e={}),j=e.sticky_class,T=e.inner_scrolling,E=e.recalc_every,o=e.parent,_=e.offset_top,S=e.spacer,$=e.bottoming,null==_&&(_=0),null==o&&(o=void 0),null==T&&(T=!0),null==j&&(j="is_stuck"),C=I(document),null==$&&($=!0),n=function(a,s,l,c,u,d,f,h){var p,e,m,g,v,y,b,w,t,x,k,i;if(!a.data("sticky_kit")){if(a.data("sticky_kit",!0),v=C.height(),b=a.parent(),null!=o&&(b=b.closest(o)),!b.length)throw"failed to find stick parent";if(p=m=!1,(k=null!=S?S&&a.closest(S):I("<div />"))&&k.css("position",a.css("position")),(w=function(){var e,t,n;if(!h)return v=C.height(),e=parseInt(b.css("border-top-width"),10),t=parseInt(b.css("padding-top"),10),s=parseInt(b.css("padding-bottom"),10),l=b.offset().top+e+t,c=b.height(),m&&(p=m=!1,null==S&&(a.insertAfter(k),k.detach()),a.css({position:"",top:"",width:"",bottom:""}).removeClass(j),n=!0),u=a.offset().top-(parseInt(a.css("margin-top"),10)||0)-_,d=a.outerHeight(!0),f=a.css("float"),k&&k.css({width:a.outerWidth(!0),height:d,display:a.css("display"),"vertical-align":a.css("vertical-align"),float:f}),n?i():void 0})(),d!==c)return g=void 0,y=_,x=E,i=function(){var e,t,n,i,r,o;if(!h)return n=!1,null!=x&&--x<=0&&(x=E,w(),n=!0),n||C.height()===v||(w(),n=!0),i=P.scrollTop(),null!=g&&(t=i-g),g=i,m?($&&(r=c+l<i+d+y,p&&!r&&(p=!1,a.css({position:"fixed",bottom:"",top:y}).trigger("sticky_kit:unbottom"))),i<u&&(m=!1,y=_,null==S&&("left"!==f&&"right"!==f||a.insertAfter(k),k.detach()),e={position:"",width:"",top:""},a.css(e).removeClass(j).trigger("sticky_kit:unstick")),T&&(o=P.height())<d+_&&(p||(y-=t,y=Math.max(o-d,y),y=Math.min(_,y),m&&a.css({top:y+"px"})))):u<i&&(m=!0,(e={position:"fixed",top:y}).width="border-box"===a.css("box-sizing")?a.outerWidth()+"px":a.width()+"px",a.css(e).addClass(j),null==S&&(a.after(k),"left"!==f&&"right"!==f||k.append(a)),a.trigger("sticky_kit:stick")),m&&$&&(null==r&&(r=c+l<i+d+y),!p&&r)?(p=!0,"static"===b.css("position")&&b.css({position:"relative"}),a.css({position:"absolute",bottom:s,top:"auto"}).trigger("sticky_kit:bottom")):void 0},t=function(){return w(),i()},e=function(){if(h=!0,P.off("touchmove",i),P.off("scroll",i),P.off("resize",t),I(document.body).off("sticky_kit:recalc",t),a.off("sticky_kit:detach",e),a.removeData("sticky_kit"),a.css({position:"",bottom:"",top:"",width:""}),b.position("position",""),m)return null==S&&("left"!==f&&"right"!==f||a.insertAfter(k),k.remove()),a.removeClass(j)},P.on("touchmove",i),P.on("scroll",i),P.on("resize",t),I(document.body).on("sticky_kit:recalc",t),a.on("sticky_kit:detach",e),setTimeout(i,0)}},i=0,r=this.length;i<r;i++)t=this[i],n(I(t));return this}}).call(this)},function(e,t){var a;(a=jQuery).fn.ellipsis=function(o){var e=document.documentElement.style;return"textOverflow"in e||"OTextOverflow"in e?this:this.each(function(){var e=a(this);if("hidden"==e.css("overflow")){var t=e.html(),n=(e.width(),a(this.cloneNode(!0)).hide().css({position:"absolute",width:"auto",overflow:"visible","max-width":"inherit"}));e.after(n);for(var i,r=t;0<r.length&&n.width()>e.width();)r=r.substr(0,r.length-1),n.html(r+"...");e.html(n.html()),n.remove(),1==o&&(i=e.width(),setInterval(function(){e.width()!=i&&(i=e.width(),e.html(t),e.ellipsis())},200))}})}},function(e,t){function c(e,t,n,i){var r={data:i||0===i||!1===i?i:t?t.data:{},_wrap:t?t._wrap:null,tmpl:null,parent:t||null,nodes:[],calls:u,nest:f,wrap:h,html:p,update:m};return e&&g.extend(r,e,{nodes:[],parent:t}),n&&(r.tmpl=n,r._ctnt=r._ctnt||r.tmpl(g,r),r.key=++C,(T.length?x:w)[C]=r),r}function a(t,e,n){var r,i=n?g.map(n,function(e){return"string"==typeof e?t.key?e.replace(/(<\w+)(?=[\s>])(?![^>]*_tmplitem)([^>]*)/g,"$1 "+b+'="'+t.key+'" $2'):e:a(e,t,e._ctnt)}):t;return e?i:((i=i.join("")).replace(/^\s*([^<\s][^<]*)?(<[\w\W]+>)([^>]*[^>\s])?\s*$/,function(e,t,n,i){l(r=g(n).get()),t&&(r=o(t).concat(r)),i&&(r=r.concat(o(i)))}),r||o(i))}function o(e){var t=document.createElement("div");return t.innerHTML=e,g.makeArray(t.childNodes)}function n(e){return new Function("jQuery","$item","var $=jQuery,call,__=[],$data=$item.data;with($data){__.push('"+g.trim(e).replace(/([\\'])/g,"\\$1").replace(/[\r\t\n]/g," ").replace(/\$\{([^\}]*)\}/g,"{{= $1}}").replace(/\{\{(\/?)(\w+|.)(?:\(((?:[^\}]|\}(?!\}))*?)?\))?(?:\s+(.*?)?)?(\(((?:[^\}]|\}(?!\}))*?)\))?\s*\}\}/g,function(e,t,n,i,r,o,a){var s,l,c,u=g.tmpl.tag[n];if(!u)throw"Unknown template tag: "+n;return s=u._default||[],o&&!/\w$/.test(r)&&(r+=o,o=""),c=r?(r=d(r),a=a?","+d(a)+")":o?")":"",l=o?-1<r.indexOf(".")?r+d(o):"("+r+").call($item"+a:r,o?l:"(typeof("+r+")==='function'?("+r+").call($item):("+r+"))"):l=s.$1||"null",i=d(i),"');"+u[t?"close":"open"].split("$notnull_1").join(r?"typeof("+r+")!=='undefined' && ("+r+")!=null":"true").split("$1a").join(c).split("$1").join(l).split("$2").join(i||s.$2||"")+"__.push('"})+"');}return __;")}function s(e,t){e._wrap=a(e,!0,g.isArray(t)?t:[i.test(t)?t:g(t).html()]).join("")}function d(e){return e?e.replace(/\\'/g,"'").replace(/\\\\/g,"\\"):null}function l(e){for(var t,n,i,s="_"+$,l={},r=0,o=e.length;r<o;r++)if(1===(t=e[r]).nodeType){for(i=(n=t.getElementsByTagName("*")).length-1;0<=i;i--)a(n[i]);a(t)}function a(e){var t,n,i,r,o=e;if(r=e.getAttribute(b)){for(;o.parentNode&&1===(o=o.parentNode).nodeType&&!(t=o.getAttribute(b)););t!==r&&(o=o.parentNode&&11!==o.nodeType&&o.getAttribute(b)||0,(i=w[r])||((i=c(i=x[r],w[o]||x[o])).key=++C,w[C]=i),$&&a(r)),e.removeAttribute(b)}else $&&(i=g.data(e,"tmplItem"))&&(a(i.key),w[i.key]=i,o=(o=g.data(e.parentNode,"tmplItem"))?o.key:0);if(i){for(n=i;n&&n.key!=o;)n.nodes.push(e),n=n.parent;delete i._ctnt,delete i._wrap,g.data(e,"tmplItem",i)}function a(e){i=l[e+=s]=l[e]||c(i,w[i.parent.key+s]||i.parent)}}}function u(e,t,n,i){if(!e)return T.pop();T.push({_:e,tmpl:t,item:this,data:n,options:i})}function f(e,t,n){return g.tmpl(g.template(e),t,n,this)}function h(e,t){var n=e.options||{};return n.wrapped=t,g.tmpl(g.template(e.tmpl),e.data,n,e.item)}function p(e,i){var t=this._wrap;return g.map(g(g.isArray(t)?t.join(""):t).filter(e||"*"),function(e){return i?e.innerText||e.textContent:e.outerHTML||(t=e,(n=document.createElement("div")).appendChild(t.cloneNode(!0)),n.innerHTML);var t,n})}function m(){var e=this.nodes;g.tmpl(null,null,null,this).insertBefore(e[0]),g(e).remove()}
/*!
 * jQuery Templates Plugin 1.0.0pre
 * http://github.com/jquery/jquery-tmpl
 * Requires jQuery 1.4.2
 *
 * Copyright Software Freedom Conservancy, Inc.
 * Dual licensed under the MIT or GPL Version 2 licenses.
 * http://jquery.org/license
 */
var g,v,y,b,i,w,x,k,C,$,T;g=jQuery,y=g.fn.domManip,b="_tmplitem",i=/^[^<]*(<[\w\W]+>)[^>]*$|\{\{\! /,w={},x={},k={key:0,data:{}},$=C=0,T=[],g.each({appendTo:"append",prependTo:"prepend",insertBefore:"before",insertAfter:"after",replaceAll:"replaceWith"},function(l,c){g.fn[l]=function(e){var t,n,i,r,o=[],a=g(e),s=1===this.length&&this[0].parentNode;if(v=w||{},s&&11===s.nodeType&&1===s.childNodes.length&&1===a.length)a[c](this[0]),o=this;else{for(n=0,i=a.length;n<i;n++)t=(0<($=n)?this.clone(!0):this).get(),g(a[n])[c](t),o=o.concat(t);$=0,o=this.pushStack(o,l,a.selector)}return r=v,v=null,g.tmpl.complete(r),o}}),g.fn.extend({tmpl:function(e,t,n){return g.tmpl(this[0],e,t,n)},tmplItem:function(){return g.tmplItem(this[0])},template:function(e){return g.template(e,this[0])},domManip:function(e,t,n,i){if(e[0]&&g.isArray(e[0])){for(var r,o=g.makeArray(arguments),a=e[0],s=a.length,l=0;l<s&&!(r=g.data(a[l++],"tmplItem")););r&&$&&(o[2]=function(e){g.tmpl.afterManip(this,e,n)}),y.apply(this,o)}else y.apply(this,arguments);return $=0,v||g.tmpl.complete(w),this}}),g.extend({tmpl:function(t,e,n,i){var r,o=!i;if(o)i=k,t=g.template[t]||g.template(null,t),x={};else if(!t)return t=i.tmpl,(w[i.key]=i).nodes=[],i.wrapped&&s(i,i.wrapped),g(a(i,null,i.tmpl(g,i)));return t?("function"==typeof e&&(e=e.call(i||{})),n&&n.wrapped&&s(n,n.wrapped),r=g.isArray(e)?g.map(e,function(e){return e?c(n,i,t,e):null}):[c(n,i,t,e)],o?g(a(i,null,r)):r):[]},tmplItem:function(e){var t;for(e instanceof g&&(e=e[0]);e&&1===e.nodeType&&!(t=g.data(e,"tmplItem"))&&(e=e.parentNode););return t||k},template:function(e,t){return t?("string"==typeof t?t=n(t):t instanceof g&&(t=t[0]||{}),t.nodeType&&(t=g.data(t,"tmpl")||g.data(t,"tmpl",n(t.innerHTML))),"string"==typeof e?g.template[e]=t:t):e?"string"!=typeof e?g.template(null,e):g.template[e]||g.template(null,i.test(e)?e:g(e)):null},encode:function(e){return(""+e).split("<").join("&lt;").split(">").join("&gt;").split('"').join("&#34;").split("'").join("&#39;")}}),g.extend(g.tmpl,{tag:{tmpl:{_default:{$2:"null"},open:"if($notnull_1){__=__.concat($item.nest($1,$2));}"},wrap:{_default:{$2:"null"},open:"$item.calls(__,$1,$2);__=[];",close:"call=$item.calls();__=call._.concat($item.wrap(call,__));"},each:{_default:{$2:"$index, $value"},open:"if($notnull_1){$.each($1a,function($2){with(this){",close:"}});}"},if:{open:"if(($notnull_1) && $1a){",close:"}"},else:{_default:{$1:"true"},open:"}else if(($notnull_1) && $1a){"},html:{open:"if($notnull_1){__.push($1a);}"},"=":{_default:{$1:"$data"},open:"if($notnull_1){__.push($.encode($1a));}"},"!":{open:""}},complete:function(){w={}},afterManip:function(e,t,n){var i=11===t.nodeType?g.makeArray(t.childNodes):1===t.nodeType?[t]:[];n.call(e,t),l(i),$++}})},function(e,t){var n;(n=jQuery).fn.touchwipe=function(e){var c={min_move_x:20,min_move_y:20,wipeLeft:function(){},wipeRight:function(){},wipeUp:function(){},wipeDown:function(){},preventDefaultEvents:!0};return e&&n.extend(c,e),this.each(function(){var o,a,s=!1;function l(){this.removeEventListener("touchmove",t),o=null,s=!1}function t(e){var t,n,i,r;c.preventDefaultEvents&&e.preventDefault(),s&&(t=e.touches[0].pageX,n=e.touches[0].pageY,i=o-t,r=a-n,Math.abs(i)>=c.min_move_x?(l(),0<i?c.wipeLeft():c.wipeRight()):Math.abs(r)>=c.min_move_y&&(l(),0<r?c.wipeDown():c.wipeUp()))}"ontouchstart"in document.documentElement&&this.addEventListener("touchstart",function(e){1==e.touches.length&&(o=e.touches[0].pageX,a=e.touches[0].pageY,s=!0,this.addEventListener("touchmove",t,!1))},!1)}),this}},function(e,t){
/*!
Waypoints - 4.0.1
Copyright © 2011-2016 Caleb Troughton
Licensed under the MIT license.
https://github.com/imakewebthings/waypoints/blob/master/licenses.txt
*/
!function(){"use strict";var t=0,o={};function n(e){if(!e)throw new Error("No options passed to Waypoint constructor");if(!e.element)throw new Error("No element option passed to Waypoint constructor");if(!e.handler)throw new Error("No handler option passed to Waypoint constructor");this.key="waypoint-"+t,this.options=n.Adapter.extend({},n.defaults,e),this.element=this.options.element,this.adapter=new n.Adapter(this.element),this.callback=e.handler,this.axis=this.options.horizontal?"horizontal":"vertical",this.enabled=this.options.enabled,this.triggerPoint=null,this.group=n.Group.findOrCreate({name:this.options.group,axis:this.axis}),this.context=n.Context.findOrCreateByElement(this.options.context),n.offsetAliases[this.options.offset]&&(this.options.offset=n.offsetAliases[this.options.offset]),this.group.add(this),this.context.add(this),o[this.key]=this,t+=1}n.prototype.queueTrigger=function(e){this.group.queueTrigger(this,e)},n.prototype.trigger=function(e){this.enabled&&this.callback&&this.callback.apply(this,e)},n.prototype.destroy=function(){this.context.remove(this),this.group.remove(this),delete o[this.key]},n.prototype.disable=function(){return this.enabled=!1,this},n.prototype.enable=function(){return this.context.refresh(),this.enabled=!0,this},n.prototype.next=function(){return this.group.next(this)},n.prototype.previous=function(){return this.group.previous(this)},n.invokeAll=function(e){var t,n=[];for(t in o)n.push(o[t]);for(var i=0,r=n.length;i<r;i++)n[i][e]()},n.destroyAll=function(){n.invokeAll("destroy")},n.disableAll=function(){n.invokeAll("disable")},n.enableAll=function(){for(var e in n.Context.refreshAll(),o)o[e].enabled=!0;return this},n.refreshAll=function(){n.Context.refreshAll()},n.viewportHeight=function(){return window.innerHeight||document.documentElement.clientHeight},n.viewportWidth=function(){return document.documentElement.clientWidth},n.adapters=[],n.defaults={context:window,continuous:!0,enabled:!0,group:"default",horizontal:!1,offset:0},n.offsetAliases={"bottom-in-view":function(){return this.context.innerHeight()-this.adapter.outerHeight()},"right-in-view":function(){return this.context.innerWidth()-this.adapter.outerWidth()}},window.Waypoint=n}(),function(){"use strict";function t(e){window.setTimeout(e,1e3/60)}var n=0,i={},g=window.Waypoint,e=window.onload;function r(e){this.element=e,this.Adapter=g.Adapter,this.adapter=new this.Adapter(e),this.key="waypoint-context-"+n,this.didScroll=!1,this.didResize=!1,this.oldScroll={x:this.adapter.scrollLeft(),y:this.adapter.scrollTop()},this.waypoints={vertical:{},horizontal:{}},e.waypointContextKey=this.key,i[e.waypointContextKey]=this,n+=1,g.windowContext||(g.windowContext=!0,g.windowContext=new r(window)),this.createThrottledScrollHandler(),this.createThrottledResizeHandler()}r.prototype.add=function(e){var t=e.options.horizontal?"horizontal":"vertical";this.waypoints[t][e.key]=e,this.refresh()},r.prototype.checkEmpty=function(){var e=this.Adapter.isEmptyObject(this.waypoints.horizontal),t=this.Adapter.isEmptyObject(this.waypoints.vertical),n=this.element==this.element.window;e&&t&&!n&&(this.adapter.off(".waypoints"),delete i[this.key])},r.prototype.createThrottledResizeHandler=function(){var e=this;function t(){e.handleResize(),e.didResize=!1}this.adapter.on("resize.waypoints",function(){e.didResize||(e.didResize=!0,g.requestAnimationFrame(t))})},r.prototype.createThrottledScrollHandler=function(){var e=this;function t(){e.handleScroll(),e.didScroll=!1}this.adapter.on("scroll.waypoints",function(){e.didScroll&&!g.isTouch||(e.didScroll=!0,g.requestAnimationFrame(t))})},r.prototype.handleResize=function(){g.Context.refreshAll()},r.prototype.handleScroll=function(){var e,t,n={},i={horizontal:{newScroll:this.adapter.scrollLeft(),oldScroll:this.oldScroll.x,forward:"right",backward:"left"},vertical:{newScroll:this.adapter.scrollTop(),oldScroll:this.oldScroll.y,forward:"down",backward:"up"}};for(e in i){var r,o=i[e],a=o.newScroll>o.oldScroll?o.forward:o.backward;for(r in this.waypoints[e]){var s,l,c=this.waypoints[e][r];null!==c.triggerPoint&&(s=o.oldScroll<c.triggerPoint,l=o.newScroll>=c.triggerPoint,(s&&l||!s&&!l)&&(c.queueTrigger(a),n[c.group.id]=c.group))}}for(t in n)n[t].flushTriggers();this.oldScroll={x:i.horizontal.newScroll,y:i.vertical.newScroll}},r.prototype.innerHeight=function(){return this.element==this.element.window?g.viewportHeight():this.adapter.innerHeight()},r.prototype.remove=function(e){delete this.waypoints[e.axis][e.key],this.checkEmpty()},r.prototype.innerWidth=function(){return this.element==this.element.window?g.viewportWidth():this.adapter.innerWidth()},r.prototype.destroy=function(){var e,t=[];for(e in this.waypoints)for(var n in this.waypoints[e])t.push(this.waypoints[e][n]);for(var i=0,r=t.length;i<r;i++)t[i].destroy()},r.prototype.refresh=function(){var e,t,n=this.element==this.element.window,i=n?void 0:this.adapter.offset(),r={};for(t in this.handleScroll(),e={horizontal:{contextOffset:n?0:i.left,contextScroll:n?0:this.oldScroll.x,contextDimension:this.innerWidth(),oldScroll:this.oldScroll.x,forward:"right",backward:"left",offsetProp:"left"},vertical:{contextOffset:n?0:i.top,contextScroll:n?0:this.oldScroll.y,contextDimension:this.innerHeight(),oldScroll:this.oldScroll.y,forward:"down",backward:"up",offsetProp:"top"}}){var o,a=e[t];for(o in this.waypoints[t]){var s,l,c,u,d=this.waypoints[t][o],f=d.options.offset,h=d.triggerPoint,p=0,m=null==h;d.element!==d.element.window&&(p=d.adapter.offset()[a.offsetProp]),"function"==typeof f?f=f.apply(d):"string"==typeof f&&(f=parseFloat(f),-1<d.options.offset.indexOf("%")&&(f=Math.ceil(a.contextDimension*f/100))),s=a.contextScroll-a.contextOffset,d.triggerPoint=Math.floor(p+s-f),l=h<a.oldScroll,c=d.triggerPoint>=a.oldScroll,u=!l&&!c,!m&&(l&&c)?(d.queueTrigger(a.backward),r[d.group.id]=d.group):(!m&&u||m&&a.oldScroll>=d.triggerPoint)&&(d.queueTrigger(a.forward),r[d.group.id]=d.group)}}return g.requestAnimationFrame(function(){for(var e in r)r[e].flushTriggers()}),this},r.findOrCreateByElement=function(e){return r.findByElement(e)||new r(e)},r.refreshAll=function(){for(var e in i)i[e].refresh()},r.findByElement=function(e){return i[e.waypointContextKey]},window.onload=function(){e&&e(),r.refreshAll()},g.requestAnimationFrame=function(e){(window.requestAnimationFrame||window.mozRequestAnimationFrame||window.webkitRequestAnimationFrame||t).call(window,e)},g.Context=r}(),function(){"use strict";function a(e,t){return e.triggerPoint-t.triggerPoint}function s(e,t){return t.triggerPoint-e.triggerPoint}var t={vertical:{},horizontal:{}},n=window.Waypoint;function i(e){this.name=e.name,this.axis=e.axis,this.id=this.name+"-"+this.axis,this.waypoints=[],this.clearTriggerQueues(),t[this.axis][this.name]=this}i.prototype.add=function(e){this.waypoints.push(e)},i.prototype.clearTriggerQueues=function(){this.triggerQueues={up:[],down:[],left:[],right:[]}},i.prototype.flushTriggers=function(){for(var e in this.triggerQueues){var t=this.triggerQueues[e],n="up"===e||"left"===e;t.sort(n?s:a);for(var i=0,r=t.length;i<r;i+=1){var o=t[i];!o.options.continuous&&i!==t.length-1||o.trigger([e])}}this.clearTriggerQueues()},i.prototype.next=function(e){this.waypoints.sort(a);var t=n.Adapter.inArray(e,this.waypoints);return t===this.waypoints.length-1?null:this.waypoints[t+1]},i.prototype.previous=function(e){this.waypoints.sort(a);var t=n.Adapter.inArray(e,this.waypoints);return t?this.waypoints[t-1]:null},i.prototype.queueTrigger=function(e,t){this.triggerQueues[t].push(e)},i.prototype.remove=function(e){var t=n.Adapter.inArray(e,this.waypoints);-1<t&&this.waypoints.splice(t,1)},i.prototype.first=function(){return this.waypoints[0]},i.prototype.last=function(){return this.waypoints[this.waypoints.length-1]},i.findOrCreate=function(e){return t[e.axis][e.name]||new i(e)},n.Group=i}(),function(){"use strict";var n=window.jQuery,e=window.Waypoint;function i(e){this.$element=n(e)}n.each(["innerHeight","innerWidth","off","offset","on","outerHeight","outerWidth","scrollLeft","scrollTop"],function(e,t){i.prototype[t]=function(){var e=Array.prototype.slice.call(arguments);return this.$element[t].apply(this.$element,e)}}),n.each(["extend","inArray","isEmptyObject"],function(e,t){i[t]=n[t]}),e.adapters.push({name:"jquery",Adapter:i}),e.Adapter=i}(),function(){"use strict";var r=window.Waypoint;function e(i){return function(){var t=[],n=arguments[0];return i.isFunction(arguments[0])&&((n=i.extend({},arguments[1])).handler=arguments[0]),this.each(function(){var e=i.extend({},n,{element:this});"string"==typeof e.context&&(e.context=i(this).closest(e.context)[0]),t.push(new r(e))}),t}}window.jQuery&&(window.jQuery.fn.waypoint=e(window.jQuery)),window.Zepto&&(window.Zepto.fn.waypoint=e(window.Zepto))}()},function(e,t){
/*!
Waypoints Inview Shortcut - 4.0.1
Copyright © 2011-2016 Caleb Troughton
Licensed under the MIT license.
https://github.com/imakewebthings/waypoints/blob/master/licenses.txt
*/
!function(){"use strict";function e(){}var i=window.Waypoint;function t(e){this.options=i.Adapter.extend({},t.defaults,e),this.axis=this.options.horizontal?"horizontal":"vertical",this.waypoints=[],this.element=this.options.element,this.createWaypoints()}t.prototype.createWaypoints=function(){for(var e={vertical:[{down:"enter",up:"exited",offset:"100%"},{down:"entered",up:"exit",offset:"bottom-in-view"},{down:"exit",up:"entered",offset:0},{down:"exited",up:"enter",offset:function(){return-this.adapter.outerHeight()}}],horizontal:[{right:"enter",left:"exited",offset:"100%"},{right:"entered",left:"exit",offset:"right-in-view"},{right:"exit",left:"entered",offset:0},{right:"exited",left:"enter",offset:function(){return-this.adapter.outerWidth()}}]},t=0,n=e[this.axis].length;t<n;t++){var i=e[this.axis][t];this.createWaypoint(i)}},t.prototype.createWaypoint=function(e){var t,n=this;this.waypoints.push(new i({context:this.options.context,element:this.options.element,enabled:this.options.enabled,handler:function(e){n.options[t[e]].call(n,e)},offset:(t=e).offset,horizontal:this.options.horizontal}))},t.prototype.destroy=function(){for(var e=0,t=this.waypoints.length;e<t;e++)this.waypoints[e].destroy();this.waypoints=[]},t.prototype.disable=function(){for(var e=0,t=this.waypoints.length;e<t;e++)this.waypoints[e].disable()},t.prototype.enable=function(){for(var e=0,t=this.waypoints.length;e<t;e++)this.waypoints[e].enable()},t.defaults={context:window,enabled:!0,enter:e,entered:e,exit:e,exited:e},i.Inview=t}()},function(e,t){function s(e,t){this.$el=l(e),this.options=l.extend(!0,{},this.defaults,t),this._init()}var l,c,u;l=jQuery,c="bgAnimate",u="undefined"==typeof console?function(){}:function(e){console.error(e)},s.prototype={defaults:{myCallback:null,width:1400,height:788,frames:null,reverse:!1},_init:function(){this.$window=l(window),this.$document=l(document),null!==this.options.frames&&(this.animation=this.sprite(),window.requestAnimationFrame(this._animationLoop.bind(this)))},_animationLoop:function(){window.requestAnimationFrame(this._animationLoop.bind(this)),this.animation.update(),this.animation.render()},_bindings:function(){},sprite:function(){var e=this,t={},n=0,i=0,r=e.options.frames,o=e.options.frames.length||1,a=e.options.height,s=e.options.reverse,l=!1;return t.update=function(){(i+=1)>r[n]&&(i=0,n<o-1?l?0==n?(l=!1,n+=1):--n:n+=1:s?(l=!0,--n):n=0)},t.render=function(){e.$el.css("background-position","0 "+-n*a+"px")},t},refresh:function(){},destroy:function(){this.$window.off("resize."+c,this._resizeDelegate)},option:function(e){l.isPlainObject(e)&&(this.options=l.extend(!0,this.options,e))}},l.fn[c]=function(t){if("string"!=typeof t)return this.each(function(){var e=l.data(this,c);e?(e.option(t||{}),e._init()):(e=new s(this,t),l.data(this,c,e))});for(var e=Array.prototype.slice.call(arguments,1),n=0,i=this.length;n<i;n++){var r=this[n],o=l.data(r,c);if(o)if(l.isFunction(o[t])&&"_"!==t.charAt(0)){var a=o[t].apply(o,e);if(void 0!==a)return a}else u("no such method '"+t+"' for "+c+" instance");else u("cannot call methods on "+c+" prior to initialization; attempted to call '"+t+"'")}return this}},function(e,t){var p;(p=jQuery).fn.popmenu=function(e){var a;return p(this).each(function(){var e,t,h=p(this),r=null,o=!1,n="#"+h.data("popmenu-id");function i(f){var e=h.data("popmenu-direction");function t(e){var t;o=!1,i(t=e,h)||f.is(":visible")&&i(t,f)?n():n()}function n(){setTimeout(function(){f.hide().removeClass("popmenu-n").removeClass("popmenu-s").removeClass("popmenu-w").removeClass("popmenu-e")},50)}function i(e,t){if(null!=t&&0!==t.length){var n=t.offset(),i=n.left,r=n.top,o=n.left+t.outerWidth(),a=n.top+t.outerHeight();return!(e.pageX<=i||e.pageX>=o||e.pageY<=r||e.pageY>=a)}}a="n"==e||"s"==e||"w"==e?{direction:e}:{direction:"e"},f.append('<span class="popmenu-arrow ir"></span>').appendTo(p("body")),h.data("opts",a),h.bind("click",function(e){e.preventDefault(),f.is(":visible")?n():(r&&(clearTimeout(r),r=null),function(){var e,t,n,i,r=h.offset(),o=h.data("opts").direction;f.addClass("popmenu-"+o);var a=h.outerWidth(),s=h.outerHeight(),l=f.outerWidth(),c=f.outerHeight(),u=p(window).outerWidth(),d=p(window).outerHeight();"e"!=o&&"w"!=o||(e="auto",t=d-r.top-c+8);"e"==o&&(i=r.left+a,n="auto");"w"==o&&(i="auto",n=u-r.left);"n"!=o&&"s"!=o||(n="auto",i=r.left+a/2-l/2);"n"==o&&(e="auto",t=d-r.top);"s"==o&&(e=r.top+s,t="auto");f.css({left:i,right:n,top:e,bottom:t}).show()}())}),h.mouseleave(function(){null===r&&(r=setTimeout(function(){r=null,o||n()},500))}),f.mouseenter(function(){o=!0,r&&(clearTimeout(r),r=null)}),f.mouseleave(t),f.find("a,.popmenu-close").click(t)}p(n).length?i(p(n)):(e=1,t=setInterval(function(){30<e?(clearInterval(t),console.error("lb.popmenu.js : ERROR - Unable to find the popmenu-id "+n)):p(n).length&&(clearInterval(t),i(p(n))),e+=1},100))})}},function(e,t){var d;(d=jQuery).fn.selectmenu=function(e){return d(this).each(function(){var t=d(this),e=t.find("label"),n=e.data("heading")?e.data("heading")+'<i class="ir s icon"></i>':function(e){var t=e.text(),n=t.replace("subscription","sub").substring(0,19);t!==n&&(n=n.trim()+"…");return e.html().replace(t,n)}(e),i=t.find("ul.smenu-menu").prepend(d('<li class="smenu-selected">'+n+"</li>")),r=null,o=!1,a=!1;d(this).children("label").hasClass("-lower")&&i.children(".smenu-selected").addClass("-lower"),d(this).children("label").hasClass("-bold")&&i.children(".smenu-selected").addClass("-bold"),i.appendTo(d("body"));var s=e.find(".js-smenu-label");function l(){var e=t.offset();i.css({left:e.left,top:e.top}).show()}function c(e){o=!1,u()}function u(){setTimeout(function(){i.hide()},50)}i.on("ajax-success",".ajax-click-action",function(e,t,n,i){var r,o,a;t&&t.messages&&bxd.showMessages(t.result?"success":"error",t.messages),t&&t.result&&(1==(o=(r=d(this).parent()).siblings(".smenu-subselected")).length&&(o.removeClass("smenu-subselected"),r.addClass("smenu-subselected"),(a=r.data("label"))&&s.text(a)))}),window.isTouchOnly?(t.on("click",function(){d(".smenu-menu:visible").hide(),a=!0,r&&(clearTimeout(r),r=null),setTimeout(function(){a&&l()},500)}),i.find(".smenu-selected").click(c)):(t.mouseenter(function(){a=!0,r&&(clearTimeout(r),r=null),setTimeout(function(){a&&l()},500)}),t.mouseleave(function(){a=!1,null===r&&(r=setTimeout(function(){r=null,o||u()},500))})),i.mouseenter(function(){o=!0,r&&(clearTimeout(r),r=null)}),i.mouseleave(c),i.find("a").click(c)})}},function(e,t){},function(e,t,n){var i,r,o,a,s,l,c,u,d,f,h,p,m,g,v,y,b;
/*!
 * Masonry PACKAGED v4.2.2
 * Cascading grid layout library
 * https://masonry.desandro.com
 * MIT License
 * by David DeSandro
 */
y=window,g=[n(18)],void 0===(v=function(e){return function(e,t){"use strict";var o=Array.prototype.slice,n=e.console,d=typeof n=="undefined"?function(){}:function(e){n.error(e)};function i(c,r,u){u=u||t||e.jQuery;if(!u){return}if(!r.prototype.option){r.prototype.option=function(e){if(!u.isPlainObject(e)){return}this.options=u.extend(true,this.options,e)}}u.fn[c]=function(e){if(typeof e=="string"){var t=o.call(arguments,1);return n(this,e,t)}i(this,e);return this};function n(e,o,a){var s;var l="$()."+c+'("'+o+'")';e.each(function(e,t){var n=u.data(t,c);if(!n){d(c+" not initialized. Cannot call methods, i.e. "+l);return}var i=n[o];if(!i||o.charAt(0)=="_"){d(l+" is not a valid method");return}var r=i.apply(n,a);s=s===undefined?r:s});return s!==undefined?s:e}function i(e,i){e.each(function(e,t){var n=u.data(t,c);if(n){n.option(i);n._init()}else{n=new r(t,i);u.data(t,c,n)}})}a(u)}function a(e){if(!e||e&&e.bridget){return}e.bridget=i}return a(t||e.jQuery),i}(y,e)}.apply(t,g))||(e.exports=v),o={id:"ev-emitter/ev-emitter",exports:{},loaded:!(r=function(){function e(){}var t=e.prototype;return t.on=function(e,t){if(e&&t){var n=this._events=this._events||{},i=n[e]=n[e]||[];return-1==i.indexOf(t)&&i.push(t),this}},t.once=function(e,t){if(e&&t){this.on(e,t);var n=this._onceEvents=this._onceEvents||{};return(n[e]=n[e]||{})[t]=!0,this}},t.off=function(e,t){var n=this._events&&this._events[e];if(n&&n.length){var i=n.indexOf(t);return-1!=i&&n.splice(i,1),this}},t.emitEvent=function(e,t){var n=this._events&&this._events[e];if(n&&n.length){n=n.slice(0),t=t||[];for(var i=this._onceEvents&&this._onceEvents[e],r=0;r<n.length;r++){var o=n[r];i&&i[o]&&(this.off(e,o),delete i[o]),o.apply(this,t)}return this}},t.allOff=function(){delete this._events,delete this._onceEvents},e})},i="function"==typeof r?r.call(o.exports,n,o.exports,o):r,o.loaded=!0,void 0!==i||(i=o.exports),window,l={id:"get-size/get-size",exports:{},loaded:!(s=function(){"use strict";function v(e){var t=parseFloat(e);var n=e.indexOf("%")==-1&&!isNaN(t);return n&&t}function e(){}var n=typeof console=="undefined"?e:function(e){console.error(e)},y=["paddingLeft","paddingRight","paddingTop","paddingBottom","marginLeft","marginRight","marginTop","marginBottom","borderLeftWidth","borderRightWidth","borderTopWidth","borderBottomWidth"],b=y.length;function w(){var e={width:0,height:0,innerWidth:0,innerHeight:0,outerWidth:0,outerHeight:0};for(var t=0;t<b;t++){var n=y[t];e[n]=0}return e}function x(e){var t=getComputedStyle(e);if(!t){n("Style returned "+t+". Are you running this code in a hidden iframe on Firefox? "+"See https://bit.ly/getsizebug1")}return t}var i=false,k;function C(){if(i){return}i=true;var e=document.createElement("div");e.style.width="200px";e.style.padding="1px 2px 3px 4px";e.style.borderStyle="solid";e.style.borderWidth="1px 2px 3px 4px";e.style.boxSizing="border-box";var t=document.body||document.documentElement;t.appendChild(e);var n=x(e);k=Math.round(v(n.width))==200;r.isBoxSizeOuter=k;t.removeChild(e)}function r(e){C();if(typeof e=="string"){e=document.querySelector(e)}if(!e||typeof e!="object"||!e.nodeType){return}var t=x(e);if(t.display=="none"){return w()}var n={};n.width=e.offsetWidth;n.height=e.offsetHeight;var i=n.isBorderBox=t.boxSizing=="border-box";for(var r=0;r<b;r++){var o=y[r];var a=t[o];var s=parseFloat(a);n[o]=!isNaN(s)?s:0}var l=n.paddingLeft+n.paddingRight;var c=n.paddingTop+n.paddingBottom;var u=n.marginLeft+n.marginRight;var d=n.marginTop+n.marginBottom;var f=n.borderLeftWidth+n.borderRightWidth;var h=n.borderTopWidth+n.borderBottomWidth;var p=i&&k;var m=v(t.width);if(m!==false){n.width=m+(p?0:l+f)}var g=v(t.height);if(g!==false){n.height=g+(p?0:c+h)}n.innerWidth=n.width-(l+f);n.innerHeight=n.height-(c+h);n.outerWidth=n.width+u;n.outerHeight=n.height+d;return n}return r})},a="function"==typeof s?s.call(l.exports,n,l.exports,l):s,l.loaded=!0,void 0!==a||(a=l.exports),function(){"use strict";d={id:"desandro-matches-selector/matches-selector",exports:{},loaded:!(u=function(){"use strict";var i=function(){var e=window.Element.prototype;if(e.matches){return"matches"}if(e.matchesSelector){return"matchesSelector"}var t=["webkit","moz","ms","o"];for(var n=0;n<t.length;n++){var i=t[n];var r=i+"MatchesSelector";if(e[r]){return r}}}();return function e(t,n){return t[i](n)}})},c="function"==typeof u?u.call(d.exports,n,d.exports,d):u,d.loaded=!0,void 0!==c||(c=d.exports)}(window),b=window,f=function(e){return function(c,o){var u={extend:function(e,t){for(var n in t){e[n]=t[n]}return e},modulo:function(e,t){return(e%t+t)%t}},n=Array.prototype.slice;u.makeArray=function(e){if(Array.isArray(e)){return e}if(e===null||e===undefined){return[]}var t=typeof e=="object"&&typeof e.length=="number";if(t){return n.call(e)}return[e]},u.removeFrom=function(e,t){var n=e.indexOf(t);if(n!=-1){e.splice(n,1)}},u.getParent=function(e,t){while(e.parentNode&&e!=document.body){e=e.parentNode;if(o(e,t)){return e}}},u.getQueryElement=function(e){if(typeof e=="string"){return document.querySelector(e)}return e},u.handleEvent=function(e){var t="on"+e.type;if(this[t]){this[t](e)}},u.filterFindElements=function(e,i){e=u.makeArray(e);var r=[];e.forEach(function(e){if(!(e instanceof HTMLElement)){return}if(!i){r.push(e);return}if(o(e,i)){r.push(e)}var t=e.querySelectorAll(i);for(var n=0;n<t.length;n++){r.push(t[n])}});return r},u.debounceMethod=function(e,t,i){i=i||100;var r=e.prototype[t];var o=t+"Timeout";e.prototype[t]=function(){var e=this[o];clearTimeout(e);var t=arguments;var n=this;this[o]=setTimeout(function(){r.apply(n,t);delete n[o]},i)}},u.docReady=function(e){var t=document.readyState;if(t=="complete"||t=="interactive"){setTimeout(e)}else{document.addEventListener("DOMContentLoaded",e)}},u.toDashed=function(e){return e.replace(/(.)([A-Z])/g,function(e,t,n){return t+"-"+n}).toLowerCase()};var d=c.console;return u.htmlInit=function(s,l){u.docReady(function(){var e=u.toDashed(l),r="data-"+e,t=document.querySelectorAll("["+r+"]"),n=document.querySelectorAll(".js-"+e),i=u.makeArray(t).concat(u.makeArray(n)),o=r+"-options",a=c.jQuery;i.forEach(function(t){var e,n=t.getAttribute(r)||t.getAttribute(o);try{e=n&&JSON.parse(n)}catch(e){return void(d&&d.error("Error parsing "+r+" on "+t.className+": "+e))}var i=new s(t,e);a&&a.data(t,l,i)})})},u}(b,e)}.apply(t,g=[c]),window,g=[i,a],h="function"==typeof(m=function(e,t){"use strict";function r(e){for(var t in e){return false}t=null;return true}var n=document.documentElement.style,i=typeof n.transition=="string"?"transition":"WebkitTransition",o=typeof n.transform=="string"?"transform":"WebkitTransform",a={WebkitTransition:"webkitTransitionEnd",transition:"transitionend"}[i],s={transform:o,transition:i,transitionDuration:i+"Duration",transitionProperty:i+"Property",transitionDelay:i+"Delay"};function l(e,t){if(!e){return}this.element=e;this.layout=t;this.position={x:0,y:0};this._create()}var c=l.prototype=Object.create(e.prototype);function u(e){return e.replace(/([A-Z])/g,function(e){return"-"+e.toLowerCase()})}c.constructor=l,c._create=function(){this._transn={ingProperties:{},clean:{},onEnd:{}};this.css({position:"absolute"})},c.handleEvent=function(e){var t="on"+e.type;if(this[t]){this[t](e)}},c.getSize=function(){this.size=t(this.element)},c.css=function(e){var t=this.element.style;for(var n in e){var i=s[n]||n;t[i]=e[n]}},c.getPosition=function(){var e=getComputedStyle(this.element);var t=this.layout._getOption("originLeft");var n=this.layout._getOption("originTop");var i=e[t?"left":"right"];var r=e[n?"top":"bottom"];var o=parseFloat(i);var a=parseFloat(r);var s=this.layout.size;if(i.indexOf("%")!=-1){o=o/100*s.width}if(r.indexOf("%")!=-1){a=a/100*s.height}o=isNaN(o)?0:o;a=isNaN(a)?0:a;o-=t?s.paddingLeft:s.paddingRight;a-=n?s.paddingTop:s.paddingBottom;this.position.x=o;this.position.y=a},c.layoutPosition=function(){var e=this.layout.size;var t={};var n=this.layout._getOption("originLeft");var i=this.layout._getOption("originTop");var r=n?"paddingLeft":"paddingRight";var o=n?"left":"right";var a=n?"right":"left";var s=this.position.x+e[r];t[o]=this.getXValue(s);t[a]="";var l=i?"paddingTop":"paddingBottom";var c=i?"top":"bottom";var u=i?"bottom":"top";var d=this.position.y+e[l];t[c]=this.getYValue(d);t[u]="";this.css(t);this.emitEvent("layout",[this])},c.getXValue=function(e){var t=this.layout._getOption("horizontal");return this.layout.options.percentPosition&&!t?e/this.layout.size.width*100+"%":e+"px"},c.getYValue=function(e){var t=this.layout._getOption("horizontal");return this.layout.options.percentPosition&&t?e/this.layout.size.height*100+"%":e+"px"},c._transitionTo=function(e,t){this.getPosition();var n=this.position.x;var i=this.position.y;var r=e==this.position.x&&t==this.position.y;this.setPosition(e,t);if(r&&!this.isTransitioning){this.layoutPosition();return}var o=e-n;var a=t-i;var s={};s.transform=this.getTranslate(o,a);this.transition({to:s,onTransitionEnd:{transform:this.layoutPosition},isCleaning:true})},c.getTranslate=function(e,t){var n=this.layout._getOption("originLeft");var i=this.layout._getOption("originTop");e=n?e:-e;t=i?t:-t;return"translate3d("+e+"px, "+t+"px, 0)"},c.goTo=function(e,t){this.setPosition(e,t);this.layoutPosition()},c.moveTo=c._transitionTo,c.setPosition=function(e,t){this.position.x=parseFloat(e);this.position.y=parseFloat(t)},c._nonTransition=function(e){this.css(e.to);if(e.isCleaning){this._removeStyles(e.to)}for(var t in e.onTransitionEnd){e.onTransitionEnd[t].call(this)}},c.transition=function(e){if(!parseFloat(this.layout.options.transitionDuration)){this._nonTransition(e);return}var t=this._transn;for(var n in e.onTransitionEnd){t.onEnd[n]=e.onTransitionEnd[n]}for(n in e.to){t.ingProperties[n]=true;if(e.isCleaning){t.clean[n]=true}}if(e.from){this.css(e.from);var i=this.element.offsetHeight;i=null}this.enableTransition(e.to);this.css(e.to);this.isTransitioning=true};var d="opacity,"+u(o);c.enableTransition=function(){if(this.isTransitioning){return}var e=this.layout.options.transitionDuration;e=typeof e=="number"?e+"ms":e;this.css({transitionProperty:d,transitionDuration:e,transitionDelay:this.staggerDelay||0});this.element.addEventListener(a,this,false)},c.onwebkitTransitionEnd=function(e){this.ontransitionend(e)},c.onotransitionend=function(e){this.ontransitionend(e)};var f={"-webkit-transform":"transform"};c.ontransitionend=function(e){if(e.target!==this.element){return}var t=this._transn;var n=f[e.propertyName]||e.propertyName;delete t.ingProperties[n];if(r(t.ingProperties)){this.disableTransition()}if(n in t.clean){this.element.style[e.propertyName]="";delete t.clean[n]}if(n in t.onEnd){var i=t.onEnd[n];i.call(this);delete t.onEnd[n]}this.emitEvent("transitionEnd",[this])},c.disableTransition=function(){this.removeTransitionStyles();this.element.removeEventListener(a,this,false);this.isTransitioning=false},c._removeStyles=function(e){var t={};for(var n in e){t[n]=""}this.css(t)};var h={transitionProperty:"",transitionDuration:"",transitionDelay:""};return c.removeTransitionStyles=function(){this.css(h)},c.stagger=function(e){e=isNaN(e)?0:e,this.staggerDelay=e+"ms"},c.removeElem=function(){this.element.parentNode.removeChild(this.element),this.css({display:""}),this.emitEvent("remove",[this])},c.remove=function(){i&&parseFloat(this.layout.options.transitionDuration)?(this.once("transitionEnd",function(){this.removeElem()}),this.hide()):this.removeElem()},c.reveal=function(){delete this.isHidden,this.css({display:""});var e=this.layout.options,t={};t[this.getHideRevealTransitionEndProperty("visibleStyle")]=this.onRevealTransitionEnd,this.transition({from:e.hiddenStyle,to:e.visibleStyle,isCleaning:!0,onTransitionEnd:t})},c.onRevealTransitionEnd=function(){this.isHidden||this.emitEvent("reveal")},c.getHideRevealTransitionEndProperty=function(e){var t,n=this.layout.options[e];if(n.opacity)return"opacity";for(t in n)return t},c.hide=function(){this.isHidden=!0,this.css({display:""});var e=this.layout.options,t={};t[this.getHideRevealTransitionEndProperty("hiddenStyle")]=this.onHideTransitionEnd,this.transition({from:e.visibleStyle,to:e.hiddenStyle,isCleaning:!0,onTransitionEnd:t})},c.onHideTransitionEnd=function(){this.isHidden&&(this.css({display:"none"}),this.emitEvent("hide"))},c.destroy=function(){this.css({position:"",left:"",right:"",top:"",bottom:"",transition:"",transform:""})},l})?m.apply(t,g):m,
/*!
 * Outlayer v2.1.1
 * the brains and guts of a layout library
 * MIT license
 */
function(r){"use strict";p=function(e,t,n,i){return function(e,t,o,a,i){"use strict";var s=e.console,l=e.jQuery,n=function(){},c=0,u={};function r(e,t){var n=a.getQueryElement(e);if(!n){if(s){s.error("Bad element for "+this.constructor.namespace+": "+(n||e))}return}this.element=n;if(l){this.$element=l(this.element)}this.options=a.extend({},this.constructor.defaults);this.option(t);var i=++c;this.element.outlayerGUID=i;u[i]=this;this._create();var r=this._getOption("initLayout");if(r){this.layout()}}r.namespace="outlayer",r.Item=i,r.defaults={containerStyle:{position:"relative"},initLayout:true,originLeft:true,originTop:true,resize:true,resizeContainer:true,transitionDuration:"0.4s",hiddenStyle:{opacity:0,transform:"scale(0.001)"},visibleStyle:{opacity:1,transform:"scale(1)"}};var d=r.prototype;function f(e){function t(){e.apply(this,arguments)}t.prototype=Object.create(e.prototype);t.prototype.constructor=t;return t}a.extend(d,t.prototype),d.option=function(e){a.extend(this.options,e)},d._getOption=function(e){var t=this.constructor.compatOptions[e];return t&&this.options[t]!==undefined?this.options[t]:this.options[e]},r.compatOptions={initLayout:"isInitLayout",horizontal:"isHorizontal",layoutInstant:"isLayoutInstant",originLeft:"isOriginLeft",originTop:"isOriginTop",resize:"isResizeBound",resizeContainer:"isResizingContainer"},d._create=function(){this.reloadItems();this.stamps=[];this.stamp(this.options.stamp);a.extend(this.element.style,this.options.containerStyle);var e=this._getOption("resize");if(e){this.bindResize()}},d.reloadItems=function(){this.items=this._itemize(this.element.children)},d._itemize=function(e){var t=this._filterFindItemElements(e);var n=this.constructor.Item;var i=[];for(var r=0;r<t.length;r++){var o=t[r];var a=new n(o,this);i.push(a)}return i},d._filterFindItemElements=function(e){return a.filterFindElements(e,this.options.itemSelector)},d.getItemElements=function(){return this.items.map(function(e){return e.element})},d.layout=function(){this._resetLayout();this._manageStamps();var e=this._getOption("layoutInstant");var t=e!==undefined?e:!this._isLayoutInited;this.layoutItems(this.items,t);this._isLayoutInited=true},d._init=d.layout,d._resetLayout=function(){this.getSize()},d.getSize=function(){this.size=o(this.element)},d._getMeasurement=function(e,t){var n=this.options[e];var i;if(!n){this[e]=0}else{if(typeof n=="string"){i=this.element.querySelector(n)}else if(n instanceof HTMLElement){i=n}this[e]=i?o(i)[t]:n}},d.layoutItems=function(e,t){e=this._getItemsForLayout(e);this._layoutItems(e,t);this._postLayout()},d._getItemsForLayout=function(e){return e.filter(function(e){return!e.isIgnored})},d._layoutItems=function(e,n){this._emitCompleteOnItems("layout",e);if(!e||!e.length){return}var i=[];e.forEach(function(e){var t=this._getItemLayoutPosition(e);t.item=e;t.isInstant=n||e.isLayoutInstant;i.push(t)},this);this._processLayoutQueue(i)},d._getItemLayoutPosition=function(){return{x:0,y:0}},d._processLayoutQueue=function(e){this.updateStagger();e.forEach(function(e,t){this._positionItem(e.item,e.x,e.y,e.isInstant,t)},this)},d.updateStagger=function(){var e=this.options.stagger;if(e===null||e===undefined){this.stagger=0;return}this.stagger=p(e);return this.stagger},d._positionItem=function(e,t,n,i,r){if(i){e.goTo(t,n)}else{e.stagger(r*this.stagger);e.moveTo(t,n)}},d._postLayout=function(){this.resizeContainer()},d.resizeContainer=function(){var e=this._getOption("resizeContainer");if(!e){return}var t=this._getContainerSize();if(t){this._setContainerMeasure(t.width,true);this._setContainerMeasure(t.height,false)}},d._getContainerSize=n,d._setContainerMeasure=function(e,t){if(e===undefined){return}var n=this.size;if(n.isBorderBox){e+=t?n.paddingLeft+n.paddingRight+n.borderLeftWidth+n.borderRightWidth:n.paddingBottom+n.paddingTop+n.borderTopWidth+n.borderBottomWidth}e=Math.max(e,0);this.element.style[t?"width":"height"]=e+"px"},d._emitCompleteOnItems=function(t,e){var n=this;function i(){n.dispatchEvent(t+"Complete",null,[e])}var r=e.length;if(!e||!r){i();return}var o=0;function a(){o++;if(o==r){i()}}e.forEach(function(e){e.once(t,a)})},d.dispatchEvent=function(e,t,n){var i=t?[t].concat(n):n;this.emitEvent(e,i);if(l){this.$element=this.$element||l(this.element);if(t){var r=l.Event(t);r.type=e;this.$element.trigger(r,n)}else{this.$element.trigger(e,n)}}},d.ignore=function(e){var t=this.getItem(e);if(t){t.isIgnored=true}},d.unignore=function(e){var t=this.getItem(e);if(t){delete t.isIgnored}},d.stamp=function(e){e=this._find(e);if(!e){return}this.stamps=this.stamps.concat(e);e.forEach(this.ignore,this)},d.unstamp=function(e){e=this._find(e);if(!e){return}e.forEach(function(e){a.removeFrom(this.stamps,e);this.unignore(e)},this)},d._find=function(e){if(!e){return}if(typeof e=="string"){e=this.element.querySelectorAll(e)}e=a.makeArray(e);return e},d._manageStamps=function(){if(!this.stamps||!this.stamps.length){return}this._getBoundingRect();this.stamps.forEach(this._manageStamp,this)},d._getBoundingRect=function(){var e=this.element.getBoundingClientRect();var t=this.size;this._boundingRect={left:e.left+t.paddingLeft+t.borderLeftWidth,top:e.top+t.paddingTop+t.borderTopWidth,right:e.right-(t.paddingRight+t.borderRightWidth),bottom:e.bottom-(t.paddingBottom+t.borderBottomWidth)}},d._manageStamp=n,d._getElementOffset=function(e){var t=e.getBoundingClientRect();var n=this._boundingRect;var i=o(e);var r={left:t.left-n.left-i.marginLeft,top:t.top-n.top-i.marginTop,right:n.right-t.right-i.marginRight,bottom:n.bottom-t.bottom-i.marginBottom};return r},d.handleEvent=a.handleEvent,d.bindResize=function(){e.addEventListener("resize",this);this.isResizeBound=true},d.unbindResize=function(){e.removeEventListener("resize",this);this.isResizeBound=false},d.onresize=function(){this.resize()},a.debounceMethod(r,"onresize",100),d.resize=function(){if(!this.isResizeBound||!this.needsResizeLayout()){return}this.layout()},d.needsResizeLayout=function(){var e=o(this.element);var t=this.size&&e;return t&&e.innerWidth!==this.size.innerWidth},d.addItems=function(e){var t=this._itemize(e);if(t.length){this.items=this.items.concat(t)}return t},d.appended=function(e){var t=this.addItems(e);if(!t.length){return}this.layoutItems(t,true);this.reveal(t)},d.prepended=function(e){var t=this._itemize(e);if(!t.length){return}var n=this.items.slice(0);this.items=t.concat(n);this._resetLayout();this._manageStamps();this.layoutItems(t,true);this.reveal(t);this.layoutItems(n)},d.reveal=function(e){this._emitCompleteOnItems("reveal",e);if(!e||!e.length){return}var n=this.updateStagger();e.forEach(function(e,t){e.stagger(t*n);e.reveal()})},d.hide=function(e){this._emitCompleteOnItems("hide",e);if(!e||!e.length){return}var n=this.updateStagger();e.forEach(function(e,t){e.stagger(t*n);e.hide()})},d.revealItemElements=function(e){var t=this.getItems(e);this.reveal(t)},d.hideItemElements=function(e){var t=this.getItems(e);this.hide(t)},d.getItem=function(e){for(var t=0;t<this.items.length;t++){var n=this.items[t];if(n.element==e){return n}}},d.getItems=function(e){e=a.makeArray(e);var n=[];e.forEach(function(e){var t=this.getItem(e);if(t){n.push(t)}},this);return n},d.remove=function(e){var t=this.getItems(e);this._emitCompleteOnItems("remove",t);if(!t||!t.length){return}t.forEach(function(e){e.remove();a.removeFrom(this.items,e)},this)},d.destroy=function(){var e=this.element.style;e.height="";e.position="";e.width="";this.items.forEach(function(e){e.destroy()});this.unbindResize();var t=this.element.outlayerGUID;delete u[t];delete this.element.outlayerGUID;if(l){l.removeData(this.element,this.constructor.namespace)}},r.data=function(e){e=a.getQueryElement(e);var t=e&&e.outlayerGUID;return t&&u[t]},r.create=function(e,t){var n=f(r);n.defaults=a.extend({},r.defaults);a.extend(n.defaults,t);n.compatOptions=a.extend({},r.compatOptions);n.namespace=e;n.data=r.data;n.Item=f(i);a.htmlInit(n,e);if(l&&l.bridget){l.bridget(e,n)}return n};var h={ms:1,s:1e3};function p(e){if(typeof e=="number"){return e}var t=e.match(/(^\d*\.?\d*)(\w*)/);var n=t&&t[1];var i=t&&t[2];if(!n.length){return 0}n=parseFloat(n);var r=h[i]||1;return n*r}return r.Item=i,r}(r,e,t,n,i)}.apply(t,g=[i,a,f,h])}(window),window,g=[p,a],void 0===(v="function"==typeof(m=function(e,c){var t=e.create("masonry");t.compatOptions.fitWidth="isFitWidth";var n=t.prototype;return n._resetLayout=function(){this.getSize(),this._getMeasurement("columnWidth","outerWidth"),this._getMeasurement("gutter","outerWidth"),this.measureColumns(),this.colYs=[];for(var e=0;e<this.cols;e++)this.colYs.push(0);this.maxY=0,this.horizontalColIndex=0},n.measureColumns=function(){var e,t;this.getContainerWidth(),this.columnWidth||(t=(e=this.items[0])&&e.element,this.columnWidth=t&&c(t).outerWidth||this.containerWidth);var n=this.columnWidth+=this.gutter,i=this.containerWidth+this.gutter,r=i/n,o=n-i%n,r=Math[o&&o<1?"round":"floor"](r);this.cols=Math.max(r,1)},n.getContainerWidth=function(){var e=this._getOption("fitWidth")?this.element.parentNode:this.element,t=c(e);this.containerWidth=t&&t.innerWidth},n._getItemLayoutPosition=function(e){e.getSize();for(var t=e.size.outerWidth%this.columnWidth,n=Math[t&&t<1?"round":"ceil"](e.size.outerWidth/this.columnWidth),n=Math.min(n,this.cols),i=this[this.options.horizontalOrder?"_getHorizontalColPosition":"_getTopColPosition"](n,e),r={x:this.columnWidth*i.col,y:i.y},o=i.y+e.size.outerHeight,a=n+i.col,s=i.col;s<a;s++)this.colYs[s]=o;return r},n._getTopColPosition=function(e){var t=this._getTopColGroup(e),n=Math.min.apply(Math,t);return{col:t.indexOf(n),y:n}},n._getTopColGroup=function(e){if(e<2)return this.colYs;for(var t=[],n=this.cols+1-e,i=0;i<n;i++)t[i]=this._getColGroupY(i,e);return t},n._getColGroupY=function(e,t){if(t<2)return this.colYs[e];var n=this.colYs.slice(e,e+t);return Math.max.apply(Math,n)},n._getHorizontalColPosition=function(e,t){var n=this.horizontalColIndex%this.cols,n=1<e&&n+e>this.cols?0:n,i=t.size.outerWidth&&t.size.outerHeight;return this.horizontalColIndex=i?n+e:this.horizontalColIndex,{col:n,y:this._getColGroupY(n,e)}},n._manageStamp=function(e){var t=c(e),n=this._getElementOffset(e),i=this._getOption("originLeft")?n.left:n.right,r=i+t.outerWidth,o=Math.floor(i/this.columnWidth),o=Math.max(0,o),a=Math.floor(r/this.columnWidth);a-=r%this.columnWidth?0:1,a=Math.min(this.cols-1,a);for(var s=(this._getOption("originTop")?n.top:n.bottom)+t.outerHeight,l=o;l<=a;l++)this.colYs[l]=Math.max(s,this.colYs[l])},n._getContainerSize=function(){this.maxY=Math.max.apply(Math,this.colYs);var e={height:this.maxY};return this._getOption("fitWidth")&&(e.width=this._getContainerFitWidth()),e},n._getContainerFitWidth=function(){for(var e=0,t=this.cols;--t&&0===this.colYs[t];)e++;return(this.cols-e)*this.columnWidth-this.gutter},n.needsResizeLayout=function(){var e=this.containerWidth;return this.getContainerWidth(),e!=this.containerWidth},t})?m.apply(t,g):m)||(e.exports=v)},function(e,t,n){var i,r,o;
/*!
 * hoverIntent v1.10.1 // 2019.10.05 // jQuery v1.7.0+
 * http://briancherne.github.io/jquery-hoverIntent/
 *
 * You may use hoverIntent under the terms of the MIT license. Basically that
 * means you are free to use hoverIntent as long as this header is left intact.
 * Copyright 2007-2019 Brian Cherne
 */!function(){"use strict";r=[n(18)],void 0===(o="function"==typeof(i=function(l){"use strict";var r={interval:100,sensitivity:6,timeout:0},o=0,a,s,c=function(e){a=e.pageX;s=e.pageY},u=function(e,t,n,i){if(Math.sqrt((n.pX-a)*(n.pX-a)+(n.pY-s)*(n.pY-s))<i.sensitivity){t.off(n.event,c);delete n.timeoutId;n.isActive=true;e.pageX=a;e.pageY=s;delete n.pX;delete n.pY;return i.over.apply(t[0],[e])}else{n.pX=a;n.pY=s;n.timeoutId=setTimeout(function(){u(e,t,n,i)},i.interval)}},d=function(e,t,n,i){var r=t.data("hoverIntent");if(r){delete r[n.id]}return i.apply(t[0],[e])};l.fn.hoverIntent=function(e,t,n){var a=o++;var s=l.extend({},r);if(l.isPlainObject(e)){s=l.extend(s,e);if(!l.isFunction(s.out)){s.out=s.over}}else if(l.isFunction(t)){s=l.extend(s,{over:e,out:t,selector:n})}else{s=l.extend(s,{over:e,out:e,selector:t})}var i=function(e){var t=l.extend({},e);var n=l(this);var i=n.data("hoverIntent");if(!i){n.data("hoverIntent",i={})}var r=i[a];if(!r){i[a]=r={id:a}}if(r.timeoutId){r.timeoutId=clearTimeout(r.timeoutId)}var o=r.event="mousemove.hoverIntent.hoverIntent"+a;if(e.type==="mouseenter"){if(r.isActive){return}r.pX=t.pageX;r.pY=t.pageY;n.off(o,c).on(o,c);r.timeoutId=setTimeout(function(){u(t,n,r,s)},s.interval)}else{if(!r.isActive){return}n.off(o,c);r.timeoutId=setTimeout(function(){d(t,n,r,s.out)},s.timeout)}};return this.on({"mouseenter.hoverIntent":i,"mouseleave.hoverIntent":i},s.selector)}})?i.apply(t,r):i)||(e.exports=o)}()},function(e,t,n){var i={"./jquery.ui.draggable.js":343,"./jquery.ui.droppable.js":344,"./jquery.ui.sortable.js":345,"./jquery.ui.touch-punch.js":51};function r(e){var t=o(e);return n(t)}function o(e){if(n.o(i,e))return i[e];var t=new Error("Cannot find module '"+e+"'");throw t.code="MODULE_NOT_FOUND",t}r.keys=function(){return Object.keys(i)},r.resolve=o,(e.exports=r).id=342},function(e,t){
/*!
 * jQuery UI Draggable 1.10.3
 * http://jqueryui.com
 *
 * Copyright 2013 jQuery Foundation and other contributors
 * Released under the MIT license.
 * http://jquery.org/license
 *
 * http://api.jqueryui.com/draggable/
 *
 * Depends:
 *	jquery.ui.core.js
 *	jquery.ui.mouse.js
 *	jquery.ui.widget.js
 */
var b;(b=jQuery).widget("ui.draggable",b.ui.mouse,{version:"1.10.3",widgetEventPrefix:"drag",options:{addClasses:!0,appendTo:"parent",axis:!1,connectToSortable:!1,containment:!1,cursor:"auto",cursorAt:!1,grid:!1,handle:!1,helper:"original",iframeFix:!1,opacity:!1,refreshPositions:!1,revert:!1,revertDuration:500,scope:"default",scroll:!0,scrollSensitivity:20,scrollSpeed:20,snap:!1,snapMode:"both",snapTolerance:20,stack:!1,zIndex:!1,drag:null,start:null,stop:null},_create:function(){"original"!==this.options.helper||/^(?:r|a|f)/.test(this.element.css("position"))||(this.element[0].style.position="relative"),this.options.addClasses&&this.element.addClass("ui-draggable"),this.options.disabled&&this.element.addClass("ui-draggable-disabled"),this._mouseInit()},_destroy:function(){this.element.removeClass("ui-draggable ui-draggable-dragging ui-draggable-disabled"),this._mouseDestroy()},_mouseCapture:function(e){var t=this.options;return!(this.helper||t.disabled||0<b(e.target).closest(".ui-resizable-handle").length)&&(this.handle=this._getHandle(e),!!this.handle&&(b(!0===t.iframeFix?"iframe":t.iframeFix).each(function(){b("<div class='ui-draggable-iframeFix' style='background: #fff;'></div>").css({width:this.offsetWidth+"px",height:this.offsetHeight+"px",position:"absolute",opacity:"0.001",zIndex:1e3}).css(b(this).offset()).appendTo("body")}),!0))},_mouseStart:function(e){var t=this.options;return this.helper=this._createHelper(e),this.helper.addClass("ui-draggable-dragging"),this._cacheHelperProportions(),b.ui.ddmanager&&(b.ui.ddmanager.current=this),this._cacheMargins(),this.cssPosition=this.helper.css("position"),this.scrollParent=this.helper.scrollParent(),this.offsetParent=this.helper.offsetParent(),this.offsetParentCssPosition=this.offsetParent.css("position"),this.offset=this.positionAbs=this.element.offset(),this.offset={top:this.offset.top-this.margins.top,left:this.offset.left-this.margins.left},this.offset.scroll=!1,b.extend(this.offset,{click:{left:e.pageX-this.offset.left,top:e.pageY-this.offset.top},parent:this._getParentOffset(),relative:this._getRelativeOffset()}),this.originalPosition=this.position=this._generatePosition(e),this.originalPageX=e.pageX,this.originalPageY=e.pageY,t.cursorAt&&this._adjustOffsetFromHelper(t.cursorAt),this._setContainment(),!1===this._trigger("start",e)?(this._clear(),!1):(this._cacheHelperProportions(),b.ui.ddmanager&&!t.dropBehaviour&&b.ui.ddmanager.prepareOffsets(this,e),this._mouseDrag(e,!0),b.ui.ddmanager&&b.ui.ddmanager.dragStart(this,e),!0)},_mouseDrag:function(e,t){if("fixed"===this.offsetParentCssPosition&&(this.offset.parent=this._getParentOffset()),this.position=this._generatePosition(e),this.positionAbs=this._convertPositionTo("absolute"),!t){var n=this._uiHash();if(!1===this._trigger("drag",e,n))return this._mouseUp({}),!1;this.position=n.position}return this.options.axis&&"y"===this.options.axis||(this.helper[0].style.left=this.position.left+"px"),this.options.axis&&"x"===this.options.axis||(this.helper[0].style.top=this.position.top+"px"),b.ui.ddmanager&&b.ui.ddmanager.drag(this,e),!1},_mouseStop:function(e){var t=this,n=!1;return b.ui.ddmanager&&!this.options.dropBehaviour&&(n=b.ui.ddmanager.drop(this,e)),this.dropped&&(n=this.dropped,this.dropped=!1),("original"!==this.options.helper||b.contains(this.element[0].ownerDocument,this.element[0]))&&("invalid"===this.options.revert&&!n||"valid"===this.options.revert&&n||!0===this.options.revert||b.isFunction(this.options.revert)&&this.options.revert.call(this.element,n)?b(this.helper).animate(this.originalPosition,parseInt(this.options.revertDuration,10),function(){!1!==t._trigger("stop",e)&&t._clear()}):!1!==this._trigger("stop",e)&&this._clear()),!1},_mouseUp:function(e){return b("div.ui-draggable-iframeFix").each(function(){this.parentNode.removeChild(this)}),b.ui.ddmanager&&b.ui.ddmanager.dragStop(this,e),b.ui.mouse.prototype._mouseUp.call(this,e)},cancel:function(){return this.helper.is(".ui-draggable-dragging")?this._mouseUp({}):this._clear(),this},_getHandle:function(e){return!this.options.handle||!!b(e.target).closest(this.element.find(this.options.handle)).length},_createHelper:function(e){var t=this.options,n=b.isFunction(t.helper)?b(t.helper.apply(this.element[0],[e])):"clone"===t.helper?this.element.clone().removeAttr("id"):this.element;return n.parents("body").length||n.appendTo("parent"===t.appendTo?this.element[0].parentNode:t.appendTo),n[0]===this.element[0]||/(fixed|absolute)/.test(n.css("position"))||n.css("position","absolute"),n},_adjustOffsetFromHelper:function(e){"string"==typeof e&&(e=e.split(" ")),b.isArray(e)&&(e={left:+e[0],top:+e[1]||0}),"left"in e&&(this.offset.click.left=e.left+this.margins.left),"right"in e&&(this.offset.click.left=this.helperProportions.width-e.right+this.margins.left),"top"in e&&(this.offset.click.top=e.top+this.margins.top),"bottom"in e&&(this.offset.click.top=this.helperProportions.height-e.bottom+this.margins.top)},_getParentOffset:function(){var e=this.offsetParent.offset();return"absolute"===this.cssPosition&&this.scrollParent[0]!==document&&b.contains(this.scrollParent[0],this.offsetParent[0])&&(e.left+=this.scrollParent.scrollLeft(),e.top+=this.scrollParent.scrollTop()),(this.offsetParent[0]===document.body||this.offsetParent[0].tagName&&"html"===this.offsetParent[0].tagName.toLowerCase()&&b.ui.ie)&&(e={top:0,left:0}),{top:e.top+(parseInt(this.offsetParent.css("borderTopWidth"),10)||0),left:e.left+(parseInt(this.offsetParent.css("borderLeftWidth"),10)||0)}},_getRelativeOffset:function(){if("relative"!==this.cssPosition)return{top:0,left:0};var e=this.element.position();return{top:e.top-(parseInt(this.helper.css("top"),10)||0)+this.scrollParent.scrollTop(),left:e.left-(parseInt(this.helper.css("left"),10)||0)+this.scrollParent.scrollLeft()}},_cacheMargins:function(){this.margins={left:parseInt(this.element.css("marginLeft"),10)||0,top:parseInt(this.element.css("marginTop"),10)||0,right:parseInt(this.element.css("marginRight"),10)||0,bottom:parseInt(this.element.css("marginBottom"),10)||0}},_cacheHelperProportions:function(){this.helperProportions={width:this.helper.outerWidth(),height:this.helper.outerHeight()}},_setContainment:function(){var e,t,n,i=this.options;i.containment?"window"!==i.containment?"document"!==i.containment?i.containment.constructor!==Array?("parent"===i.containment&&(i.containment=this.helper[0].parentNode),(n=(t=b(i.containment))[0])&&(e="hidden"!==t.css("overflow"),this.containment=[(parseInt(t.css("borderLeftWidth"),10)||0)+(parseInt(t.css("paddingLeft"),10)||0),(parseInt(t.css("borderTopWidth"),10)||0)+(parseInt(t.css("paddingTop"),10)||0),(e?Math.max(n.scrollWidth,n.offsetWidth):n.offsetWidth)-(parseInt(t.css("borderRightWidth"),10)||0)-(parseInt(t.css("paddingRight"),10)||0)-this.helperProportions.width-this.margins.left-this.margins.right,(e?Math.max(n.scrollHeight,n.offsetHeight):n.offsetHeight)-(parseInt(t.css("borderBottomWidth"),10)||0)-(parseInt(t.css("paddingBottom"),10)||0)-this.helperProportions.height-this.margins.top-this.margins.bottom],this.relative_container=t)):this.containment=i.containment:this.containment=[0,0,b(document).width()-this.helperProportions.width-this.margins.left,(b(document).height()||document.body.parentNode.scrollHeight)-this.helperProportions.height-this.margins.top]:this.containment=[b(window).scrollLeft()-this.offset.relative.left-this.offset.parent.left,b(window).scrollTop()-this.offset.relative.top-this.offset.parent.top,b(window).scrollLeft()+b(window).width()-this.helperProportions.width-this.margins.left,b(window).scrollTop()+(b(window).height()||document.body.parentNode.scrollHeight)-this.helperProportions.height-this.margins.top]:this.containment=null},_convertPositionTo:function(e,t){t=t||this.position;var n="absolute"===e?1:-1,i="absolute"!==this.cssPosition||this.scrollParent[0]!==document&&b.contains(this.scrollParent[0],this.offsetParent[0])?this.scrollParent:this.offsetParent;return this.offset.scroll||(this.offset.scroll={top:i.scrollTop(),left:i.scrollLeft()}),{top:t.top+this.offset.relative.top*n+this.offset.parent.top*n-("fixed"===this.cssPosition?-this.scrollParent.scrollTop():this.offset.scroll.top)*n,left:t.left+this.offset.relative.left*n+this.offset.parent.left*n-("fixed"===this.cssPosition?-this.scrollParent.scrollLeft():this.offset.scroll.left)*n}},_generatePosition:function(e){var t,n,i,r,o=this.options,a="absolute"!==this.cssPosition||this.scrollParent[0]!==document&&b.contains(this.scrollParent[0],this.offsetParent[0])?this.scrollParent:this.offsetParent,s=e.pageX,l=e.pageY;return this.offset.scroll||(this.offset.scroll={top:a.scrollTop(),left:a.scrollLeft()}),this.originalPosition&&(this.containment&&(t=this.relative_container?(n=this.relative_container.offset(),[this.containment[0]+n.left,this.containment[1]+n.top,this.containment[2]+n.left,this.containment[3]+n.top]):this.containment,e.pageX-this.offset.click.left<t[0]&&(s=t[0]+this.offset.click.left),e.pageY-this.offset.click.top<t[1]&&(l=t[1]+this.offset.click.top),e.pageX-this.offset.click.left>t[2]&&(s=t[2]+this.offset.click.left),e.pageY-this.offset.click.top>t[3]&&(l=t[3]+this.offset.click.top)),o.grid&&(i=o.grid[1]?this.originalPageY+Math.round((l-this.originalPageY)/o.grid[1])*o.grid[1]:this.originalPageY,l=!t||i-this.offset.click.top>=t[1]||i-this.offset.click.top>t[3]?i:i-this.offset.click.top>=t[1]?i-o.grid[1]:i+o.grid[1],r=o.grid[0]?this.originalPageX+Math.round((s-this.originalPageX)/o.grid[0])*o.grid[0]:this.originalPageX,s=!t||r-this.offset.click.left>=t[0]||r-this.offset.click.left>t[2]?r:r-this.offset.click.left>=t[0]?r-o.grid[0]:r+o.grid[0])),{top:l-this.offset.click.top-this.offset.relative.top-this.offset.parent.top+("fixed"===this.cssPosition?-this.scrollParent.scrollTop():this.offset.scroll.top),left:s-this.offset.click.left-this.offset.relative.left-this.offset.parent.left+("fixed"===this.cssPosition?-this.scrollParent.scrollLeft():this.offset.scroll.left)}},_clear:function(){this.helper.removeClass("ui-draggable-dragging"),this.helper[0]===this.element[0]||this.cancelHelperRemoval||this.helper.remove(),this.helper=null,this.cancelHelperRemoval=!1},_trigger:function(e,t,n){return n=n||this._uiHash(),b.ui.plugin.call(this,e,[t,n]),"drag"===e&&(this.positionAbs=this._convertPositionTo("absolute")),b.Widget.prototype._trigger.call(this,e,t,n)},plugins:{},_uiHash:function(){return{helper:this.helper,position:this.position,originalPosition:this.originalPosition,offset:this.positionAbs}}}),b.ui.plugin.add("draggable","connectToSortable",{start:function(t,e){var n=b(this).data("ui-draggable"),i=n.options,r=b.extend({},e,{item:n.element});n.sortables=[],b(i.connectToSortable).each(function(){var e=b.data(this,"ui-sortable");e&&!e.options.disabled&&(n.sortables.push({instance:e,shouldRevert:e.options.revert}),e.refreshPositions(),e._trigger("activate",t,r))})},stop:function(e,t){var n=b(this).data("ui-draggable"),i=b.extend({},t,{item:n.element});b.each(n.sortables,function(){this.instance.isOver?(this.instance.isOver=0,n.cancelHelperRemoval=!0,this.instance.cancelHelperRemoval=!1,this.shouldRevert&&(this.instance.options.revert=this.shouldRevert),this.instance._mouseStop(e),this.instance.options.helper=this.instance.options._helper,"original"===n.options.helper&&this.instance.currentItem.css({top:"auto",left:"auto"})):(this.instance.cancelHelperRemoval=!1,this.instance._trigger("deactivate",e,i))})},drag:function(n,i){var r=b(this).data("ui-draggable"),o=this;b.each(r.sortables,function(){var e=!1,t=this;this.instance.positionAbs=r.positionAbs,this.instance.helperProportions=r.helperProportions,this.instance.offset.click=r.offset.click,this.instance._intersectsWith(this.instance.containerCache)&&(e=!0,b.each(r.sortables,function(){return this.instance.positionAbs=r.positionAbs,this.instance.helperProportions=r.helperProportions,this.instance.offset.click=r.offset.click,this!==t&&this.instance._intersectsWith(this.instance.containerCache)&&b.contains(t.instance.element[0],this.instance.element[0])&&(e=!1),e})),e?(this.instance.isOver||(this.instance.isOver=1,this.instance.currentItem=b(o).clone().removeAttr("id").appendTo(this.instance.element).data("ui-sortable-item",!0),this.instance.options._helper=this.instance.options.helper,this.instance.options.helper=function(){return i.helper[0]},n.target=this.instance.currentItem[0],this.instance._mouseCapture(n,!0),this.instance._mouseStart(n,!0,!0),this.instance.offset.click.top=r.offset.click.top,this.instance.offset.click.left=r.offset.click.left,this.instance.offset.parent.left-=r.offset.parent.left-this.instance.offset.parent.left,this.instance.offset.parent.top-=r.offset.parent.top-this.instance.offset.parent.top,r._trigger("toSortable",n),r.dropped=this.instance.element,r.currentItem=r.element,this.instance.fromOutside=r),this.instance.currentItem&&this.instance._mouseDrag(n)):this.instance.isOver&&(this.instance.isOver=0,this.instance.cancelHelperRemoval=!0,this.instance.options.revert=!1,this.instance._trigger("out",n,this.instance._uiHash(this.instance)),this.instance._mouseStop(n,!0),this.instance.options.helper=this.instance.options._helper,this.instance.currentItem.remove(),this.instance.placeholder&&this.instance.placeholder.remove(),r._trigger("fromSortable",n),r.dropped=!1)})}}),b.ui.plugin.add("draggable","cursor",{start:function(){var e=b("body"),t=b(this).data("ui-draggable").options;e.css("cursor")&&(t._cursor=e.css("cursor")),e.css("cursor",t.cursor)},stop:function(){var e=b(this).data("ui-draggable").options;e._cursor&&b("body").css("cursor",e._cursor)}}),b.ui.plugin.add("draggable","opacity",{start:function(e,t){var n=b(t.helper),i=b(this).data("ui-draggable").options;n.css("opacity")&&(i._opacity=n.css("opacity")),n.css("opacity",i.opacity)},stop:function(e,t){var n=b(this).data("ui-draggable").options;n._opacity&&b(t.helper).css("opacity",n._opacity)}}),b.ui.plugin.add("draggable","scroll",{start:function(){var e=b(this).data("ui-draggable");e.scrollParent[0]!==document&&"HTML"!==e.scrollParent[0].tagName&&(e.overflowOffset=e.scrollParent.offset())},drag:function(e){var t=b(this).data("ui-draggable"),n=t.options,i=!1;t.scrollParent[0]!==document&&"HTML"!==t.scrollParent[0].tagName?(n.axis&&"x"===n.axis||(t.overflowOffset.top+t.scrollParent[0].offsetHeight-e.pageY<n.scrollSensitivity?t.scrollParent[0].scrollTop=i=t.scrollParent[0].scrollTop+n.scrollSpeed:e.pageY-t.overflowOffset.top<n.scrollSensitivity&&(t.scrollParent[0].scrollTop=i=t.scrollParent[0].scrollTop-n.scrollSpeed)),n.axis&&"y"===n.axis||(t.overflowOffset.left+t.scrollParent[0].offsetWidth-e.pageX<n.scrollSensitivity?t.scrollParent[0].scrollLeft=i=t.scrollParent[0].scrollLeft+n.scrollSpeed:e.pageX-t.overflowOffset.left<n.scrollSensitivity&&(t.scrollParent[0].scrollLeft=i=t.scrollParent[0].scrollLeft-n.scrollSpeed))):(n.axis&&"x"===n.axis||(e.pageY-b(document).scrollTop()<n.scrollSensitivity?i=b(document).scrollTop(b(document).scrollTop()-n.scrollSpeed):b(window).height()-(e.pageY-b(document).scrollTop())<n.scrollSensitivity&&(i=b(document).scrollTop(b(document).scrollTop()+n.scrollSpeed))),n.axis&&"y"===n.axis||(e.pageX-b(document).scrollLeft()<n.scrollSensitivity?i=b(document).scrollLeft(b(document).scrollLeft()-n.scrollSpeed):b(window).width()-(e.pageX-b(document).scrollLeft())<n.scrollSensitivity&&(i=b(document).scrollLeft(b(document).scrollLeft()+n.scrollSpeed)))),!1!==i&&b.ui.ddmanager&&!n.dropBehaviour&&b.ui.ddmanager.prepareOffsets(t,e)}}),b.ui.plugin.add("draggable","snap",{start:function(){var n=b(this).data("ui-draggable"),e=n.options;n.snapElements=[],b(e.snap.constructor!==String?e.snap.items||":data(ui-draggable)":e.snap).each(function(){var e=b(this),t=e.offset();this!==n.element[0]&&n.snapElements.push({item:this,width:e.outerWidth(),height:e.outerHeight(),top:t.top,left:t.left})})},drag:function(e,t){for(var n,i,r,o,a,s,l,c,u,d=b(this).data("ui-draggable"),f=d.options,h=f.snapTolerance,p=t.offset.left,m=p+d.helperProportions.width,g=t.offset.top,v=g+d.helperProportions.height,y=d.snapElements.length-1;0<=y;y--)s=(a=d.snapElements[y].left)+d.snapElements[y].width,c=(l=d.snapElements[y].top)+d.snapElements[y].height,m<a-h||s+h<p||v<l-h||c+h<g||!b.contains(d.snapElements[y].item.ownerDocument,d.snapElements[y].item)?(d.snapElements[y].snapping&&d.options.snap.release&&d.options.snap.release.call(d.element,e,b.extend(d._uiHash(),{snapItem:d.snapElements[y].item})),d.snapElements[y].snapping=!1):("inner"!==f.snapMode&&(n=Math.abs(l-v)<=h,i=Math.abs(c-g)<=h,r=Math.abs(a-m)<=h,o=Math.abs(s-p)<=h,n&&(t.position.top=d._convertPositionTo("relative",{top:l-d.helperProportions.height,left:0}).top-d.margins.top),i&&(t.position.top=d._convertPositionTo("relative",{top:c,left:0}).top-d.margins.top),r&&(t.position.left=d._convertPositionTo("relative",{top:0,left:a-d.helperProportions.width}).left-d.margins.left),o&&(t.position.left=d._convertPositionTo("relative",{top:0,left:s}).left-d.margins.left)),u=n||i||r||o,"outer"!==f.snapMode&&(n=Math.abs(l-g)<=h,i=Math.abs(c-v)<=h,r=Math.abs(a-p)<=h,o=Math.abs(s-m)<=h,n&&(t.position.top=d._convertPositionTo("relative",{top:l,left:0}).top-d.margins.top),i&&(t.position.top=d._convertPositionTo("relative",{top:c-d.helperProportions.height,left:0}).top-d.margins.top),r&&(t.position.left=d._convertPositionTo("relative",{top:0,left:a}).left-d.margins.left),o&&(t.position.left=d._convertPositionTo("relative",{top:0,left:s-d.helperProportions.width}).left-d.margins.left)),!d.snapElements[y].snapping&&(n||i||r||o||u)&&d.options.snap.snap&&d.options.snap.snap.call(d.element,e,b.extend(d._uiHash(),{snapItem:d.snapElements[y].item})),d.snapElements[y].snapping=n||i||r||o||u)}}),b.ui.plugin.add("draggable","stack",{start:function(){var t,e=this.data("ui-draggable").options,n=b.makeArray(b(e.stack)).sort(function(e,t){return(parseInt(b(e).css("zIndex"),10)||0)-(parseInt(b(t).css("zIndex"),10)||0)});n.length&&(t=parseInt(b(n[0]).css("zIndex"),10)||0,b(n).each(function(e){b(this).css("zIndex",t+e)}),this.css("zIndex",t+n.length))}}),b.ui.plugin.add("draggable","zIndex",{start:function(e,t){var n=b(t.helper),i=b(this).data("ui-draggable").options;n.css("zIndex")&&(i._zIndex=n.css("zIndex")),n.css("zIndex",i.zIndex)},stop:function(e,t){var n=b(this).data("ui-draggable").options;n._zIndex&&b(t.helper).css("zIndex",n._zIndex)}})},function(e,t){function f(e,t,n){return t<e&&e<t+n}
/*!
 * jQuery UI Droppable 1.10.3
 * http://jqueryui.com
 *
 * Copyright 2013 jQuery Foundation and other contributors
 * Released under the MIT license.
 * http://jquery.org/license
 *
 * http://api.jqueryui.com/droppable/
 *
 * Depends:
 *	jquery.ui.core.js
 *	jquery.ui.widget.js
 *	jquery.ui.mouse.js
 *	jquery.ui.draggable.js
 */
var s;(s=jQuery).widget("ui.droppable",{version:"1.10.3",widgetEventPrefix:"drop",options:{accept:"*",activeClass:!1,addClasses:!0,greedy:!1,hoverClass:!1,scope:"default",tolerance:"intersect",activate:null,deactivate:null,drop:null,out:null,over:null},_create:function(){var e=this.options,t=e.accept;this.isover=!1,this.isout=!0,this.accept=s.isFunction(t)?t:function(e){return e.is(t)},this.proportions={width:this.element[0].offsetWidth,height:this.element[0].offsetHeight},s.ui.ddmanager.droppables[e.scope]=s.ui.ddmanager.droppables[e.scope]||[],s.ui.ddmanager.droppables[e.scope].push(this),e.addClasses&&this.element.addClass("ui-droppable")},_destroy:function(){for(var e=0,t=s.ui.ddmanager.droppables[this.options.scope];e<t.length;e++)t[e]===this&&t.splice(e,1);this.element.removeClass("ui-droppable ui-droppable-disabled")},_setOption:function(e,t){"accept"===e&&(this.accept=s.isFunction(t)?t:function(e){return e.is(t)}),s.Widget.prototype._setOption.apply(this,arguments)},_activate:function(e){var t=s.ui.ddmanager.current;this.options.activeClass&&this.element.addClass(this.options.activeClass),t&&this._trigger("activate",e,this.ui(t))},_deactivate:function(e){var t=s.ui.ddmanager.current;this.options.activeClass&&this.element.removeClass(this.options.activeClass),t&&this._trigger("deactivate",e,this.ui(t))},_over:function(e){var t=s.ui.ddmanager.current;t&&(t.currentItem||t.element)[0]!==this.element[0]&&this.accept.call(this.element[0],t.currentItem||t.element)&&(this.options.hoverClass&&this.element.addClass(this.options.hoverClass),this._trigger("over",e,this.ui(t)))},_out:function(e){var t=s.ui.ddmanager.current;t&&(t.currentItem||t.element)[0]!==this.element[0]&&this.accept.call(this.element[0],t.currentItem||t.element)&&(this.options.hoverClass&&this.element.removeClass(this.options.hoverClass),this._trigger("out",e,this.ui(t)))},_drop:function(e,t){var n=t||s.ui.ddmanager.current,i=!1;return!(!n||(n.currentItem||n.element)[0]===this.element[0])&&(this.element.find(":data(ui-droppable)").not(".ui-draggable-dragging").each(function(){var e=s.data(this,"ui-droppable");if(e.options.greedy&&!e.options.disabled&&e.options.scope===n.options.scope&&e.accept.call(e.element[0],n.currentItem||n.element)&&s.ui.intersect(n,s.extend(e,{offset:e.element.offset()}),e.options.tolerance))return!(i=!0)}),!i&&(!!this.accept.call(this.element[0],n.currentItem||n.element)&&(this.options.activeClass&&this.element.removeClass(this.options.activeClass),this.options.hoverClass&&this.element.removeClass(this.options.hoverClass),this._trigger("drop",e,this.ui(n)),this.element)))},ui:function(e){return{draggable:e.currentItem||e.element,helper:e.helper,position:e.position,offset:e.positionAbs}}}),s.ui.intersect=function(e,t,n){if(!t.offset)return!1;var i,r=(e.positionAbs||e.position.absolute).left,o=r+e.helperProportions.width,a=(e.positionAbs||e.position.absolute).top,s=a+e.helperProportions.height,l=t.offset.left,c=l+t.proportions.width,u=t.offset.top,d=u+t.proportions.height;switch(n){case"fit":return l<=r&&o<=c&&u<=a&&s<=d;case"intersect":return l<r+e.helperProportions.width/2&&o-e.helperProportions.width/2<c&&u<a+e.helperProportions.height/2&&s-e.helperProportions.height/2<d;case"pointer":return i=(e.positionAbs||e.position.absolute).left+(e.clickOffset||e.offset.click).left,f((e.positionAbs||e.position.absolute).top+(e.clickOffset||e.offset.click).top,u,t.proportions.height)&&f(i,l,t.proportions.width);case"touch":return(u<=a&&a<=d||u<=s&&s<=d||a<u&&d<s)&&(l<=r&&r<=c||l<=o&&o<=c||r<l&&c<o);default:return!1}},s.ui.ddmanager={current:null,droppables:{default:[]},prepareOffsets:function(e,t){var n,i,r=s.ui.ddmanager.droppables[e.options.scope]||[],o=t?t.type:null,a=(e.currentItem||e.element).find(":data(ui-droppable)").addBack();e:for(n=0;n<r.length;n++)if(!(r[n].options.disabled||e&&!r[n].accept.call(r[n].element[0],e.currentItem||e.element))){for(i=0;i<a.length;i++)if(a[i]===r[n].element[0]){r[n].proportions.height=0;continue e}r[n].visible="none"!==r[n].element.css("display"),r[n].visible&&("mousedown"===o&&r[n]._activate.call(r[n],t),r[n].offset=r[n].element.offset(),r[n].proportions={width:r[n].element[0].offsetWidth,height:r[n].element[0].offsetHeight})}},drop:function(e,t){var n=!1;return s.each((s.ui.ddmanager.droppables[e.options.scope]||[]).slice(),function(){this.options&&(!this.options.disabled&&this.visible&&s.ui.intersect(e,this,this.options.tolerance)&&(n=this._drop.call(this,t)||n),!this.options.disabled&&this.visible&&this.accept.call(this.element[0],e.currentItem||e.element)&&(this.isout=!0,this.isover=!1,this._deactivate.call(this,t)))}),n},dragStart:function(e,t){e.element.parentsUntil("body").bind("scroll.droppable",function(){e.options.refreshPositions||s.ui.ddmanager.prepareOffsets(e,t)})},drag:function(o,a){o.options.refreshPositions&&s.ui.ddmanager.prepareOffsets(o,a),s.each(s.ui.ddmanager.droppables[o.options.scope]||[],function(){var e,t,n,i,r;this.options.disabled||this.greedyChild||!this.visible||(r=!(i=s.ui.intersect(o,this,this.options.tolerance))&&this.isover?"isout":i&&!this.isover?"isover":null)&&(this.options.greedy&&(t=this.options.scope,(n=this.element.parents(":data(ui-droppable)").filter(function(){return s.data(this,"ui-droppable").options.scope===t})).length&&((e=s.data(n[0],"ui-droppable")).greedyChild="isover"===r)),e&&"isover"===r&&(e.isover=!1,e.isout=!0,e._out.call(e,a)),this[r]=!0,this["isout"===r?"isover":"isout"]=!1,this["isover"===r?"_over":"_out"].call(this,a),e&&"isout"===r&&(e.isout=!1,e.isover=!0,e._over.call(e,a)))})},dragStop:function(e,t){e.element.parentsUntil("body").unbind("scroll.droppable"),e.options.refreshPositions||s.ui.ddmanager.prepareOffsets(e,t)}}},function(e,t){function h(e,t,n){return t<e&&e<t+n}function p(e){return/left|right/.test(e.css("float"))||/inline|table-cell/.test(e.css("display"))}
/*!
 * jQuery UI Sortable 1.10.3
 * http://jqueryui.com
 *
 * Copyright 2013 jQuery Foundation and other contributors
 * Released under the MIT license.
 * http://jquery.org/license
 *
 * http://api.jqueryui.com/sortable/
 *
 * Depends:
 *	jquery.ui.core.js
 *	jquery.ui.mouse.js
 *	jquery.ui.widget.js
 */
var m;(m=jQuery).widget("ui.sortable",m.ui.mouse,{version:"1.10.3",widgetEventPrefix:"sort",ready:!1,options:{appendTo:"parent",axis:!1,connectWith:!1,containment:!1,cursor:"auto",cursorAt:!1,dropOnEmpty:!0,forcePlaceholderSize:!1,forceHelperSize:!1,grid:!1,handle:!1,helper:"original",items:"> *",opacity:!1,placeholder:!1,revert:!1,scroll:!0,scrollSensitivity:20,scrollSpeed:20,scope:"default",tolerance:"intersect",zIndex:1e3,activate:null,beforeStop:null,change:null,deactivate:null,out:null,over:null,receive:null,remove:null,sort:null,start:null,stop:null,update:null},_create:function(){var e=this.options;this.containerCache={},this.element.addClass("ui-sortable"),this.refresh(),this.floating=!!this.items.length&&("x"===e.axis||p(this.items[0].item)),this.offset=this.element.offset(),this._mouseInit(),this.ready=!0},_destroy:function(){this.element.removeClass("ui-sortable ui-sortable-disabled"),this._mouseDestroy();for(var e=this.items.length-1;0<=e;e--)this.items[e].item.removeData(this.widgetName+"-item");return this},_setOption:function(e,t){"disabled"===e?(this.options[e]=t,this.widget().toggleClass("ui-sortable-disabled",!!t)):m.Widget.prototype._setOption.apply(this,arguments)},_mouseCapture:function(e,t){var n=null,i=!1,r=this;return!this.reverting&&(!this.options.disabled&&"static"!==this.options.type&&(this._refreshItems(e),m(e.target).parents().each(function(){if(m.data(this,r.widgetName+"-item")===r)return n=m(this),!1}),m.data(e.target,r.widgetName+"-item")===r&&(n=m(e.target)),!!n&&(!(this.options.handle&&!t&&(m(this.options.handle,n).find("*").addBack().each(function(){this===e.target&&(i=!0)}),!i))&&(this.currentItem=n,this._removeCurrentsFromItems(),!0))))},_mouseStart:function(e,t,n){var i,r,o=this.options;if((this.currentContainer=this).refreshPositions(),this.helper=this._createHelper(e),this._cacheHelperProportions(),this._cacheMargins(),this.scrollParent=this.helper.scrollParent(),this.offset=this.currentItem.offset(),this.offset={top:this.offset.top-this.margins.top,left:this.offset.left-this.margins.left},m.extend(this.offset,{click:{left:e.pageX-this.offset.left,top:e.pageY-this.offset.top},parent:this._getParentOffset(),relative:this._getRelativeOffset()}),this.helper.css("position","absolute"),this.cssPosition=this.helper.css("position"),this.originalPosition=this._generatePosition(e),this.originalPageX=e.pageX,this.originalPageY=e.pageY,o.cursorAt&&this._adjustOffsetFromHelper(o.cursorAt),this.domPosition={prev:this.currentItem.prev()[0],parent:this.currentItem.parent()[0]},this.helper[0]!==this.currentItem[0]&&this.currentItem.hide(),this._createPlaceholder(),o.containment&&this._setContainment(),o.cursor&&"auto"!==o.cursor&&(r=this.document.find("body"),this.storedCursor=r.css("cursor"),r.css("cursor",o.cursor),this.storedStylesheet=m("<style>*{ cursor: "+o.cursor+" !important; }</style>").appendTo(r)),o.opacity&&(this.helper.css("opacity")&&(this._storedOpacity=this.helper.css("opacity")),this.helper.css("opacity",o.opacity)),o.zIndex&&(this.helper.css("zIndex")&&(this._storedZIndex=this.helper.css("zIndex")),this.helper.css("zIndex",o.zIndex)),this.scrollParent[0]!==document&&"HTML"!==this.scrollParent[0].tagName&&(this.overflowOffset=this.scrollParent.offset()),this._trigger("start",e,this._uiHash()),this._preserveHelperProportions||this._cacheHelperProportions(),!n)for(i=this.containers.length-1;0<=i;i--)this.containers[i]._trigger("activate",e,this._uiHash(this));return m.ui.ddmanager&&(m.ui.ddmanager.current=this),m.ui.ddmanager&&!o.dropBehaviour&&m.ui.ddmanager.prepareOffsets(this,e),this.dragging=!0,this.helper.addClass("ui-sortable-helper"),this._mouseDrag(e),!0},_mouseDrag:function(e){var t,n,i,r,o=this.options,a=!1;for(this.position=this._generatePosition(e),this.positionAbs=this._convertPositionTo("absolute"),this.lastPositionAbs||(this.lastPositionAbs=this.positionAbs),this.options.scroll&&(this.scrollParent[0]!==document&&"HTML"!==this.scrollParent[0].tagName?(this.overflowOffset.top+this.scrollParent[0].offsetHeight-e.pageY<o.scrollSensitivity?this.scrollParent[0].scrollTop=a=this.scrollParent[0].scrollTop+o.scrollSpeed:e.pageY-this.overflowOffset.top<o.scrollSensitivity&&(this.scrollParent[0].scrollTop=a=this.scrollParent[0].scrollTop-o.scrollSpeed),this.overflowOffset.left+this.scrollParent[0].offsetWidth-e.pageX<o.scrollSensitivity?this.scrollParent[0].scrollLeft=a=this.scrollParent[0].scrollLeft+o.scrollSpeed:e.pageX-this.overflowOffset.left<o.scrollSensitivity&&(this.scrollParent[0].scrollLeft=a=this.scrollParent[0].scrollLeft-o.scrollSpeed)):(e.pageY-m(document).scrollTop()<o.scrollSensitivity?a=m(document).scrollTop(m(document).scrollTop()-o.scrollSpeed):m(window).height()-(e.pageY-m(document).scrollTop())<o.scrollSensitivity&&(a=m(document).scrollTop(m(document).scrollTop()+o.scrollSpeed)),e.pageX-m(document).scrollLeft()<o.scrollSensitivity?a=m(document).scrollLeft(m(document).scrollLeft()-o.scrollSpeed):m(window).width()-(e.pageX-m(document).scrollLeft())<o.scrollSensitivity&&(a=m(document).scrollLeft(m(document).scrollLeft()+o.scrollSpeed))),!1!==a&&m.ui.ddmanager&&!o.dropBehaviour&&m.ui.ddmanager.prepareOffsets(this,e)),this.positionAbs=this._convertPositionTo("absolute"),this.options.axis&&"y"===this.options.axis||(this.helper[0].style.left=this.position.left+"px"),this.options.axis&&"x"===this.options.axis||(this.helper[0].style.top=this.position.top+"px"),t=this.items.length-1;0<=t;t--)if(i=(n=this.items[t]).item[0],(r=this._intersectsWithPointer(n))&&n.instance===this.currentContainer&&!(i===this.currentItem[0]||this.placeholder[1===r?"next":"prev"]()[0]===i||m.contains(this.placeholder[0],i)||"semi-dynamic"===this.options.type&&m.contains(this.element[0],i))){if(this.direction=1===r?"down":"up","pointer"!==this.options.tolerance&&!this._intersectsWithSides(n))break;this._rearrange(e,n),this._trigger("change",e,this._uiHash());break}return this._contactContainers(e),m.ui.ddmanager&&m.ui.ddmanager.drag(this,e),this._trigger("sort",e,this._uiHash()),this.lastPositionAbs=this.positionAbs,!1},_mouseStop:function(e,t){var n,i,r,o;if(e)return m.ui.ddmanager&&!this.options.dropBehaviour&&m.ui.ddmanager.drop(this,e),this.options.revert?(i=(n=this).placeholder.offset(),o={},(r=this.options.axis)&&"x"!==r||(o.left=i.left-this.offset.parent.left-this.margins.left+(this.offsetParent[0]===document.body?0:this.offsetParent[0].scrollLeft)),r&&"y"!==r||(o.top=i.top-this.offset.parent.top-this.margins.top+(this.offsetParent[0]===document.body?0:this.offsetParent[0].scrollTop)),this.reverting=!0,m(this.helper).animate(o,parseInt(this.options.revert,10)||500,function(){n._clear(e)})):this._clear(e,t),!1},cancel:function(){if(this.dragging){this._mouseUp({target:null}),"original"===this.options.helper?this.currentItem.css(this._storedCSS).removeClass("ui-sortable-helper"):this.currentItem.show();for(var e=this.containers.length-1;0<=e;e--)this.containers[e]._trigger("deactivate",null,this._uiHash(this)),this.containers[e].containerCache.over&&(this.containers[e]._trigger("out",null,this._uiHash(this)),this.containers[e].containerCache.over=0)}return this.placeholder&&(this.placeholder[0].parentNode&&this.placeholder[0].parentNode.removeChild(this.placeholder[0]),"original"!==this.options.helper&&this.helper&&this.helper[0].parentNode&&this.helper.remove(),m.extend(this,{helper:null,dragging:!1,reverting:!1,_noFinalSort:null}),this.domPosition.prev?m(this.domPosition.prev).after(this.currentItem):m(this.domPosition.parent).prepend(this.currentItem)),this},serialize:function(t){var e=this._getItemsAsjQuery(t&&t.connected),n=[];return t=t||{},m(e).each(function(){var e=(m(t.item||this).attr(t.attribute||"id")||"").match(t.expression||/(.+)[\-=_](.+)/);e&&n.push((t.key||e[1]+"[]")+"="+(t.key&&t.expression?e[1]:e[2]))}),!n.length&&t.key&&n.push(t.key+"="),n.join("&")},toArray:function(e){var t=this._getItemsAsjQuery(e&&e.connected),n=[];return e=e||{},t.each(function(){n.push(m(e.item||this).attr(e.attribute||"id")||"")}),n},_intersectsWith:function(e){var t=this.positionAbs.left,n=t+this.helperProportions.width,i=this.positionAbs.top,r=i+this.helperProportions.height,o=e.left,a=o+e.width,s=e.top,l=s+e.height,c=this.offset.click.top,u=this.offset.click.left,d="x"===this.options.axis||s<i+c&&i+c<l,f="y"===this.options.axis||o<t+u&&t+u<a,h=d&&f;return"pointer"===this.options.tolerance||this.options.forcePointerForContainers||"pointer"!==this.options.tolerance&&this.helperProportions[this.floating?"width":"height"]>e[this.floating?"width":"height"]?h:o<t+this.helperProportions.width/2&&n-this.helperProportions.width/2<a&&s<i+this.helperProportions.height/2&&r-this.helperProportions.height/2<l},_intersectsWithPointer:function(e){var t="x"===this.options.axis||h(this.positionAbs.top+this.offset.click.top,e.top,e.height),n="y"===this.options.axis||h(this.positionAbs.left+this.offset.click.left,e.left,e.width),i=t&&n,r=this._getDragVerticalDirection(),o=this._getDragHorizontalDirection();return!!i&&(this.floating?o&&"right"===o||"down"===r?2:1:r&&("down"===r?2:1))},_intersectsWithSides:function(e){var t=h(this.positionAbs.top+this.offset.click.top,e.top+e.height/2,e.height),n=h(this.positionAbs.left+this.offset.click.left,e.left+e.width/2,e.width),i=this._getDragVerticalDirection(),r=this._getDragHorizontalDirection();return this.floating&&r?"right"===r&&n||"left"===r&&!n:i&&("down"===i&&t||"up"===i&&!t)},_getDragVerticalDirection:function(){var e=this.positionAbs.top-this.lastPositionAbs.top;return 0!=e&&(0<e?"down":"up")},_getDragHorizontalDirection:function(){var e=this.positionAbs.left-this.lastPositionAbs.left;return 0!=e&&(0<e?"right":"left")},refresh:function(e){return this._refreshItems(e),this.refreshPositions(),this},_connectWith:function(){var e=this.options;return e.connectWith.constructor===String?[e.connectWith]:e.connectWith},_getItemsAsjQuery:function(e){var t,n,i,r,o=[],a=[],s=this._connectWith();if(s&&e)for(t=s.length-1;0<=t;t--)for(n=(i=m(s[t])).length-1;0<=n;n--)(r=m.data(i[n],this.widgetFullName))&&r!==this&&!r.options.disabled&&a.push([m.isFunction(r.options.items)?r.options.items.call(r.element):m(r.options.items,r.element).not(".ui-sortable-helper").not(".ui-sortable-placeholder"),r]);for(a.push([m.isFunction(this.options.items)?this.options.items.call(this.element,null,{options:this.options,item:this.currentItem}):m(this.options.items,this.element).not(".ui-sortable-helper").not(".ui-sortable-placeholder"),this]),t=a.length-1;0<=t;t--)a[t][0].each(function(){o.push(this)});return m(o)},_removeCurrentsFromItems:function(){var n=this.currentItem.find(":data("+this.widgetName+"-item)");this.items=m.grep(this.items,function(e){for(var t=0;t<n.length;t++)if(n[t]===e.item[0])return!1;return!0})},_refreshItems:function(e){this.items=[],this.containers=[this];var t,n,i,r,o,a,s,l,c=this.items,u=[[m.isFunction(this.options.items)?this.options.items.call(this.element[0],e,{item:this.currentItem}):m(this.options.items,this.element),this]],d=this._connectWith();if(d&&this.ready)for(t=d.length-1;0<=t;t--)for(n=(i=m(d[t])).length-1;0<=n;n--)(r=m.data(i[n],this.widgetFullName))&&r!==this&&!r.options.disabled&&(u.push([m.isFunction(r.options.items)?r.options.items.call(r.element[0],e,{item:this.currentItem}):m(r.options.items,r.element),r]),this.containers.push(r));for(t=u.length-1;0<=t;t--)for(o=u[t][1],n=0,l=(a=u[t][0]).length;n<l;n++)(s=m(a[n])).data(this.widgetName+"-item",o),c.push({item:s,instance:o,width:0,height:0,left:0,top:0})},refreshPositions:function(e){var t,n,i,r;for(this.offsetParent&&this.helper&&(this.offset.parent=this._getParentOffset()),t=this.items.length-1;0<=t;t--)(n=this.items[t]).instance!==this.currentContainer&&this.currentContainer&&n.item[0]!==this.currentItem[0]||(i=this.options.toleranceElement?m(this.options.toleranceElement,n.item):n.item,e||(n.width=i.outerWidth(),n.height=i.outerHeight()),r=i.offset(),n.left=r.left,n.top=r.top);if(this.options.custom&&this.options.custom.refreshContainers)this.options.custom.refreshContainers.call(this);else for(t=this.containers.length-1;0<=t;t--)r=this.containers[t].element.offset(),this.containers[t].containerCache.left=r.left,this.containers[t].containerCache.top=r.top,this.containers[t].containerCache.width=this.containers[t].element.outerWidth(),this.containers[t].containerCache.height=this.containers[t].element.outerHeight();return this},_createPlaceholder:function(n){var i,r=(n=n||this).options;r.placeholder&&r.placeholder.constructor!==String||(i=r.placeholder,r.placeholder={element:function(){var e=n.currentItem[0].nodeName.toLowerCase(),t=m("<"+e+">",n.document[0]).addClass(i||n.currentItem[0].className+" ui-sortable-placeholder").removeClass("ui-sortable-helper");return"tr"===e?n.currentItem.children().each(function(){m("<td>&#160;</td>",n.document[0]).attr("colspan",m(this).attr("colspan")||1).appendTo(t)}):"img"===e&&t.attr("src",n.currentItem.attr("src")),i||t.css("visibility","hidden"),t},update:function(e,t){i&&!r.forcePlaceholderSize||(t.height()||t.height(n.currentItem.innerHeight()-parseInt(n.currentItem.css("paddingTop")||0,10)-parseInt(n.currentItem.css("paddingBottom")||0,10)),t.width()||t.width(n.currentItem.innerWidth()-parseInt(n.currentItem.css("paddingLeft")||0,10)-parseInt(n.currentItem.css("paddingRight")||0,10)))}}),n.placeholder=m(r.placeholder.element.call(n.element,n.currentItem)),n.currentItem.after(n.placeholder),r.placeholder.update(n,n.placeholder)},_contactContainers:function(e){for(var t,n,i,r,o,a,s,l,c,u=null,d=null,f=this.containers.length-1;0<=f;f--)if(!m.contains(this.currentItem[0],this.containers[f].element[0]))if(this._intersectsWith(this.containers[f].containerCache)){if(u&&m.contains(this.containers[f].element[0],u.element[0]))continue;u=this.containers[f],d=f}else this.containers[f].containerCache.over&&(this.containers[f]._trigger("out",e,this._uiHash(this)),this.containers[f].containerCache.over=0);if(u)if(1===this.containers.length)this.containers[d].containerCache.over||(this.containers[d]._trigger("over",e,this._uiHash(this)),this.containers[d].containerCache.over=1);else{for(n=1e4,i=null,r=(c=u.floating||p(this.currentItem))?"left":"top",o=c?"width":"height",a=this.positionAbs[r]+this.offset.click[r],t=this.items.length-1;0<=t;t--)m.contains(this.containers[d].element[0],this.items[t].item[0])&&this.items[t].item[0]!==this.currentItem[0]&&(c&&!h(this.positionAbs.top+this.offset.click.top,this.items[t].top,this.items[t].height)||(s=this.items[t].item.offset()[r],l=!1,Math.abs(s-a)>Math.abs(s+this.items[t][o]-a)&&(l=!0,s+=this.items[t][o]),Math.abs(s-a)<n&&(n=Math.abs(s-a),i=this.items[t],this.direction=l?"up":"down")));if(!i&&!this.options.dropOnEmpty)return;if(this.currentContainer===this.containers[d])return;i?this._rearrange(e,i,null,!0):this._rearrange(e,null,this.containers[d].element,!0),this._trigger("change",e,this._uiHash()),this.containers[d]._trigger("change",e,this._uiHash(this)),this.currentContainer=this.containers[d],this.options.placeholder.update(this.currentContainer,this.placeholder),this.containers[d]._trigger("over",e,this._uiHash(this)),this.containers[d].containerCache.over=1}},_createHelper:function(e){var t=this.options,n=m.isFunction(t.helper)?m(t.helper.apply(this.element[0],[e,this.currentItem])):"clone"===t.helper?this.currentItem.clone():this.currentItem;return n.parents("body").length||m("parent"!==t.appendTo?t.appendTo:this.currentItem[0].parentNode)[0].appendChild(n[0]),n[0]===this.currentItem[0]&&(this._storedCSS={width:this.currentItem[0].style.width,height:this.currentItem[0].style.height,position:this.currentItem.css("position"),top:this.currentItem.css("top"),left:this.currentItem.css("left")}),n[0].style.width&&!t.forceHelperSize||n.width(this.currentItem.width()),n[0].style.height&&!t.forceHelperSize||n.height(this.currentItem.height()),n},_adjustOffsetFromHelper:function(e){"string"==typeof e&&(e=e.split(" ")),m.isArray(e)&&(e={left:+e[0],top:+e[1]||0}),"left"in e&&(this.offset.click.left=e.left+this.margins.left),"right"in e&&(this.offset.click.left=this.helperProportions.width-e.right+this.margins.left),"top"in e&&(this.offset.click.top=e.top+this.margins.top),"bottom"in e&&(this.offset.click.top=this.helperProportions.height-e.bottom+this.margins.top)},_getParentOffset:function(){this.offsetParent=this.helper.offsetParent();var e=this.offsetParent.offset();return"absolute"===this.cssPosition&&this.scrollParent[0]!==document&&m.contains(this.scrollParent[0],this.offsetParent[0])&&(e.left+=this.scrollParent.scrollLeft(),e.top+=this.scrollParent.scrollTop()),(this.offsetParent[0]===document.body||this.offsetParent[0].tagName&&"html"===this.offsetParent[0].tagName.toLowerCase()&&m.ui.ie)&&(e={top:0,left:0}),{top:e.top+(parseInt(this.offsetParent.css("borderTopWidth"),10)||0),left:e.left+(parseInt(this.offsetParent.css("borderLeftWidth"),10)||0)}},_getRelativeOffset:function(){if("relative"!==this.cssPosition)return{top:0,left:0};var e=this.currentItem.position();return{top:e.top-(parseInt(this.helper.css("top"),10)||0)+this.scrollParent.scrollTop(),left:e.left-(parseInt(this.helper.css("left"),10)||0)+this.scrollParent.scrollLeft()}},_cacheMargins:function(){this.margins={left:parseInt(this.currentItem.css("marginLeft"),10)||0,top:parseInt(this.currentItem.css("marginTop"),10)||0}},_cacheHelperProportions:function(){this.helperProportions={width:this.helper.outerWidth(),height:this.helper.outerHeight()}},_setContainment:function(){var e,t,n,i=this.options;"parent"===i.containment&&(i.containment=this.helper[0].parentNode),"document"!==i.containment&&"window"!==i.containment||(this.containment=[0-this.offset.relative.left-this.offset.parent.left,0-this.offset.relative.top-this.offset.parent.top,m("document"===i.containment?document:window).width()-this.helperProportions.width-this.margins.left,(m("document"===i.containment?document:window).height()||document.body.parentNode.scrollHeight)-this.helperProportions.height-this.margins.top]),/^(document|window|parent)$/.test(i.containment)||(e=m(i.containment)[0],t=m(i.containment).offset(),n="hidden"!==m(e).css("overflow"),this.containment=[t.left+(parseInt(m(e).css("borderLeftWidth"),10)||0)+(parseInt(m(e).css("paddingLeft"),10)||0)-this.margins.left,t.top+(parseInt(m(e).css("borderTopWidth"),10)||0)+(parseInt(m(e).css("paddingTop"),10)||0)-this.margins.top,t.left+(n?Math.max(e.scrollWidth,e.offsetWidth):e.offsetWidth)-(parseInt(m(e).css("borderLeftWidth"),10)||0)-(parseInt(m(e).css("paddingRight"),10)||0)-this.helperProportions.width-this.margins.left,t.top+(n?Math.max(e.scrollHeight,e.offsetHeight):e.offsetHeight)-(parseInt(m(e).css("borderTopWidth"),10)||0)-(parseInt(m(e).css("paddingBottom"),10)||0)-this.helperProportions.height-this.margins.top])},_convertPositionTo:function(e,t){t=t||this.position;var n="absolute"===e?1:-1,i="absolute"!==this.cssPosition||this.scrollParent[0]!==document&&m.contains(this.scrollParent[0],this.offsetParent[0])?this.scrollParent:this.offsetParent,r=/(html|body)/i.test(i[0].tagName);return{top:t.top+this.offset.relative.top*n+this.offset.parent.top*n-("fixed"===this.cssPosition?-this.scrollParent.scrollTop():r?0:i.scrollTop())*n,left:t.left+this.offset.relative.left*n+this.offset.parent.left*n-("fixed"===this.cssPosition?-this.scrollParent.scrollLeft():r?0:i.scrollLeft())*n}},_generatePosition:function(e){var t,n,i=this.options,r=e.pageX,o=e.pageY,a="absolute"!==this.cssPosition||this.scrollParent[0]!==document&&m.contains(this.scrollParent[0],this.offsetParent[0])?this.scrollParent:this.offsetParent,s=/(html|body)/i.test(a[0].tagName);return"relative"!==this.cssPosition||this.scrollParent[0]!==document&&this.scrollParent[0]!==this.offsetParent[0]||(this.offset.relative=this._getRelativeOffset()),this.originalPosition&&(this.containment&&(e.pageX-this.offset.click.left<this.containment[0]&&(r=this.containment[0]+this.offset.click.left),e.pageY-this.offset.click.top<this.containment[1]&&(o=this.containment[1]+this.offset.click.top),e.pageX-this.offset.click.left>this.containment[2]&&(r=this.containment[2]+this.offset.click.left),e.pageY-this.offset.click.top>this.containment[3]&&(o=this.containment[3]+this.offset.click.top)),i.grid&&(t=this.originalPageY+Math.round((o-this.originalPageY)/i.grid[1])*i.grid[1],o=!this.containment||t-this.offset.click.top>=this.containment[1]&&t-this.offset.click.top<=this.containment[3]?t:t-this.offset.click.top>=this.containment[1]?t-i.grid[1]:t+i.grid[1],n=this.originalPageX+Math.round((r-this.originalPageX)/i.grid[0])*i.grid[0],r=!this.containment||n-this.offset.click.left>=this.containment[0]&&n-this.offset.click.left<=this.containment[2]?n:n-this.offset.click.left>=this.containment[0]?n-i.grid[0]:n+i.grid[0])),{top:o-this.offset.click.top-this.offset.relative.top-this.offset.parent.top+("fixed"===this.cssPosition?-this.scrollParent.scrollTop():s?0:a.scrollTop()),left:r-this.offset.click.left-this.offset.relative.left-this.offset.parent.left+("fixed"===this.cssPosition?-this.scrollParent.scrollLeft():s?0:a.scrollLeft())}},_rearrange:function(e,t,n,i){n?n[0].appendChild(this.placeholder[0]):t.item[0].parentNode.insertBefore(this.placeholder[0],"down"===this.direction?t.item[0]:t.item[0].nextSibling),this.counter=this.counter?++this.counter:1;var r=this.counter;this._delay(function(){r===this.counter&&this.refreshPositions(!i)})},_clear:function(e,t){this.reverting=!1;var n,i=[];if(!this._noFinalSort&&this.currentItem.parent().length&&this.placeholder.before(this.currentItem),this._noFinalSort=null,this.helper[0]===this.currentItem[0]){for(n in this._storedCSS)"auto"!==this._storedCSS[n]&&"static"!==this._storedCSS[n]||(this._storedCSS[n]="");this.currentItem.css(this._storedCSS).removeClass("ui-sortable-helper")}else this.currentItem.show();for(this.fromOutside&&!t&&i.push(function(e){this._trigger("receive",e,this._uiHash(this.fromOutside))}),!this.fromOutside&&this.domPosition.prev===this.currentItem.prev().not(".ui-sortable-helper")[0]&&this.domPosition.parent===this.currentItem.parent()[0]||t||i.push(function(e){this._trigger("update",e,this._uiHash())}),this!==this.currentContainer&&(t||(i.push(function(e){this._trigger("remove",e,this._uiHash())}),i.push(function(t){return function(e){t._trigger("receive",e,this._uiHash(this))}}.call(this,this.currentContainer)),i.push(function(t){return function(e){t._trigger("update",e,this._uiHash(this))}}.call(this,this.currentContainer)))),n=this.containers.length-1;0<=n;n--)t||i.push(function(t){return function(e){t._trigger("deactivate",e,this._uiHash(this))}}.call(this,this.containers[n])),this.containers[n].containerCache.over&&(i.push(function(t){return function(e){t._trigger("out",e,this._uiHash(this))}}.call(this,this.containers[n])),this.containers[n].containerCache.over=0);if(this.storedCursor&&(this.document.find("body").css("cursor",this.storedCursor),this.storedStylesheet.remove()),this._storedOpacity&&this.helper.css("opacity",this._storedOpacity),this._storedZIndex&&this.helper.css("zIndex","auto"===this._storedZIndex?"":this._storedZIndex),this.dragging=!1,this.cancelHelperRemoval){if(!t){for(this._trigger("beforeStop",e,this._uiHash()),n=0;n<i.length;n++)i[n].call(this,e);this._trigger("stop",e,this._uiHash())}return this.fromOutside=!1}if(t||this._trigger("beforeStop",e,this._uiHash()),this.placeholder[0].parentNode.removeChild(this.placeholder[0]),this.helper[0]!==this.currentItem[0]&&this.helper.remove(),this.helper=null,!t){for(n=0;n<i.length;n++)i[n].call(this,e);this._trigger("stop",e,this._uiHash())}return!(this.fromOutside=!1)},_trigger:function(){!1===m.Widget.prototype._trigger.apply(this,arguments)&&this.cancel()},_uiHash:function(e){var t=e||this;return{helper:t.helper,placeholder:t.placeholder||m([]),position:t.position,originalPosition:t.originalPosition,offset:t.positionAbs,item:t.currentItem,sender:e?e.element:null}}})},function(e,t){$.fn.clwidont=function(){$(this).each(function(){!function e(t){for(var n=$(t).contents(),i=n.length-1;0<=i;i--){var r=n[i].nodeType;if(3==r){var o=n[i].nodeValue,a=o.search(/\s\S*$/);if(-1!=a)return n[i].nodeValue=o.substring(0,a)+" "+o.substring(a+1),1}else if(1==r&&e(n[i]))return 1}}(this)})}},function(e,t){jQuery.fn.clequalize=function(t,n){var i=0,r=0,o=$(this),a={init:function(){var e=o.parent().data("eqcols");null!=e&&(n=e),null!=n&&o.length>n?a.step():a.adjust()},step:function(){var e=0==r?o.filter(":lt("+n+")"):(e=o.filter(":gt("+(r-1)+")")).filter(":lt("+n+")");a.setmax(e),e.css(""+t,i),i=0,r<o.length-n?a.step():(e=o.filter(":gt("+(r-1)+")"),a.setmax(e),e.css(""+t,i))},setmax:function(e){$(e).each(function(){var e=a.value(this,t);i<e&&(i=e),r++})},adjust:function(){o.each(function(){var e=a.value(this,t);i<e&&(i=e)}),o.css(""+t,i)},value:function(e){return"height"==t?$(e).height():"width"==t?$(e).width():void 0}};a.init()}},function(e,t){var d;(d=jQuery).fn.clcarousel=function(e){var u=d.extend({},d.fn.clcarousel.defaultOptions,e);return this.each(function(){var t,n,i,r,o=d(this),a=d(this).children(u.children),s=!1,l=0;"horizontal"==u.orientation&&(r=!0);var c={init:function(){c.detectEasing(),c.structure(),c.navigation(),c.animateItems()},detectEasing:function(){d.easing.def||"swing"!=u.easing&&"linear"!=u.easing&&(u.easing="swing")},structure:function(){var e;o.addClass("carousel").wrap('<div class="carousel-mask"></div>').parent().wrap('<div class="carousel-wrap"></div>'),(t=o.closest(".carousel-wrap")).addClass("carousel-"+u.orientation),u.size&&(r?t.find(".carousel-mask").width(u.size):t.find(".carousel-mask").height(u.size)),r&&(e=0,a.each(function(){e+=d(this).outerWidth(!0)}),o.width(e)),c.items()},checkIndex:function(){var e=a.length;l>=e-u.show?(i.addClass("carousel-disabled"),l=e-u.show):i.removeClass("carousel-disabled"),l<=0?(l=0,n.addClass("carousel-disabled")):n.removeClass("carousel-disabled")},animateItems:function(){c.checkIndex();for(var e=0,t=0;t<l;t++)e+=r?a.eq(t).outerWidth(!0):a.eq(t).outerHeight(!0);r?o.stop().animate({left:-e},u.speed,u.easing,function(){s=!1,u.onAnimateEnd&&u.onAnimateEnd()}):o.stop().animate({top:-e},u.speed,u.easing,function(){s=!1,u.onAnimateEnd&&u.onAnimateEnd()})},navigation:function(){var e='<ul class="carousel-nav"><li class="carousel-prev"><a href="#"><span>'+u.prevlabel+'</span></a></li><li class="carousel-next"><a href="#"><span>'+u.nextlabel+"</span></a></li></ul>";t.prepend(e),n=t.find("li.carousel-prev a"),i=t.find("li.carousel-next a"),t.find(".carousel-nav a").click(function(){return s||d(this).hasClass("carousel-disabled")||(s=!0,d(this).parent().hasClass("carousel-prev")&&(u.interval?(l-=u.interval)<0&&(l=0):l--),d(this).parent().hasClass("carousel-next")&&(u.interval?(l+=u.interval)>=a.length&&(l=a.length):l++),c.animateItems()),!1})},items:function(){a.click(function(){"function"==typeof u.clickevent&&(c.selectitem(d(this)),u.clickevent.call(d(this)))})},selectitem:function(e){a.removeClass("carousel-selected"),d(e).addClass("carousel-selected")}};c.init()})},d.fn.clcarousel.defaultOptions={show:4,interval:null,children:"li",speed:250,prevlabel:"Prev",nextlabel:"Next",size:null,orientation:"horizontal",clickevent:null,onAnimateEnd:null,easing:"easeOutExpo"}},function(e,t,n){var i,r,d;
/*!
 * typeahead.js 1.4.2
 * https://github.com/corejavascript/typeahead.js
 * Copyright 2013-2020 Twitter, Inc. and other contributors; Licensed MIT
 */
d=this,i=[n(18)],void 0===(r=function(e){return d.Bloodhound=(c=e,u=function(){"use strict";return{isMsie:function(){return!!/(msie|trident)/i.test(navigator.userAgent)&&navigator.userAgent.match(/(msie |rv:)(\d+(.\d+)?)/i)[2]},isBlankString:function(e){return!e||/^\s*$/.test(e)},escapeRegExChars:function(e){return e.replace(/[\-\[\]\/\{\}\(\)\*\+\?\.\\\^\$\|]/g,"\\$&")},isString:function(e){return"string"==typeof e},isNumber:function(e){return"number"==typeof e},isArray:c.isArray,isFunction:c.isFunction,isObject:c.isPlainObject,isUndefined:function(e){return void 0===e},isElement:function(e){return!(!e||1!==e.nodeType)},isJQuery:function(e){return e instanceof c},toStr:function(e){return u.isUndefined(e)||null===e?"":e+""},bind:c.proxy,each:function(e,n){c.each(e,function(e,t){return n(t,e)})},map:c.map,filter:c.grep,every:function(n,i){var r=!0;return n?(c.each(n,function(e,t){if(!(r=i.call(null,t,e,n)))return!1}),!!r):r},some:function(n,i){var r=!1;return n?(c.each(n,function(e,t){if(r=i.call(null,t,e,n))return!1}),!!r):r},mixin:c.extend,identity:function(e){return e},clone:function(e){return c.extend(!0,{},e)},getIdGenerator:function(){var e=0;return function(){return e++}},templatify:function(e){return c.isFunction(e)?e:function(){return String(e)}},defer:function(e){setTimeout(e,0)},debounce:function(r,o,a){var s,l;return function(){var e=this,t=arguments,n=function(){s=null,a||(l=r.apply(e,t))},i=a&&!s;return clearTimeout(s),s=setTimeout(n,o),i&&(l=r.apply(e,t)),l}},throttle:function(n,i){var r,o,a,s,l=0,c=function(){l=new Date,a=null,s=n.apply(r,o)};return function(){var e=new Date,t=i-(e-l);return r=this,o=arguments,t<=0?(clearTimeout(a),a=null,l=e,s=n.apply(r,o)):a=a||setTimeout(c,t),s}},stringify:function(e){return u.isString(e)?e:JSON.stringify(e)},guid:function(){function e(e){var t=(Math.random().toString(16)+"000000000").substr(2,8);return e?"-"+t.substr(0,4)+"-"+t.substr(4,4):t}return"tt-"+e()+e(!0)+e(!0)+e()},noop:function(){}}}(),n=function(){"use strict";return{nonword:t,whitespace:e,ngram:n,obj:{nonword:i(t),whitespace:i(e),ngram:i(n)}};function e(e){return(e=u.toStr(e))?e.split(/\s+/):[]}function t(e){return(e=u.toStr(e))?e.split(/\W+/):[]}function n(e){e=u.toStr(e);var t=[],n="";return u.each(e.split(""),function(e){e.match(/\s+/)?n="":(t.push(n+e),n+=e)}),t}function i(i){return function(e){return e=u.isArray(e)?e:[].slice.call(arguments,0),function(t){var n=[];return u.each(e,function(e){n=n.concat(i(u.toStr(t[e])))}),n}}}}(),i=function(){"use strict";function e(e){this.maxSize=u.isNumber(e)?e:100,this.reset(),this.maxSize<=0&&(this.set=this.get=c.noop)}function t(){this.head=this.tail=null}function r(e,t){this.key=e,this.val=t,this.prev=this.next=null}return u.mixin(e.prototype,{set:function(e,t){var n,i=this.list.tail;this.size>=this.maxSize&&(this.list.remove(i),delete this.hash[i.key],this.size--),(n=this.hash[e])?(n.val=t,this.list.moveToFront(n)):(n=new r(e,t),this.list.add(n),this.hash[e]=n,this.size++)},get:function(e){var t=this.hash[e];if(t)return this.list.moveToFront(t),t.val},reset:function(){this.size=0,this.hash={},this.list=new t}}),u.mixin(t.prototype,{add:function(e){this.head&&(e.next=this.head,this.head.prev=e),this.head=e,this.tail=this.tail||e},remove:function(e){e.prev?e.prev.next=e.next:this.head=e.next,e.next?e.next.prev=e.prev:this.tail=e.prev},moveToFront:function(e){this.remove(e),this.add(e)}}),e}(),t=function(){"use strict";var o;try{(o=window.localStorage).setItem("~~~","!"),o.removeItem("~~~")}catch(e){o=null}function e(e,t){this.prefix=["__",e,"__"].join(""),this.ttlKey="__ttl__",this.keyMatcher=new RegExp("^"+u.escapeRegExChars(this.prefix)),this.ls=t||o,this.ls||this._noop()}return u.mixin(e.prototype,{_prefix:function(e){return this.prefix+e},_ttlKey:function(e){return this._prefix(e)+this.ttlKey},_noop:function(){this.get=this.set=this.remove=this.clear=this.isExpired=u.noop},_safeSet:function(e,t){try{this.ls.setItem(e,t)}catch(e){"QuotaExceededError"===e.name&&(this.clear(),this._noop())}},get:function(e){return this.isExpired(e)&&this.remove(e),n(this.ls.getItem(this._prefix(e)))},set:function(e,t,n){return u.isNumber(n)?this._safeSet(this._ttlKey(e),r(i()+n)):this.ls.removeItem(this._ttlKey(e)),this._safeSet(this._prefix(e),r(t))},remove:function(e){return this.ls.removeItem(this._ttlKey(e)),this.ls.removeItem(this._prefix(e)),this},clear:function(){for(var e=function(e){var t,n,i=[],r=o.length;for(t=0;t<r;t++)(n=o.key(t)).match(e)&&i.push(n.replace(e,""));return i}(this.keyMatcher),t=e.length;t--;)this.remove(e[t]);return this},isExpired:function(e){var t=n(this.ls.getItem(this._ttlKey(e)));return!!(u.isNumber(t)&&i()>t)}}),e;function i(){return(new Date).getTime()}function r(e){return JSON.stringify(u.isUndefined(e)?null:e)}function n(e){return c.parseJSON(e)}}(),r=function(){"use strict";var s=0,l={},t=new i(10);function e(e){e=e||{},this.maxPendingRequests=e.maxPendingRequests||6,this.cancelled=!1,this.lastReq=null,this._send=e.transport,this._get=e.limiter?e.limiter(this._get):this._get,this._cache=!1===e.cache?new i(0):t}return e.setMaxPendingRequests=function(e){this.maxPendingRequests=e},e.resetCache=function(){t.reset()},u.mixin(e.prototype,{_fingerprint:function(e){return(e=e||{}).url+e.type+c.param(e.data||{})},_get:function(e,t){var n,i,r=this;function o(e){t(null,e),r._cache.set(n,e)}function a(){t(!0)}n=this._fingerprint(e),this.cancelled||n!==this.lastReq||((i=l[n])?i.done(o).fail(a):s<this.maxPendingRequests?(s++,l[n]=this._send(e).done(o).fail(a).always(function(){s--,delete l[n],r.onDeckRequestArgs&&(r._get.apply(r,r.onDeckRequestArgs),r.onDeckRequestArgs=null)})):this.onDeckRequestArgs=[].slice.call(arguments,0))},get:function(e,t){var n,i;t=t||c.noop,e=u.isString(e)?{url:e}:e||{},i=this._fingerprint(e),this.cancelled=!1,this.lastReq=i,(n=this._cache.get(i))?t(null,n):this._get(e,t)},cancel:function(){this.cancelled=!0}}),e}(),o=window.SearchIndex=function(){"use strict";var s="c",l="i";function e(e){(e=e||{}).datumTokenizer&&e.queryTokenizer||c.error("datumTokenizer and queryTokenizer are both required"),this.identify=e.identify||u.stringify,this.datumTokenizer=e.datumTokenizer,this.queryTokenizer=e.queryTokenizer,this.matchAnyQueryToken=e.matchAnyQueryToken,this.reset()}return u.mixin(e.prototype,{bootstrap:function(e){this.datums=e.datums,this.trie=e.trie},add:function(e){var o=this;e=u.isArray(e)?e:[e],u.each(e,function(e){var r,t;o.datums[r=o.identify(e)]=e,t=n(o.datumTokenizer(e)),u.each(t,function(e){for(var t,n=o.trie,i=e.split("");t=i.shift();)(n=n[s][t]||(n[s][t]=a()))[l].push(r)})})},get:function(e){var t=this;return u.map(e,function(e){return t.datums[e]})},search:function(e){var o,a=this,t=n(this.queryTokenizer(e));return u.each(t,function(e){var t,n,i,r;if(o&&0===o.length&&!a.matchAnyQueryToken)return!1;for(t=a.trie,n=e.split("");t&&(i=n.shift());)t=t[s][i];if(t&&0===n.length)r=t[l].slice(0),o=o?function(e,t){var n=0,i=0,r=[];e=e.sort(),t=t.sort();var o=e.length,a=t.length;for(;n<o&&i<a;)e[n]<t[i]?n++:(e[n]>t[i]||(r.push(e[n]),n++),i++);return r}(o,r):r;else if(!a.matchAnyQueryToken)return!(o=[])}),o?u.map(function(e){for(var t={},n=[],i=0,r=e.length;i<r;i++)t[e[i]]||(t[e[i]]=!0,n.push(e[i]));return n}(o),function(e){return a.datums[e]}):[]},all:function(){var e,t=[];for(e in this.datums)t.push(this.datums[e]);return t},reset:function(){this.datums={},this.trie=a()},serialize:function(){return{datums:this.datums,trie:this.trie}}}),e;function n(e){return e=u.filter(e,function(e){return!!e}),e=u.map(e,function(e){return e.toLowerCase()})}function a(){var e={};return e[l]=[],e[s]={},e}}(),a=function(){"use strict";var n;function e(e){this.url=e.url,this.ttl=e.ttl,this.cache=e.cache,this.prepare=e.prepare,this.transform=e.transform,this.transport=e.transport,this.thumbprint=e.thumbprint,this.storage=new t(e.cacheKey)}return n={data:"data",protocol:"protocol",thumbprint:"thumbprint"},u.mixin(e.prototype,{_settings:function(){return{url:this.url,type:"GET",dataType:"json"}},store:function(e){this.cache&&(this.storage.set(n.data,e,this.ttl),this.storage.set(n.protocol,location.protocol,this.ttl),this.storage.set(n.thumbprint,this.thumbprint,this.ttl))},fromCache:function(){var e,t={};return this.cache?(t.data=this.storage.get(n.data),t.protocol=this.storage.get(n.protocol),t.thumbprint=this.storage.get(n.thumbprint),e=t.thumbprint!==this.thumbprint||t.protocol!==location.protocol,t.data&&!e?t.data:null):null},fromNetwork:function(t){var e,n=this;t&&(e=this.prepare(this._settings()),this.transport(e).fail(function(){t(!0)}).done(function(e){t(null,n.transform(e))}))},clear:function(){return this.storage.clear(),this}}),e}(),s=function(){"use strict";function e(e){this.url=e.url,this.prepare=e.prepare,this.transform=e.transform,this.indexResponse=e.indexResponse,this.transport=new r({cache:e.cache,limiter:e.limiter,transport:e.transport,maxPendingRequests:e.maxPendingRequests})}return u.mixin(e.prototype,{_settings:function(){return{url:this.url,type:"GET",dataType:"json"}},get:function(e,n){var t,i=this;if(n)return e=e||"",t=this.prepare(e,this._settings()),this.transport.get(t,function(e,t){n(e?[]:i.transform(t))})},cancelLastRequest:function(){this.transport.cancel()}}),e}(),l=function(){"use strict";return function(e){var t,n,i,r,o,a={initialize:!0,identify:u.stringify,datumTokenizer:null,queryTokenizer:null,matchAnyQueryToken:!1,sufficient:5,indexRemote:!1,sorter:null,local:[],prefetch:null,remote:null};return(e=u.mixin(a,e||{})).datumTokenizer||c.error("datumTokenizer is required"),e.queryTokenizer||c.error("queryTokenizer is required"),t=e.sorter,e.sorter=t?function(e){return e.sort(t)}:u.identity,e.local=u.isFunction(e.local)?e.local():e.local,e.prefetch=(n=e.prefetch)?(i={url:null,ttl:864e5,cache:!0,cacheKey:null,thumbprint:"",prepare:u.identity,transform:u.identity,transport:null},n=u.isString(n)?{url:n}:n,(n=u.mixin(i,n)).url||c.error("prefetch requires url to be set"),n.transform=n.filter||n.transform,n.cacheKey=n.cacheKey||n.url,n.thumbprint="1.4.2"+n.thumbprint,n.transport=n.transport?s(n.transport):c.ajax,n):null,e.remote=(r=e.remote)?(o={url:null,cache:!0,prepare:null,replace:null,wildcard:null,limiter:null,rateLimitBy:"debounce",rateLimitWait:300,transform:u.identity,transport:null},r=u.isString(r)?{url:r}:r,(r=u.mixin(o,r)).url||c.error("remote requires url to be set"),r.transform=r.filter||r.transform,r.prepare=function(e){var t,n,i;if(t=e.prepare,n=e.replace,i=e.wildcard,t)return t;t=n?function(e,t){return t.url=n(t.url,e),t}:e.wildcard?function(e,t){return t.url=t.url.replace(i,encodeURIComponent(e)),t}:function(e,t){return t};return t}(r),r.limiter=function(e){var t,n,i;t=e.limiter,n=e.rateLimitBy,i=e.rateLimitWait,t=t||(/^throttle$/i.test(n)?function(t){return function(e){return u.throttle(e,t)}}:function(t){return function(e){return u.debounce(e,t)}})(i);return t}(r),r.transport=r.transport?s(r.transport):c.ajax,delete r.replace,delete r.wildcard,delete r.rateLimitBy,delete r.rateLimitWait,r):void 0,e};function s(n){return function(e){var t=c.Deferred();return n(e,function(e){u.defer(function(){t.resolve(e)})},function(e){u.defer(function(){t.reject(e)})}),t}}}(),function(){"use strict";var e;function t(e){e=l(e),this.sorter=e.sorter,this.identify=e.identify,this.sufficient=e.sufficient,this.indexRemote=e.indexRemote,this.local=e.local,this.remote=e.remote?new s(e.remote):null,this.prefetch=e.prefetch?new a(e.prefetch):null,this.index=new o({identify:this.identify,datumTokenizer:e.datumTokenizer,queryTokenizer:e.queryTokenizer}),!1!==e.initialize&&this.initialize()}return e=window&&window.Bloodhound,t.noConflict=function(){return window&&(window.Bloodhound=e),t},t.tokenizers=n,u.mixin(t.prototype,{__ttAdapter:function(){var i=this;return this.remote?function(e,t,n){return i.search(e,t,n)}:function(e,t){return i.search(e,t)}},_loadPrefetch:function(){var e,n=this,i=c.Deferred();return this.prefetch?(e=this.prefetch.fromCache())?(this.index.bootstrap(e),i.resolve()):this.prefetch.fromNetwork(function(e,t){if(e)return i.reject();n.add(t),n.prefetch.store(n.index.serialize()),i.resolve()}):i.resolve(),i.promise()},_initialize:function(){var e=this;return this.clear(),(this.initPromise=this._loadPrefetch()).done(function(){e.add(e.local)}),this.initPromise},initialize:function(e){return!this.initPromise||e?this._initialize():this.initPromise},add:function(e){return this.index.add(e),this},get:function(e){return e=u.isArray(e)?e:[].slice.call(arguments),this.index.get(e)},search:function(e,t,i){var r,o=this;return t=t||u.noop,i=i||u.noop,r=this.sorter(this.index.search(e)),t(this.remote?r.slice():r),this.remote&&r.length<this.sufficient?this.remote.get(e,function(e){var n=[];u.each(e,function(t){u.some(r,function(e){return o.identify(t)===o.identify(e)})||n.push(t)}),o.indexRemote&&o.add(n),i(n)}):this.remote&&this.remote.cancelLastRequest(),this},all:function(){return this.index.all()},clear:function(){return this.index.reset(),this},clearPrefetchCache:function(){return this.prefetch&&this.prefetch.clear(),this},clearRemoteCache:function(){return r.resetCache(),this},ttAdapter:function(){return this.__ttAdapter()}}),t}());var c,u,n,i,t,r,o,a,s,l}.apply(t,i))||(e.exports=r)},function(n,i,r){(function(o){var e,t;e=[r(18)],void 0===(t=function(e){return g=e,v=function(){"use strict";return{isMsie:function(){return!!/(msie|trident)/i.test(navigator.userAgent)&&navigator.userAgent.match(/(msie |rv:)(\d+(.\d+)?)/i)[2]},isBlankString:function(e){return!e||/^\s*$/.test(e)},escapeRegExChars:function(e){return e.replace(/[\-\[\]\/\{\}\(\)\*\+\?\.\\\^\$\|]/g,"\\$&")},isString:function(e){return"string"==typeof e},isNumber:function(e){return"number"==typeof e},isArray:g.isArray,isFunction:g.isFunction,isObject:g.isPlainObject,isUndefined:function(e){return void 0===e},isElement:function(e){return!(!e||1!==e.nodeType)},isJQuery:function(e){return e instanceof g},toStr:function(e){return v.isUndefined(e)||null===e?"":e+""},bind:g.proxy,each:function(e,n){g.each(e,function(e,t){return n(t,e)})},map:g.map,filter:g.grep,every:function(n,i){var r=!0;return n?(g.each(n,function(e,t){if(!(r=i.call(null,t,e,n)))return!1}),!!r):r},some:function(n,i){var r=!1;return n?(g.each(n,function(e,t){if(r=i.call(null,t,e,n))return!1}),!!r):r},mixin:g.extend,identity:function(e){return e},clone:function(e){return g.extend(!0,{},e)},getIdGenerator:function(){var e=0;return function(){return e++}},templatify:function(e){return g.isFunction(e)?e:function(){return String(e)}},defer:function(e){setTimeout(e,0)},debounce:function(r,o,a){var s,l;return function(){var e=this,t=arguments,n=function(){s=null,a||(l=r.apply(e,t))},i=a&&!s;return clearTimeout(s),s=setTimeout(n,o),i&&(l=r.apply(e,t)),l}},throttle:function(n,i){var r,o,a,s,l=0,c=function(){l=new Date,a=null,s=n.apply(r,o)};return function(){var e=new Date,t=i-(e-l);return r=this,o=arguments,t<=0?(clearTimeout(a),a=null,l=e,s=n.apply(r,o)):a=a||setTimeout(c,t),s}},stringify:function(e){return v.isString(e)?e:JSON.stringify(e)},guid:function(){function e(e){var t=(Math.random().toString(16)+"000000000").substr(2,8);return e?"-"+t.substr(0,4)+"-"+t.substr(4,4):t}return"tt-"+e()+e(!0)+e(!0)+e()},noop:function(){}}}(),n=function(){"use strict";var i={wrapper:"twitter-typeahead",input:"tt-input",hint:"tt-hint",menu:"tt-menu",dataset:"tt-dataset",suggestion:"tt-suggestion",selectable:"tt-selectable",empty:"tt-empty",open:"tt-open",cursor:"tt-cursor",highlight:"tt-highlight",disabled:"tt-disabled"};return function(e){var t,n;return n=v.mixin({},i,e),{css:(t={css:function(){var e={wrapper:{position:"relative",display:"inline-block"},hint:{position:"absolute",top:"0",left:"0",borderColor:"transparent",boxShadow:"none",opacity:"1"},input:{position:"relative",verticalAlign:"top",backgroundColor:"transparent"},inputWithNoHint:{position:"relative",verticalAlign:"top"},menu:{position:"absolute",top:"100%",left:"0",zIndex:"100",display:"none"},ltr:{left:"0",right:"auto"},rtl:{left:"auto",right:" 0"}};v.isMsie()&&v.mixin(e.input,{backgroundImage:"url(data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7)"});return e}(),classes:n,html:function(e){return{wrapper:'<span class="'+e.wrapper+'"></span>',menu:'<div role="listbox" class="'+e.menu+'"></div>'}}(n),selectors:function(e){var n={};return v.each(e,function(e,t){n[t]="."+e}),n}(n)}).css,html:t.html,classes:t.classes,selectors:t.selectors,mixin:function(e){v.mixin(e,t)}}}}(),y=function(){"use strict";var n;function e(e){e&&e.el||g.error("EventBus initialized without el"),this.$el=g(e.el)}return n={render:"rendered",cursorchange:"cursorchanged",select:"selected",autocomplete:"autocompleted"},v.mixin(e.prototype,{_trigger:function(e,t){var n=g.Event("typeahead:"+e);return this.$el.trigger.call(this.$el,n,t||[]),n},before:function(e){var t=[].slice.call(arguments,1);return this._trigger("before"+e,t).isDefaultPrevented()},trigger:function(e){var t;this._trigger(e,[].slice.call(arguments,1)),(t=n[e])&&this._trigger(t,[].slice.call(arguments,1))}}),e}(),t=function(){"use strict";var s=/\s+/,a=function(){var e;e=window.setImmediate?function(e){o(function(){e()})}:function(e){setTimeout(function(){e()},0)};return e}();return{onSync:function(e,t,n){return i.call(this,"sync",e,t,n)},onAsync:function(e,t,n){return i.call(this,"async",e,t,n)},off:function(e){var t;if(!this._callbacks)return this;e=e.split(s);for(;t=e.shift();)delete this._callbacks[t];return this},trigger:function(e){var t,n,i,r,o;if(!this._callbacks)return this;e=e.split(s),i=[].slice.call(arguments,1);for(;(t=e.shift())&&(n=this._callbacks[t]);)r=l(n.sync,this,[t].concat(i)),o=l(n.async,this,[t].concat(i)),r()&&a(o);return this}};function i(e,t,n,i){var r,o,a;if(!n)return this;for(t=t.split(s),n=i?(a=i,(o=n).bind?o.bind(a):function(){o.apply(a,[].slice.call(arguments,0))}):n,this._callbacks=this._callbacks||{};r=t.shift();)this._callbacks[r]=this._callbacks[r]||{sync:[],async:[]},this._callbacks[r][e].push(n);return this}function l(i,r,o){return function(){for(var e,t=0,n=i.length;!e&&t<n;t+=1)e=!1===i[t].apply(r,o);return!e}}}(),s=function(a){"use strict";var e={node:null,pattern:null,tagName:"strong",className:null,wordsOnly:!1,caseSensitive:!1,diacriticInsensitive:!1},t={A:"[AaªÀ-Åà-åĀ-ąǍǎȀ-ȃȦȧᴬᵃḀḁẚẠ-ảₐ℀℁℻⒜Ⓐⓐ㍱-㍴㎀-㎄㎈㎉㎩-㎯㏂㏊㏟㏿Ａａ]",B:"[BbᴮᵇḂ-ḇℬ⒝Ⓑⓑ㍴㎅-㎇㏃㏈㏔㏝Ｂｂ]",C:"[CcÇçĆ-čᶜ℀ℂ℃℅℆ℭⅭⅽ⒞Ⓒⓒ㍶㎈㎉㎝㎠㎤㏄-㏇Ｃｃ]",D:"[DdĎďǄ-ǆǱ-ǳᴰᵈḊ-ḓⅅⅆⅮⅾ⒟Ⓓⓓ㋏㍲㍷-㍹㎗㎭-㎯㏅㏈Ｄｄ]",E:"[EeÈ-Ëè-ëĒ-ěȄ-ȇȨȩᴱᵉḘ-ḛẸ-ẽₑ℡ℯℰⅇ⒠Ⓔⓔ㉐㋍㋎Ｅｅ]",F:"[FfᶠḞḟ℉ℱ℻⒡Ⓕⓕ㎊-㎌㎙ﬀ-ﬄＦｆ]",G:"[GgĜ-ģǦǧǴǵᴳᵍḠḡℊ⒢Ⓖⓖ㋌㋍㎇㎍-㎏㎓㎬㏆㏉㏒㏿Ｇｇ]",H:"[HhĤĥȞȟʰᴴḢ-ḫẖℋ-ℎ⒣Ⓗⓗ㋌㍱㎐-㎔㏊㏋㏗Ｈｈ]",I:"[IiÌ-Ïì-ïĨ-İĲĳǏǐȈ-ȋᴵᵢḬḭỈ-ịⁱℐℑℹⅈⅠ-ⅣⅥ-ⅨⅪⅫⅰ-ⅳⅵ-ⅸⅺⅻ⒤Ⓘⓘ㍺㏌㏕ﬁﬃＩｉ]",J:"[JjĲ-ĵǇ-ǌǰʲᴶⅉ⒥ⒿⓙⱼＪｊ]",K:"[KkĶķǨǩᴷᵏḰ-ḵK⒦Ⓚⓚ㎄㎅㎉㎏㎑㎘㎞㎢㎦㎪㎸㎾㏀㏆㏍-㏏Ｋｋ]",L:"[LlĹ-ŀǇ-ǉˡᴸḶḷḺ-ḽℒℓ℡Ⅼⅼ⒧Ⓛⓛ㋏㎈㎉㏐-㏓㏕㏖㏿ﬂﬄＬｌ]",M:"[MmᴹᵐḾ-ṃ℠™ℳⅯⅿ⒨Ⓜⓜ㍷-㍹㎃㎆㎎㎒㎖㎙-㎨㎫㎳㎷㎹㎽㎿㏁㏂㏎㏐㏔-㏖㏘㏙㏞㏟Ｍｍ]",N:"[NnÑñŃ-ŉǊ-ǌǸǹᴺṄ-ṋⁿℕ№⒩Ⓝⓝ㎁㎋㎚㎱㎵㎻㏌㏑Ｎｎ]",O:"[OoºÒ-Öò-öŌ-őƠơǑǒǪǫȌ-ȏȮȯᴼᵒỌ-ỏₒ℅№ℴ⒪Ⓞⓞ㍵㏇㏒㏖Ｏｏ]",P:"[PpᴾᵖṔ-ṗℙ⒫Ⓟⓟ㉐㍱㍶㎀㎊㎩-㎬㎰㎴㎺㏋㏗-㏚Ｐｐ]",Q:"[Qqℚ⒬Ⓠⓠ㏃Ｑｑ]",R:"[RrŔ-řȐ-ȓʳᴿᵣṘ-ṛṞṟ₨ℛ-ℝ⒭Ⓡⓡ㋍㍴㎭-㎯㏚㏛Ｒｒ]",S:"[SsŚ-šſȘșˢṠ-ṣ₨℁℠⒮Ⓢⓢ㎧㎨㎮-㎳㏛㏜ﬆＳｓ]",T:"[TtŢ-ťȚțᵀᵗṪ-ṱẗ℡™⒯Ⓣⓣ㉐㋏㎔㏏ﬅﬆＴｔ]",U:"[UuÙ-Üù-üŨ-ųƯưǓǔȔ-ȗᵁᵘᵤṲ-ṷỤ-ủ℆⒰Ⓤⓤ㍳㍺Ｕｕ]",V:"[VvᵛᵥṼ-ṿⅣ-Ⅷⅳ-ⅷ⒱Ⓥⓥⱽ㋎㍵㎴-㎹㏜㏞Ｖｖ]",W:"[WwŴŵʷᵂẀ-ẉẘ⒲Ⓦⓦ㎺-㎿㏝Ｗｗ]",X:"[XxˣẊ-ẍₓ℻Ⅸ-Ⅻⅸ-ⅻ⒳Ⓧⓧ㏓Ｘｘ]",Y:"[YyÝýÿŶ-ŸȲȳʸẎẏẙỲ-ỹ⒴Ⓨⓨ㏉Ｙｙ]",Z:"[ZzŹ-žǱ-ǳᶻẐ-ẕℤℨ⒵Ⓩⓩ㎐-㎔Ｚｚ]"};return function(r){var o;(r=v.mixin({},e,r)).node&&r.pattern&&(r.pattern=v.isArray(r.pattern)?r.pattern:[r.pattern],o=function(e,t,n,i){for(var r,o=[],a=0,s=e.length;a<s;a++){var l=v.escapeRegExChars(e[a]);i&&(l=l.replace(/\S/g,c)),o.push(l)}return r=n?"\\b("+o.join("|")+")\\b":"("+o.join("|")+")",t?new RegExp(r):new RegExp(r,"i")}(r.pattern,r.caseSensitive,r.wordsOnly,r.diacriticInsensitive),function e(t,n){var i;for(var r=0;r<t.childNodes.length;r++)3===(i=t.childNodes[r]).nodeType?r+=n(i)?1:0:e(i,n)}(r.node,function(e){var t,n,i;(t=o.exec(e.data))&&(i=a.createElement(r.tagName),r.className&&(i.className=r.className),(n=e.splitText(t.index)).splitText(t[0].length),i.appendChild(n.cloneNode(!0)),e.parentNode.replaceChild(i,n));return!!t}))};function c(e){return t[e.toUpperCase()]||e}}(window.document),b=function(){"use strict";var o;function a(e,t){var n,i;(e=e||{}).input||g.error("input is missing"),t.mixin(this),this.$hint=g(e.hint),this.$input=g(e.input),this.$menu=g(e.menu),n=this.$input.attr("id")||v.guid(),this.$menu.attr("id",n+"_listbox"),this.$hint.attr({"aria-hidden":!0}),this.$input.attr({"aria-owns":n+"_listbox",role:"combobox","aria-autocomplete":"list","aria-expanded":!1}),this.query=this.$input.val(),this.queryWhenFocused=this.hasFocus()?this.query:null,this.$overflowHelper=(i=this.$input,g('<pre aria-hidden="true"></pre>').css({position:"absolute",visibility:"hidden",whiteSpace:"pre",fontFamily:i.css("font-family"),fontSize:i.css("font-size"),fontStyle:i.css("font-style"),fontVariant:i.css("font-variant"),fontWeight:i.css("font-weight"),wordSpacing:i.css("word-spacing"),letterSpacing:i.css("letter-spacing"),textIndent:i.css("text-indent"),textRendering:i.css("text-rendering"),textTransform:i.css("text-transform")}).insertAfter(i)),this._checkLanguageDirection(),0===this.$hint.length&&(this.setHint=this.getHint=this.clearHint=this.clearHintIfInvalid=v.noop),this.onSync("cursorchange",this._updateDescendent)}return o={9:"tab",27:"esc",37:"left",39:"right",13:"enter",38:"up",40:"down"},a.normalizeQuery=function(e){return v.toStr(e).replace(/^\s*/g,"").replace(/\s{2,}/g," ")},v.mixin(a.prototype,t,{_onBlur:function(){this.resetInputValue(),this.trigger("blurred")},_onFocus:function(){this.queryWhenFocused=this.query,this.trigger("focused")},_onKeydown:function(e){var t=o[e.which||e.keyCode];this._managePreventDefault(t,e),t&&this._shouldTrigger(t,e)&&this.trigger(t+"Keyed",e)},_onInput:function(){this._setQuery(this.getInputValue()),this.clearHintIfInvalid(),this._checkLanguageDirection()},_managePreventDefault:function(e,t){var n;switch(e){case"up":case"down":n=!i(t);break;default:n=!1}n&&t.preventDefault()},_shouldTrigger:function(e,t){var n="tab"!==e||!i(t);return n},_checkLanguageDirection:function(){var e=(this.$input.css("direction")||"ltr").toLowerCase();this.dir!==e&&(this.dir=e,this.$hint.attr("dir",e),this.trigger("langDirChanged",e))},_setQuery:function(e,t){var n,i,r,o;r=e,o=this.query,i=(n=a.normalizeQuery(r)===a.normalizeQuery(o))&&this.query.length!==e.length,this.query=e,t||n?!t&&i&&this.trigger("whitespaceChanged",this.query):this.trigger("queryChanged",this.query)},_updateDescendent:function(e,t){this.$input.attr("aria-activedescendant",t)},bind:function(){var t=this,e=v.bind(this._onBlur,this),n=v.bind(this._onFocus,this),i=v.bind(this._onKeydown,this),r=v.bind(this._onInput,this);return this.$input.on("blur.tt",e).on("focus.tt",n).on("keydown.tt",i),!v.isMsie()||9<v.isMsie()?this.$input.on("input.tt",r):this.$input.on("keydown.tt keypress.tt cut.tt paste.tt",function(e){o[e.which||e.keyCode]||v.defer(v.bind(t._onInput,t,e))}),this},focus:function(){this.$input.focus()},blur:function(){this.$input.blur()},getLangDir:function(){return this.dir},getQuery:function(){return this.query||""},setQuery:function(e,t){this.setInputValue(e),this._setQuery(e,t)},hasQueryChangedSinceLastFocus:function(){return this.query!==this.queryWhenFocused},getInputValue:function(){return this.$input.val()},setInputValue:function(e){this.$input.val(e),this.clearHintIfInvalid(),this._checkLanguageDirection()},resetInputValue:function(){this.setInputValue(this.query)},getHint:function(){return this.$hint.val()},setHint:function(e){this.$hint.val(e)},clearHint:function(){this.setHint("")},clearHintIfInvalid:function(){var e=this.getInputValue(),t=this.getHint(),n=e!==t&&0===t.indexOf(e);""!==e&&n&&!this.hasOverflow()||this.clearHint()},hasFocus:function(){return this.$input.is(":focus")},hasOverflow:function(){var e=this.$input.width()-2;return this.$overflowHelper.text(this.getInputValue()),this.$overflowHelper.width()>=e},isCursorAtEnd:function(){var e,t=this.$input.val().length,n=this.$input[0].selectionStart;return v.isNumber(n)?n===t:!document.selection||((e=document.selection.createRange()).moveStart("character",-t),t===e.text.length)},destroy:function(){this.$hint.off(".tt"),this.$input.off(".tt"),this.$overflowHelper.remove(),this.$hint=this.$input=this.$overflowHelper=g("<div>")},setAriaExpanded:function(e){this.$input.attr("aria-expanded",e)}}),a;function i(e){return e.altKey||e.ctrlKey||e.metaKey||e.shiftKey}}(),r=function(){"use strict";var a,o;function e(e,t){var n,i,r;(e=e||{}).templates=e.templates||{},e.templates.notFound=e.templates.notFound||e.templates.empty,e.source||g.error("missing source"),e.node||g.error("missing node"),e.name&&!/^[_a-zA-Z0-9-]+$/.test(e.name)&&g.error("invalid dataset name: "+e.name),t.mixin(this),this.highlight=!!e.highlight,this.name=v.toStr(e.name||o()),this.limit=e.limit||5,this.displayFn=(n=(n=e.display||e.displayKey)||v.stringify,v.isFunction(n)?n:function(e){return e[n]}),this.templates=(i=e.templates,r=this.displayFn,{notFound:i.notFound&&v.templatify(i.notFound),pending:i.pending&&v.templatify(i.pending),header:i.header&&v.templatify(i.header),footer:i.footer&&v.templatify(i.footer),suggestion:i.suggestion?function(e){var t=i.suggestion;return g(t(e)).attr("id",v.guid())}:function(e){return g('<div role="option">').attr("id",v.guid()).text(r(e))}}),this.source=e.source.__ttAdapter?e.source.__ttAdapter():e.source,this.async=v.isUndefined(e.async)?2<this.source.length:!!e.async,this._resetLastSuggestion(),this.$el=g(e.node).attr("role","presentation").addClass(this.classes.dataset).addClass(this.classes.dataset+"-"+this.name)}return a={dataset:"tt-selectable-dataset",val:"tt-selectable-display",obj:"tt-selectable-object"},o=v.getIdGenerator(),e.extractData=function(e){var t=g(e);return t.data(a.obj)?{dataset:t.data(a.dataset)||"",val:t.data(a.val)||"",obj:t.data(a.obj)||null}:null},v.mixin(e.prototype,t,{_overwrite:function(e,t){(t=t||[]).length?this._renderSuggestions(e,t):this.async&&this.templates.pending?this._renderPending(e):!this.async&&this.templates.notFound?this._renderNotFound(e):this._empty(),this.trigger("rendered",t,!1,this.name)},_append:function(e,t){(t=t||[]).length&&this.$lastSuggestion.length?this._appendSuggestions(e,t):t.length?this._renderSuggestions(e,t):!this.$lastSuggestion.length&&this.templates.notFound&&this._renderNotFound(e),this.trigger("rendered",t,!0,this.name)},_renderSuggestions:function(e,t){var n=this._getSuggestionsFragment(e,t);this.$lastSuggestion=n.children().last(),this.$el.html(n).prepend(this._getHeader(e,t)).append(this._getFooter(e,t))},_appendSuggestions:function(e,t){var n=this._getSuggestionsFragment(e,t),i=n.children().last();this.$lastSuggestion.after(n),this.$lastSuggestion=i},_renderPending:function(e){var t=this.templates.pending;this._resetLastSuggestion(),t&&this.$el.html(t({query:e,dataset:this.name}))},_renderNotFound:function(e){var t=this.templates.notFound;this._resetLastSuggestion(),t&&this.$el.html(t({query:e,dataset:this.name}))},_empty:function(){this.$el.empty(),this._resetLastSuggestion()},_getSuggestionsFragment:function(i,e){var r=this,o=document.createDocumentFragment();return v.each(e,function(e){var t=r._injectQuery(i,e),n=g(r.templates.suggestion(t)).data(a.dataset,r.name).data(a.obj,e).data(a.val,r.displayFn(e)).addClass(r.classes.suggestion+" "+r.classes.selectable);o.appendChild(n[0])}),this.highlight&&s({className:this.classes.highlight,node:o,pattern:i}),g(o)},_getFooter:function(e,t){return this.templates.footer?this.templates.footer({query:e,suggestions:t,dataset:this.name}):null},_getHeader:function(e,t){return this.templates.header?this.templates.header({query:e,suggestions:t,dataset:this.name}):null},_resetLastSuggestion:function(){this.$lastSuggestion=g()},_injectQuery:function(e,t){return v.isObject(t)?v.mixin({_query:e},t):t},update:function(n){var i=this,r=!1,t=!1,o=0;function e(e){t||(t=!0,e=(e||[]).slice(0,i.limit),o=e.length,i._overwrite(n,e),o<i.limit&&i.async&&i.trigger("asyncRequested",n,i.name))}this.cancel(),this.cancel=function(){r=!0,i.cancel=g.noop,i.async&&i.trigger("asyncCanceled",n,i.name)},this.source(n,e,function(e){{var t;e=e||[],!r&&o<i.limit&&(i.cancel=g.noop,t=Math.abs(o-i.limit),o+=t,i._append(n,e.slice(0,t)),i.async&&i.trigger("asyncReceived",n,i.name))}}),t||e([])},cancel:g.noop,clear:function(){this._empty(),this.cancel(),this.trigger("cleared")},isEmpty:function(){return this.$el.is(":empty")},destroy:function(){this.$el=g("<div>")}}),e}(),w=function(){"use strict";function e(e,n){var i=this;(e=e||{}).node||g.error("node is required"),n.mixin(this),this.$node=g(e.node),this.query=null,this.datasets=v.map(e.datasets,function(e){var t=i.$node.find(e.node).first();return e.node=t.length?t:g("<div>").appendTo(i.$node),new r(e,n)})}return v.mixin(e.prototype,t,{_onSelectableClick:function(e){this.trigger("selectableClicked",g(e.currentTarget))},_onRendered:function(e,t,n,i){this.$node.toggleClass(this.classes.empty,this._allDatasetsEmpty()),this.trigger("datasetRendered",t,n,i)},_onCleared:function(){this.$node.toggleClass(this.classes.empty,this._allDatasetsEmpty()),this.trigger("datasetCleared")},_propagate:function(){this.trigger.apply(this,arguments)},_allDatasetsEmpty:function(){return v.every(this.datasets,v.bind(function(e){var t=e.isEmpty();return this.$node.attr("aria-expanded",!t),t},this))},_getSelectables:function(){return this.$node.find(this.selectors.selectable)},_removeCursor:function(){var e=this.getActiveSelectable();e&&e.removeClass(this.classes.cursor)},_ensureVisible:function(e){var t=e.position().top,n=t+e.outerHeight(!0),i=this.$node.scrollTop(),r=this.$node.height()+parseInt(this.$node.css("paddingTop"),10)+parseInt(this.$node.css("paddingBottom"),10);t<0?this.$node.scrollTop(i+t):r<n&&this.$node.scrollTop(i+(n-r))},_getNextNonDisabledIndex:function(e,t,n,i){var r=this;function o(e){return r._getSelectables().eq(e)}function a(e){return e[0].hasAttribute("disabled")||e[0].classList.contains(r.classes.disabled)}var s=o(t);if(!s||!a(s))return t;if(0<e){for(var l=t+1;l<n;l++)if(!a(o(l)))return l}else for(l=t-1;0<=l;l--)if(!a(o(l)))return l;return i?0<e?r._getNextNonDisabledIndex(1,0,n,!1):r._getNextNonDisabledIndex(-1,n-1,n,!1):-1},bind:function(){var t=this,e=v.bind(this._onSelectableClick,this);return this.$node.on("click.tt",this.selectors.selectable,e),this.$node.on("mouseover",this.selectors.selectable,function(e){t.setCursor(g(this),e)}),this.$node.on("mouseleave",function(){t._removeCursor()}),v.each(this.datasets,function(e){e.onSync("asyncRequested",t._propagate,t).onSync("asyncCanceled",t._propagate,t).onSync("asyncReceived",t._propagate,t).onSync("rendered",t._onRendered,t).onSync("cleared",t._onCleared,t)}),this},isOpen:function(){return this.$node.hasClass(this.classes.open)},open:function(){this.$node.scrollTop(0),this.$node.addClass(this.classes.open)},close:function(){this.$node.attr("aria-expanded",!1),this.$node.removeClass(this.classes.open),this._removeCursor()},setLanguageDirection:function(e){this.$node.attr("dir",e)},selectableRelativeToCursor:function(e){var t,n,i=this.getActiveSelectable(),r=this._getSelectables();return r.filter(this.selectors.disabled).length===r.length?null:(t=(t=((t=(i?r.index(i):-1)+e)+1)%(r.length+1)-1)<-1?r.length-1:t,-1===(n=this._getNextNonDisabledIndex(e,t,r.length,!0))?null:r.eq(n))},setCursor:function(e,t){if((!e||!e.hasClass(this.classes.disabled))&&(this._removeCursor(),e=e&&e.first())){if(e.addClass(this.classes.cursor),t&&"mouseover"===t.type)return;this._ensureVisible(e)}},getSelectableData:function(e){return e&&e.length&&!e.hasClass(this.classes.disabled)?r.extractData(e):null},getActiveSelectable:function(){var e=this._getSelectables().filter(this.selectors.cursor).first();return e.length?e:null},getTopSelectable:function(){var e=this._getSelectables().not(this.selectors.disabled).first();return e.length?e:null},disableSelectable:function(e){e.addClass(this.classes.disabled)},enableSelectable:function(e){e.removeClass(this.classes.disabled)},update:function(t){var e=t!==this.query;return e&&(this.query=t,v.each(this.datasets,function(e){e.update(t)})),e},empty:function(){v.each(this.datasets,function(e){e.clear()}),this.query=null,this.$node.addClass(this.classes.empty)},destroy:function(){this.$node.off(".tt"),this.$node=g("<div>"),v.each(this.datasets,function(e){e.destroy()})}}),e}(),x=function(){"use strict";function e(e){this.$el=g("<span></span>",{role:"status","aria-live":"polite"}).css({position:"absolute",padding:"0",border:"0",height:"1px",width:"1px","margin-bottom":"-1px","margin-right":"-1px",overflow:"hidden",clip:"rect(0 0 0 0)","white-space":"nowrap"}),e.$input.after(this.$el),v.each(e.menu.datasets,v.bind(function(e){e.onSync&&(e.onSync("rendered",v.bind(this.update,this)),e.onSync("cleared",v.bind(this.cleared,this)))},this))}return v.mixin(e.prototype,{update:function(e,t){var n=t.length,i=1===n?{result:"result",is:"is"}:{result:"results",is:"are"};this.$el.text(n+" "+i.result+" "+i.is+" available, use up and down arrow keys to navigate.")},cleared:function(){this.$el.text("")}}),e}(),k=function(){"use strict";var t=w.prototype;function e(){w.apply(this,[].slice.call(arguments,0))}return v.mixin(e.prototype,w.prototype,{open:function(){return this._allDatasetsEmpty()||this._show(),t.open.apply(this,[].slice.call(arguments,0))},close:function(){return this._hide(),t.close.apply(this,[].slice.call(arguments,0))},_onRendered:function(){return this._allDatasetsEmpty()?this._hide():this.isOpen()&&this._show(),t._onRendered.apply(this,[].slice.call(arguments,0))},_onCleared:function(){return this._allDatasetsEmpty()?this._hide():this.isOpen()&&this._show(),t._onCleared.apply(this,[].slice.call(arguments,0))},setLanguageDirection:function(e){return this.$node.css("ltr"===e?this.css.ltr:this.css.rtl),t.setLanguageDirection.apply(this,[].slice.call(arguments,0))},_hide:function(){this.$node.hide()},_show:function(){this.$node.css("display","block")}}),e}(),C=function(){"use strict";function e(e,t){var n,i,r,o,a,s,l,c,u,d,f;(e=e||{}).input||g.error("missing input"),e.menu||g.error("missing menu"),e.eventBus||g.error("missing event bus"),t.mixin(this),this.eventBus=e.eventBus,this.minLength=v.isNumber(e.minLength)?e.minLength:1,this.input=e.input,this.menu=e.menu,this.enabled=!0,this.autoselect=!!e.autoselect,this.clearOnSelect=!!e.clearOnSelect,this.persistQuery=!!e.persistQuery,this.preventClose=!!e.preventClose,this.disableSuggestionOnSelect=!!e.disableSuggestionOnSelect,this.disableOnDirectionKeyAutoCompletion=!!e.disableOnDirectionKeyAutoCompletion,this.active=!1,this.input.hasFocus()&&this.activate(),this.dir=this.input.getLangDir(),this._hacks(),this.menu.bind().onSync("selectableClicked",this._onSelectableClicked,this).onSync("asyncRequested",this._onAsyncRequested,this).onSync("asyncCanceled",this._onAsyncCanceled,this).onSync("asyncReceived",this._onAsyncReceived,this).onSync("datasetRendered",this._onDatasetRendered,this).onSync("datasetCleared",this._onDatasetCleared,this),n=h(this,"activate","open","_onFocused"),i=h(this,"deactivate","_onBlurred"),r=h(this,"isActive","isOpen","_onEnterKeyed"),o=h(this,"isActive","isOpen","_onTabKeyed"),a=h(this,"isActive","_onEscKeyed"),s=h(this,"isActive","open","_onUpKeyed"),l=h(this,"isActive","open","_onDownKeyed"),c=h(this,"isActive","isOpen","_onLeftKeyed"),u=h(this,"isActive","isOpen","_onRightKeyed"),d=h(this,"_openIfActive","_onQueryChanged"),f=h(this,"_openIfActive","_onWhitespaceChanged"),this.input.bind().onSync("focused",n,this).onSync("blurred",i,this).onSync("enterKeyed",r,this).onSync("tabKeyed",o,this).onSync("escKeyed",a,this).onSync("upKeyed",s,this).onSync("downKeyed",l,this).onSync("leftKeyed",c,this).onSync("rightKeyed",u,this).onSync("queryChanged",d,this).onSync("whitespaceChanged",f,this).onSync("langDirChanged",this._onLangDirChanged,this)}return v.mixin(e.prototype,{_hacks:function(){var r=this.input.$input||g("<div>"),o=this.menu.$node||g("<div>");r.on("blur.tt",function(e){var t=document.activeElement,n=o.is(t),i=0<o.has(t).length;v.isMsie()&&(n||i)&&(e.preventDefault(),e.stopImmediatePropagation(),v.defer(function(){r.focus()}))}),o.on("mousedown.tt",function(e){e.preventDefault()})},_onSelectableClicked:function(e,t){this.select(t)},_onDatasetCleared:function(){this._updateHint()},_onDatasetRendered:function(e,t,n,i){var r;this._updateHint(),this.autoselect&&(r=this.selectors.cursor.substr(1),this.menu.$node.find(this.selectors.suggestion).first().addClass(r)),this.menu.$node[0].scrollTop=0,this.eventBus.trigger("render",t,n,i)},_onAsyncRequested:function(e,t,n){this.eventBus.trigger("asyncrequest",n,t)},_onAsyncCanceled:function(e,t,n){this.eventBus.trigger("asynccancel",n,t)},_onAsyncReceived:function(e,t,n){this.eventBus.trigger("asyncreceive",n,t)},_onFocused:function(){this._minLengthMet()&&this.menu.update(this.input.getQuery())},_onBlurred:function(){this.input.hasQueryChangedSinceLastFocus()&&this.eventBus.trigger("change",this.input.getQuery())},_onEnterKeyed:function(e,t){var n;(n=this.menu.getActiveSelectable())?this.select(n)&&(t.preventDefault(),t.stopPropagation()):this.autoselect&&this.select(this.menu.getTopSelectable())&&(t.preventDefault(),t.stopPropagation())},_onTabKeyed:function(e,t){var n;(n=this.menu.getActiveSelectable())?this.select(n)&&t.preventDefault():this.autoselect&&(n=this.menu.getTopSelectable())&&this.autocomplete(n)&&t.preventDefault()},_onEscKeyed:function(){this.close()},_onUpKeyed:function(){this.moveCursor(-1)},_onDownKeyed:function(){this.moveCursor(1)},_onLeftKeyed:function(){!this.disableOnDirectionKeyAutoCompletion&&"rtl"===this.dir&&this.input.isCursorAtEnd()&&this.autocomplete(this.menu.getActiveSelectable()||this.menu.getTopSelectable())},_onRightKeyed:function(){!this.disableOnDirectionKeyAutoCompletion&&"ltr"===this.dir&&this.input.isCursorAtEnd()&&this.autocomplete(this.menu.getActiveSelectable()||this.menu.getTopSelectable())},_onQueryChanged:function(e,t){this._minLengthMet(t)?this.menu.update(t):this.menu.empty()},_onWhitespaceChanged:function(){this._updateHint()},_onLangDirChanged:function(e,t){this.dir!==t&&(this.dir=t,this.menu.setLanguageDirection(t))},_openIfActive:function(){this.isActive()&&this.open()},_minLengthMet:function(e){return(e=v.isString(e)?e:this.input.getQuery()||"").length>=this.minLength},_updateHint:function(){var e,t,n,i=this.menu.getTopSelectable(),r=this.menu.getSelectableData(i),o=this.input.getInputValue();!r||v.isBlankString(o)||this.input.hasOverflow()?this.input.clearHint():(e=b.normalizeQuery(o),t=v.escapeRegExChars(e),(n=new RegExp("^(?:"+t+")(.+$)","i").exec(r.val))&&this.input.setHint(o+n[1]))},isEnabled:function(){return this.enabled},enable:function(){this.enabled=!0},disable:function(){this.enabled=!1},isActive:function(){return this.active},activate:function(){return!!this.isActive()||!(!this.isEnabled()||this.eventBus.before("active"))&&(this.active=!0,this.eventBus.trigger("active"),!0)},deactivate:function(){return!this.isActive()||!this.eventBus.before("idle")&&(this.active=!1,this.close(),this.eventBus.trigger("idle"),!0)},isOpen:function(){return this.menu.isOpen()},open:function(){return this.isOpen()||this.eventBus.before("open")||(this.input.setAriaExpanded(!0),this.menu.open(),this._updateHint(),this.eventBus.trigger("open")),this.isOpen()},close:function(){return this.preventClose||!this.isOpen()||this.eventBus.before("close")||(this.input.setAriaExpanded(!1),this.menu.close(),this.input.clearHint(),this.input.resetInputValue(),this.eventBus.trigger("close")),!this.isOpen()},setVal:function(e){this.input.setQuery(v.toStr(e))},getVal:function(){return this.input.getQuery()},select:function(e){var t=this.menu.getSelectableData(e);return!(!t||this.eventBus.before("select",t.obj,t.dataset))&&(this.persistQuery||(this.clearOnSelect?this.setVal(""):this.input.setQuery(t.val,!0)),this.disableSuggestionOnSelect&&this.menu.disableSelectable(e),this.eventBus.trigger("select",t.obj,t.dataset),this.close(),!0)},autocomplete:function(e){var t=this.input.getQuery(),n=this.menu.getSelectableData(e);return!(!(n&&t!==n.val)||this.eventBus.before("autocomplete",n.obj,n.dataset))&&(this.persistQuery||this.input.setQuery(n.val),this.eventBus.trigger("autocomplete",n.obj,n.dataset),!0)},moveCursor:function(e){var t=this.input.getQuery(),n=this.menu.selectableRelativeToCursor(e),i=this.menu.getSelectableData(n),r=i?i.obj:null,o=i?i.dataset:null,a=n?n.attr("id"):null;return this.input.trigger("cursorchange",a),!(this._minLengthMet()&&this.menu.update(t))&&!this.eventBus.before("cursorchange",r,o)&&(this.menu.setCursor(n),!this.persistQuery&&i?"string"==typeof i.val&&this.input.setInputValue(i.val):(this.input.resetInputValue(),this._updateHint()),this.eventBus.trigger("cursorchange",r,o),!0)},destroy:function(){this.input.destroy(),this.menu.destroy()}}),e;function h(n){var e=[].slice.call(arguments,1);return function(){var t=[].slice.call(arguments);v.each(e,function(e){return n[e].apply(n,t)})}}}(),void function(){"use strict";var e,p,t;function i(e,n){e.each(function(){var e,t=g(this);(e=t.data(p.typeahead))&&n(e,t)})}function m(e){var t=v.isJQuery(e)||v.isElement(e)?g(e).first():[];return t.length?t:null}e=g.fn.typeahead,p={www:"tt-www",attrs:"tt-attrs",typeahead:"tt-typeahead"},t={initialize:function(d,f){var h;return f=v.isArray(f)?f:[].slice.call(arguments,1),h=n((d=d||{}).classNames),this.each(function(){var e,t,n,i,r,o,a,s,l,c,u;v.each(f,function(e){e.highlight=!!d.highlight}),e=g(this),t=g(h.html.wrapper),n=m(d.hint),i=m(d.menu),r=!1!==d.hint&&!n,o=!1!==d.menu&&!i,r&&(n=function(e,t){return e.clone().addClass(t.classes.hint).removeData().css(t.css.hint).css(function(e){return{backgroundAttachment:e.css("background-attachment"),backgroundClip:e.css("background-clip"),backgroundColor:e.css("background-color"),backgroundImage:e.css("background-image"),backgroundOrigin:e.css("background-origin"),backgroundPosition:e.css("background-position"),backgroundRepeat:e.css("background-repeat"),backgroundSize:e.css("background-size")}}(e)).prop({readonly:!0,required:!1}).removeAttr("id name placeholder").removeClass("required").attr({spellcheck:"false",tabindex:-1})}(e,h)),o&&(i=g(h.html.menu).css(h.css.menu)),n&&n.val(""),e=function(e,t){e.data(p.attrs,{dir:e.attr("dir"),autocomplete:e.attr("autocomplete"),spellcheck:e.attr("spellcheck"),style:e.attr("style")}),e.addClass(t.classes.input).attr({spellcheck:!1});try{e.attr("dir")||e.attr("dir","auto")}catch(e){}return e}(e,h),(r||o)&&(t.css(h.css.wrapper),e.css(r?h.css.input:h.css.inputWithNoHint),e.wrap(t).parent().prepend(r?n:null).append(o?i:null));u=o?k:w,a=new y({el:e}),s=new b({hint:n,input:e,menu:i},h),l=new u({node:i,datasets:f},h),new x({$input:e,menu:l}),c=new C({input:s,menu:l,eventBus:a,minLength:d.minLength,autoselect:d.autoselect,clearOnSelect:d.clearOnSelect,persistQuery:d.persistQuery,preventClose:d.preventClose,disableSuggestionOnSelect:d.disableSuggestionOnSelect,disableOnDirectionKeyAutoCompletion:d.disableOnDirectionKeyAutoCompletion},h),e.data(p.www,h),e.data(p.typeahead,c)})},isEnabled:function(){var t;return i(this.first(),function(e){t=e.isEnabled()}),t},enable:function(){return i(this,function(e){e.enable()}),this},disable:function(){return i(this,function(e){e.disable()}),this},isActive:function(){var t;return i(this.first(),function(e){t=e.isActive()}),t},activate:function(){return i(this,function(e){e.activate()}),this},deactivate:function(){return i(this,function(e){e.deactivate()}),this},isOpen:function(){var t;return i(this.first(),function(e){t=e.isOpen()}),t},open:function(){return i(this,function(e){e.open()}),this},close:function(){return i(this,function(e){e.close()}),this},select:function(e){var t=!1,n=g(e);return i(this.first(),function(e){t=e.select(n)}),t},autocomplete:function(e){var t=!1,n=g(e);return i(this.first(),function(e){t=e.autocomplete(n)}),t},moveCursor:function(t){var n=!1;return i(this.first(),function(e){n=e.moveCursor(t)}),n},val:function(t){var n;return arguments.length?(i(this,function(e){e.setVal(v.toStr(t))}),this):(i(this.first(),function(e){n=e.getVal()}),n)},destroy:function(){return i(this,function(e,t){var n,i,r;i=(n=t).data(p.www),r=n.parent().filter(i.selectors.wrapper),v.each(n.data(p.attrs),function(e,t){v.isUndefined(e)?n.removeAttr(t):n.attr(t,e)}),n.removeData(p.typeahead).removeData(p.www).removeData(p.attr).removeClass(i.classes.input),r.length&&(n.detach().insertAfter(r),r.remove()),e.destroy()}),this}},g.fn.typeahead=function(e){return t[e]?t[e].apply(this,[].slice.call(arguments,1)):t.initialize.apply(this,arguments)},g.fn.typeahead.noConflict=function(){return g.fn.typeahead=e,this}}();var g,v,n,y,t,s,b,r,w,x,k,C}.apply(i,e))||(n.exports=t)}).call(this,r(351).setImmediate)},function(e,r,o){(function(e){var t=void 0!==e&&e||"undefined"!=typeof self&&self||window,n=Function.prototype.apply;function i(e,t){this._id=e,this._clearFn=t}r.setTimeout=function(){return new i(n.call(setTimeout,t,arguments),clearTimeout)},r.setInterval=function(){return new i(n.call(setInterval,t,arguments),clearInterval)},r.clearTimeout=r.clearInterval=function(e){e&&e.close()},i.prototype.unref=i.prototype.ref=function(){},i.prototype.close=function(){this._clearFn.call(t,this._id)},r.enroll=function(e,t){clearTimeout(e._idleTimeoutId),e._idleTimeout=t},r.unenroll=function(e){clearTimeout(e._idleTimeoutId),e._idleTimeout=-1},r._unrefActive=r.active=function(e){clearTimeout(e._idleTimeoutId);var t=e._idleTimeout;0<=t&&(e._idleTimeoutId=setTimeout(function(){e._onTimeout&&e._onTimeout()},t))},o(352),r.setImmediate="undefined"!=typeof self&&self.setImmediate||void 0!==e&&e.setImmediate||this&&this.setImmediate,r.clearImmediate="undefined"!=typeof self&&self.clearImmediate||void 0!==e&&e.clearImmediate||this&&this.clearImmediate}).call(this,o(13))},function(e,t,n){(function(e,p){!function(n,i){"use strict";var r,o,a,s,l,c,t,u,e;function d(e){delete o[e]}function f(e){if(a)setTimeout(f,0,e);else{var t=o[e];if(t){a=!0;try{!function(e){var t=e.callback,n=e.args;switch(n.length){case 0:t();break;case 1:t(n[0]);break;case 2:t(n[0],n[1]);break;case 3:t(n[0],n[1],n[2]);break;default:t.apply(i,n)}}(t)}finally{d(e),a=!1}}}}function h(e){e.source===n&&"string"==typeof e.data&&0===e.data.indexOf(u)&&f(+e.data.slice(u.length))}n.setImmediate||(r=1,a=!(o={}),s=n.document,e=(e=Object.getPrototypeOf&&Object.getPrototypeOf(n))&&e.setTimeout?e:n,l="[object process]"==={}.toString.call(n.process)?function(e){p.nextTick(function(){f(e)})}:function(){if(n.postMessage&&!n.importScripts){var e=!0,t=n.onmessage;return n.onmessage=function(){e=!1},n.postMessage("","*"),n.onmessage=t,e}}()?(u="setImmediate$"+Math.random()+"$",n.addEventListener?n.addEventListener("message",h,!1):n.attachEvent("onmessage",h),function(e){n.postMessage(u+e,"*")}):n.MessageChannel?((t=new MessageChannel).port1.onmessage=function(e){f(e.data)},function(e){t.port2.postMessage(e)}):s&&"onreadystatechange"in s.createElement("script")?(c=s.documentElement,function(e){var t=s.createElement("script");t.onreadystatechange=function(){f(e),t.onreadystatechange=null,c.removeChild(t),t=null},c.appendChild(t)}):function(e){setTimeout(f,0,e)},e.setImmediate=function(e){"function"!=typeof e&&(e=new Function(""+e));for(var t=new Array(arguments.length-1),n=0;n<t.length;n++)t[n]=arguments[n+1];var i={callback:e,args:t};return o[r]=i,l(r),r++},e.clearImmediate=d)}("undefined"==typeof self?void 0===e?this:e:self)}).call(this,n(13),n(353))},function(e,t){var n,i,r=e.exports={};function o(){throw new Error("setTimeout has not been defined")}function a(){throw new Error("clearTimeout has not been defined")}function s(t){if(n===setTimeout)return setTimeout(t,0);if((n===o||!n)&&setTimeout)return n=setTimeout,setTimeout(t,0);try{return n(t,0)}catch(e){try{return n.call(null,t,0)}catch(e){return n.call(this,t,0)}}}!function(){try{n="function"==typeof setTimeout?setTimeout:o}catch(e){n=o}try{i="function"==typeof clearTimeout?clearTimeout:a}catch(e){i=a}}();var l,c=[],u=!1,d=-1;function f(){u&&l&&(u=!1,l.length?c=l.concat(c):d=-1,c.length&&h())}function h(){if(!u){var e=s(f);u=!0;for(var t=c.length;t;){for(l=c,c=[];++d<t;)l&&l[d].run();d=-1,t=c.length}l=null,u=!1,function(t){if(i===clearTimeout)return clearTimeout(t);if((i===a||!i)&&clearTimeout)return i=clearTimeout,clearTimeout(t);try{i(t)}catch(e){try{return i.call(null,t)}catch(e){return i.call(this,t)}}}(e)}}function p(e,t){this.fun=e,this.array=t}function m(){}r.nextTick=function(e){var t=new Array(arguments.length-1);if(1<arguments.length)for(var n=1;n<arguments.length;n++)t[n-1]=arguments[n];c.push(new p(e,t)),1!==c.length||u||s(h)},p.prototype.run=function(){this.fun.apply(null,this.array)},r.title="browser",r.browser=!0,r.env={},r.argv=[],r.version="",r.versions={},r.on=m,r.addListener=m,r.once=m,r.off=m,r.removeListener=m,r.removeAllListeners=m,r.emit=m,r.prependListener=m,r.prependOnceListener=m,r.listeners=function(e){return[]},r.binding=function(e){throw new Error("process.binding is not supported")},r.cwd=function(){return"/"},r.chdir=function(e){throw new Error("process.chdir is not supported")},r.umask=function(){return 0}},function(e,t){!function(){var t=!1,n=!1,i=document.createElement("div");i.classList.add("debug-grid");var o=document.createElement("div");function r(){n&&l(),console.log(document.body,document),document.body.appendChild(i),t=!0}function a(){document.body.removeChild(i),t=!1}function s(){t&&a(),document.body.appendChild(o),n=!0}function l(){document.body.removeChild(o),n=!1}document.addEventListener("keydown",function(e){e.ctrlKey&&e.altKey&&e.shiftKey&&"/"===e.key?(n?l:s)():e.ctrlKey&&e.altKey&&"/"===e.key&&(t?a:r)()}),function(){var e=document.createElement("div");i.setAttribute("style","display: flex; z-index: 9999; position: fixed; top: 0; bottom: 0; left: 0; right: 0; margin-left: auto; margin-right: auto; pointer-events: none; opacity: 0.05; box-sizing: content-box !important; max-width: 1120px;"),e.setAttribute("style","flex: 1; background-color: #f00; margin-left: 5px; margin-right: 5px;");for(var t=0;t<14;t++){var n=e.cloneNode(!0);i.appendChild(n)}}(),function(){var e=document.createElement("div");o.setAttribute("style","display: flex; z-index: 9999; position: fixed; top: 0; bottom: 0; left: 0; right: 0; margin-left: auto; margin-right: auto; pointer-events: none; opacity: 0.1; box-sizing: content-box !important; max-width: 1120px;"),e.setAttribute("style","flex: 1; display: flex; justify-content: space-between;");for(var t=0;t<14;t++){var n=e.cloneNode(!0),i=document.createElement("div"),r=document.createElement("div");i.style.backgroundColor="#f00",i.style.width="5px",r.style.backgroundColor="#00f",r.style.width="5px",n.appendChild(i),n.appendChild(r),o.appendChild(n)}}();var e=window.location.search,c=new URLSearchParams(e),u=c.has("columns"),d=c.has("gutters");window.onload=function(){u?r():d&&s()}}()},function(e,t,n){var i,r,o;function a(e){return(a="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}o=function(){"use strict";function n(e){return new t(e)}function t(e){if(!e||1!==e.nodeType)throw new Error("A DOM Element reference is required");this.el=e,this.classList=e.classList}function a(e,t){if(t=t||"a method","string"!=typeof e)throw new TypeError("Failed to execute '"+t+"' on 'ClassList': the token provided ('"+e+"') is not a string.");if(""===e)throw new SyntaxError("Failed to execute '"+t+"' on 'ClassList': the token provided must not be empty.");if(/\s/.test(e))throw new Error("Failed to execute '"+t+"' on 'ClassList': the token provided ('"+e+"') contains HTML space characters, which are not valid in tokens.")}t.prototype.toArray=function(){var e=(this.el.getAttribute("class")||"").replace(/^\s+|\s+$/g,"").split(/\s+/);return""===e[0]&&e.shift(),e},t.prototype.add=function(e){var t;a(e,"add"),this.classList?this.classList.add(e):-1===(t=this.toArray()).indexOf(e)&&(t.push(e),this.el.setAttribute("class",t.join(" ")))},t.prototype.contains=function(e){return a(e,"contains"),this.classList?this.classList.contains(e):-1<this.toArray().indexOf(e)},t.prototype.remove=function(e){var t,n,i,r,o;if("[object RegExp]"==Object.prototype.toString.call(e))for(i=0,o=(t=this.toArray()).length;i<o;i++)e.test(t[i])&&this.remove(t[i]);else a(e,"remove"),this.classList?this.classList.remove(e):-1<(r=(n=this.toArray()).indexOf(e))&&(n.splice(r,1),this.el.setAttribute("class",n.join(" ")))},t.prototype.toggle=function(e,t){a(e,"toggle");var n=this.contains(e),i=n?!0!==t&&"remove":!1!==t&&"add";return i&&this[i](e),"boolean"==typeof t?t:!n},document.addEventListener("DOMContentLoaded",function(){var t,r=!1,e=0,o={text:!0,search:!0,url:!0,tel:!0,email:!0,password:!0,number:!0,date:!0,month:!0,week:!0,time:!0,datetime:!0,"datetime-local":!0};function a(e){n(e).contains("focus-ring")||(n(e).add("focus-ring"),e.setAttribute("data-focus-ring-added",""),t=e)}document.body.addEventListener("keydown",function(){r=!0,"BODY"!=document.activeElement.tagName&&(0!==e&&clearTimeout(e),e=setTimeout(function(){r=!1,e=0},100))},!0),document.body.addEventListener("focus",function(e){var t,n,i;(r||(t=e.target,n=t.type,"INPUT"==(i=t.tagName)&&o[n]&&!t.readonly||("TEXTAREA"==i&&!t.readonly||"true"==t.contentEditable)))&&a(e.target)},!0),document.body.addEventListener("blur",function(e){var t;(t=e.target).hasAttribute("data-focus-ring-added")&&(n(t).remove("focus-ring"),t.removeAttribute("data-focus-ring-added"))},!0),window.addEventListener("focus",function(){document.activeElement==t&&a(t)},!0)})},"object"===a(t)&&void 0!==e?o():void 0===(r="function"==typeof(i=o)?i.call(t,n,t,e):i)||(e.exports=r)},function(e,t,n){"use strict";n.r(t),n.d(t,"tagAutocompleter",function(){return i});var r,h,i={};h=r=!1,i.initialise=function(){var a,e,o,t,n,s,l,c,u,i,d;function f(e){var t,n,i=a.typeahead("val"),r=null;""!=i&&("autocompleted"===e||"blurring"===e?o.find(".in-progress,.blurring").remove():"in-progress"===e&&o.find(".blurring").remove(),o.find("ul li.tag input").each(function(){$(this).val().toLowerCase()==i.toLowerCase()&&(r=$(this))}),r?(t=r.closest("li"),"in-progress"===e?(o.find(".in-progress").remove(),t.fadeOut("fast",function(){t.fadeIn("fast")})):t.hasClass("in-progress")?t.removeClass("in-progress"):t.fadeOut("fast",function(){t.fadeIn("fast")})):((n=$('<li class="'+("tag"+(e?" "+e:""))+'"><span class="tag-content"></span><input type="hidden" name="tag" readonly /></li>')).find("input").val(i),n.find(".tag-content").text(i).attr("title",i),n.find(".tag-content").append('<i class="delete">&times;</i>'),"in-progress"===e&&o.find(".in-progress").remove(),o.find("ul").append(n),d())),"in-progress"!==e&&"blurring"!==e&&(o.find(".in-progress").removeClass("in-progress"),a.typeahead("val",""))}h||(h=!0,e=$("#frm-tags"),o=$("#current-tags"),t=e.length?(a=e,!1):(a=$("#list-tags"),$(".autocomplete-tags-data").data("has-more-tags")?person.hasMoreTags=!0:person.viewingTags=$(".autocomplete-tags-data").data("autocomplete-tags"),!0),a.attr("autocomplete","off"),n=null,a.on("focus",function(){var t="";n=setInterval(function(){var e=a.typeahead("val");e!==t&&(e?f("in-progress"):o.find(".in-progress").remove(),t=e)},50)}).on("blur",function(){n&&(clearInterval(n),n=null),$(this).val()&&f("blurring")}),0==o.find("ul").length&&o.append('<ul class="tags"/>'),a.length&&!r&&(s=8,l=9,c=13,u=188,a.on("keydown",function(e){var t="number"==typeof e.which?e.which:e.keyCode,n=a.typeahead("val"),i=a.data("ttTypeahead");if(t!==s||""!==n){if(t===c||t===u&&!e.shiftKey){e.preventDefault();var r=i.menu.getActiveSelectable();return t===c&&r?i.autocomplete(r):f(),!1}if(t===l){var o=i.menu.getTopSelectable();if(""!==n){if(o)return i.autocomplete(o),!1;if(!i.menu.getActiveSelectable()&&!i.menu.getTopSelectable())return f(),!1}}}return!0}),r=!0,i=a.data("url")+"?q=".concat("%QUERY"),t&&(i="".concat(i,"&isList=true")),person.hasMoreTags?a.typeahead({hint:!1,autoselect:!1,classNames:{menu:"tags-menu"}},{name:"tags",display:"value",source:new Bloodhound({remote:{url:i,transform:function(e){return e.data?e.data.map(function(e){return{value:e}}):[]},wildcard:"%QUERY"},datumTokenizer:Bloodhound.tokenizers.obj.whitespace("value"),queryTokenizer:Bloodhound.tokenizers.whitespace}),limit:3}):a.typeahead({hint:!1,autoselect:!1},{name:"tags",source:new Bloodhound({local:person.viewingTags,datumTokenizer:Bloodhound.tokenizers.whitespace,queryTokenizer:Bloodhound.tokenizers.whitespace}),limit:3}),a.on("typeahead:select",function(){f("autocompleted")}),a.on("typeahead:autocomplete",function(){f("autocompleted")})),$("body").on("click touchstart",".tag-content",function(){var e=$(this).attr("title");$(".tag-content").each(function(){$(this).attr("title")===e&&$(this).parent().fadeOut("fast",function(){$(this).remove()})})}),d=function(){renderMobile?$("#add-new-button").colorbox.resize({width:"100%"}):($("#modal").addClass("wide"),$("#add-new-button").colorbox.resize({innerWidth:"800px"}))})}},function(e,t,n){var i={"./0.protection.js":358,"./1.logged-out.js":80,"./2.films-filter.js":359,"./3.url-fixer.js":360,"./activity-pagination.js":361,"./ajax.js":53,"./analytics.js":362,"./autocomplete-tags.js":363,"./bxd-prototype.js":54,"./commentable.js":364,"./csi.js":365,"./editorial.js":366,"./film-poster-menu.js":367,"./follow-buttons.js":368,"./instant-rating.js":81,"./letterboxd-metadata.js":369,"./lists.js":370,"./logged-in.js":82,"./party-banner.js":371,"./popup-menu.js":372,"./rating-stars.js":58,"./tmdb.js":373,"./typekit.js":38,"./unsaved-changes-protection.js":374,"./utils.js":375,"./watchlist.js":376};function r(e){var t=o(e);return n(t)}function o(e){if(n.o(i,e))return i[e];var t=new Error("Cannot find module '"+e+"'");throw t.code="MODULE_NOT_FOUND",t}r.keys=function(){return Object.keys(i)},r.resolve=o,(e.exports=r).id=357},function(e,t){disableFrameProtection||window==window.top||(window.top.location=self.location)},function(e,t){$(function(){var e,r,o={};try{""===$.cookie("filmFilter")?$.cookie("filmFilter",null,{expires:0,path:"/"}):$.cookie("filmFilter")&&(e=$.cookie("filmFilter"),r=o,e.split(" ").forEach(function(e){var t,n,i=e.indexOf("-");0<=i&&(t=e.substring(0,i),n=e.substring(i+1),r[n]=t)}))}catch(e){$.cookie("filmFilter",null,{expires:0,path:"/"})}var a=Object.assign({},o),t=$("body"),n=t.data("owner")===person.username;n&&t.addClass("my-own-page"),"staff"!==person.role&&($(".js-film-filter[data-category='obscure']").hide(),delete a.obscure),person.canFilterOwned?n&&t.hasClass("owned-list")&&delete a.owned:($(".js-film-filter[data-category='owned']").hide(),delete a.owned);var i,s=$("#profile-header").data("person")===person.username;s&&(t.addClass("my-own-films"),delete a.watched),"show"!==a.rated&&"show"!==a.logged&&"show"!==a.reviewed||(t.addClass("watched-films-subset"),delete a.watched),s&&t.hasClass("films-reviewed")&&delete a.reviewed,s&&t.hasClass("films-rated")&&delete a.rated,s&&t.hasClass("films-diary")&&delete a.logged,s&&t.hasClass("likes")&&delete a.liked,$("#frm-watchlist-autocomplete").length&&delete a.watchlisted,t.hasClass("unreleased-films-only")&&delete a.unreleased,window.location.href.includes("genre/documentary/")&&(t.addClass("documentaries-only"),delete a.docs),"show"===a.watched?t.addClass("hide-unwatched"):"hide"===a.watched&&t.addClass("hide-watched"),$(".hide-toggle-menu").length&&(t.addClass("show-hide-toggle"),$(".js-film-filter").each(function(e,t){var n=$(t),i=n.data("category"),r=n.data("type");a[i]===r?n.addClass("smenu-subselected").find("a").data("toggle","on"):n.removeClass("smenu-subselected").find("a").data("toggle","off")}),$(".js-film-filter a").click(function(e){e.preventDefault();var t=$(this),n=t.parent().data("category"),i=t.parent().data("type"),r=$(this).data("toggle");"off"===r?($(this).data("toggle","on"),o[n]=i):"on"===r&&($(this).data("toggle","off"),delete o[n]),$.cookie("filmFilter",function(e){var t,n="";for(t in e){var i=e[t];0<n.length&&(n+=" "),n+=i+"-"+t}return n}(o),{expires:730,path:"/"}),location.reload()}),(i=function(){var e="true"==$.cookie("hideMyWatchedFilms");e?$("#hide-toggle-menu .js-fade-toggle input").prop("checked",!0):$("#hide-toggle-menu .js-fade-toggle input").prop("checked",!1),!e||s||a.watched?t.removeClass("hide-films-seen"):t.addClass("hide-films-seen"),$("#hide-toggle-menu .smenu-subselected").not(".fade-toggle-off").length?$(".hide-toggle-menu").closest(".sorting-selects").add("#hide-toggle-menu").addClass("hide-toggle-active"):$(".hide-toggle-menu").closest(".sorting-selects").add("#hide-toggle-menu").removeClass("hide-toggle-active")})(),$("#hide-toggle-menu .js-fade-toggle input").on("change",function(e){e.preventDefault(),s||a.watched||($(this).prop("checked")?$.cookie("hideMyWatchedFilms","true",{expires:730,path:"/"}):$.cookie("hideMyWatchedFilms",null,{expires:0,path:"/"}),i())})),$(document).on("click",".js-film-filter-remover",function(e){e.preventDefault(),$.cookie("filmFilter",null,{expires:0,path:"/"}),location.reload()})})},function(e,t){var r;window.urlFixerPromise=$.Deferred(),void 0!==window.history&&(r=window.location.href,"undefined"!=typeof fixURL&&(r=baseURL+fixURL),(0<r.indexOf("__requestid=")||"undefined"!=typeof fixURL)&&void 0!==window.history.replaceState&&(r=r.replace(/__requestid=[^&]*/,"").replace(/\?$/,"").replace("&&","&").replace("?&","?"),window.history.replaceState(null,null,r))),function(){var e,t,n,i;try{n=new Date,(e=window.sessionStorage).setItem(n,n),t=e.getItem(n)!=n,e.removeItem(n),t&&(e=!1)}catch(e){}e&&(i=e.getItem("sessionState")?JSON.parse(e.getItem("sessionState")):[],0<r.indexOf("fromApp=")&&(0<r.indexOf("fromApp=true")?(i.push("inApp"),e.setItem("sessionState",JSON.stringify(i))):(e.removeItem("sessionState"),i=[]),void 0!==window.history&&void 0!==window.history.replaceState&&(r=r.replace(/fromApp=[^&]*/,"").replace(/\?$/,"").replace("&&","&").replace("?&","?"),window.history.replaceState(null,null,r)))),$(function(){i.length&&"inApp"===i[0]?($("body").addClass("in-app"),$(".js-hide-in-app").remove(),$(".js-show-in-app").show(),renderMobile&&$(".backdrop-container").css("top",0),($("body").hasClass("signin-page")||$("body").hasClass("request-password-reset-page"))&&$("body").addClass("flat-bg")):$(".js-show-in-app").remove(),window.urlFixerPromise.resolve()})}()},function(e,t){$(function(){var e,t,n;function a(e,t){$("#pagination-errors").remove();var n,i,r,o=$(t).filter(".error-message");o.length?(n=[],o.each(function(){n.push($(this).html())}),$(".pagination").after("<div id='pagination-errors' class='messages'></div>"),bxd.showMessages("error",n)):(i=$(t),$("#activity-table-body").append(i),i.hide().fadeIn("slow"),i.filter("section.no-activity-message").length?e.hide():(void 0===(r=$("#activity-table-body").find("section:last-child").data("activity-id"))&&(r=0),e.data("after-id",r)),bxd.layout(i),window.jsprettify.run())}function i(){var e,t,n,i,r;t=$(".load-more-activity"),n=t.data("url"),i=t.data("after-id"),r=[],null!=i&&r.push("after="+i),$("#activity-stream-tab").hasClass("selected")&&(null!=(e=JSON.parse($.cookie("activity-streams-"+person.username)))?$(e).each(function(){r.push($(this)[0].name+"=true")}):$(["reviews","lists","stories","reviewComments","listComments","diaryEntries","watchlistAdditions","reviewLikes","listLikes","follows","yourActivity","incomingActivity"]).each(function(){r.push(this+"=true")})),r.length&&(n=n+"?"+r.join("&")),t.data("action",n),$(".load-more-activity").trigger("ajax-action")}function r(){$("#activity-table-body").empty(),$(".load-more-activity").show(),$(".load-more-activity").removeData("after-id"),i()}$("body").hasClass("activity-stream")&&(e=$(".activity-table"),person.username===e.data("owner")?void 0!==window.history&&void 0!==window.history.replaceState&&(t=window.location.href,n=baseURL+"/"+person.username+"/activity/following/",0<t.indexOf(n)?(t=t.replace(n,baseURL+"/activity/"),window.history.replaceState(null,null,t),$(".main-nav-activity").addClass("selected")):(n=baseURL+"/"+person.username+"/activity/",0<t.indexOf(n)&&(t=t.replace(n,baseURL+"/activity/you/"),window.history.replaceState(null,null,t),$(".main-nav-activity").addClass("selected")))):e.addClass("generic-person-activity")),$("section.no-activity-message").length?$(".load-more-activity").hide():($(".load-more-activity").bind("ajax-success",function(e,t,n,i){var r=$(this);$("#pagination-errors").remove();var o=$("#activity-table-body .no-activity-message");o.length?o.fadeOut("fast",function(){$(this).remove(),$(this)==o.get(0)&&a(r,t)}):a(r,t)}).bind("ajax-working",function(e,t,n,i){$(this).lbSpinner({size:12,fallback:globals.spinners.spinner_12_2C3641})}).bind("ajax-error",function(){$(this).lbSpinner("stop")}).bind("ajax-work-complete",function(e,t,n,i){$(this).lbSpinner("stop")}),$(document).bind("keydown","l",function(){$("a.load-more-activity").trigger("click")})),$(".load-more-activity").on("click",function(e){e.preventDefault(),i()}),i();var o,s=$(".js-activity-filter-options");null!=(o=JSON.parse($.cookie("activity-streams-"+person.username)))&&s.find("input").each(function(){var e=$(this).attr("name"),t=$(this),n=!1;$(o).each(function(){($(this)[0].name==e||"contentLikes"==$(this)[0].name&&("reviewLikes"==e||"listLikes"==e)||"ratings"==$(this)[0].name&&"diaryEntries"==e)&&(n=!0,t.prop("checked",!0))}),n||t.prop("checked",!1)});var l=!1,c=!1;$(".load-more-activity").on("ajax-working",function(){c=!0}).on("ajax-ready-for-next-action",function(){c=!1,l?($("#activity-table-body").hide(),l=!1,r()):$("#activity-table-body").show()}),s.find("input").on("click",function(){var e=JSON.stringify(s.serializeArray());$.cookie("activity-streams-"+person.username,e,{expires:730}),c?l=!0:r()}),$(".js-activity-filters").on("click",".js-toggle-settings-panel",function(e){e.preventDefault();var t=$(this).closest(".js-activity-filters"),n=t.find(".js-activity-filter-options"),i=t.find(".js-toggle-settings-panel");"on"==t.attr("data-panel-open")?(t.attr("data-panel-open","off"),i.attr("title","Edit Filters")):(t.attr("data-panel-open","on"),i.attr("title","Close Filters")),n.stop().slideToggle()})})},function(e,t){$(document).on("click","a.track-event",function(e){var t=$(this).data("track-category")||"Link",n=$(this).data("track-action")||"Click";ga("send","event",{eventCategory:t,eventAction:n,eventLabel:e.target.href,transport:"beacon"})})},function(e,t){var n,i;i=n=!1},function(e,t){var n={layoutCommentSection:function(e){$(function(){var r,s,l,d,f,h=$("#comments",e),p=$(".comment-list",h),m=p.data("owner");h.length&&((r=function(){person&&(person.moderator||person.username===m)?$("li.comment").addClass("editable"):($("li.comment.editable").removeClass("editable"),$("li.comment[data-person="+person.username+"]").each(function(e,t){parseInt($(t).data("editWindowExpiry"),10)+6e4>(new Date).getTime()&&$(t).addClass("editable")}),$("li.comment").not(".editable").find(".edit-comment,.delete-comment").fadeOut("slow",function(){$(this).remove()}))})(),setInterval(r,6e4),person.loggedIn&&($.ajax({url:h.data("reports-url")}).done(function(e){var t=$(".flag-content");t.length&&(e.reportedContent||t.show())}),person.blockedMembers.length&&h.find("li.comment").each(function(){var e=$(this);person.hasBlocked(e.attr("data-person"))&&!e.hasClass("comment-blocked")&&(e.addClass("comment-blocked comment-collapsed has-icon icon-16"),e.find(".comment-body").replaceWith("<div class='comment-body col-12 body-text -small'><p>You’ve blocked the author of this comment.</p></div>"),bxd.layout(e))}),h.on("submit","#comment-form",function(t){var n=$(this);return t.preventDefault(),n.hasClass("ajax-working")||(n.addClass("ajax-working"),$.post(n.attr("action"),n.serialize()).done(function(e){e.result?(bxd.showMessages("success",e.messages),n.find("[name=comment]").val(""),n.protectUnsavedChanges({reset:!0}),e.audienceMemberState&&$("#join-audience").data("state",e.audienceMemberState).trigger("subscriptionChanged"),bxd.fetchMissingComments({done:function(){$(t.delegateTarget).trigger("newcommentsubmission")}})):bxd.showMessages("error",e.messages)}).always(function(){n.removeClass("ajax-working")})),!1}),$("#join-audience").mouseover(function(e){var t;$(this).data("ajax-working")||("NotSubscribed"===(t=$(this).data("state"))||"Unsubscribed"===t?$(this).addClass("button-subscribe").removeClass("button-unsubscribe").find(".subscription-text").text("Enable notifications for this thread"):"Subscribed"===t&&$(this).addClass("button-unsubscribe").removeClass("button-subscribe").find(".subscription-text").text("Mute notifications for this thread"))}).mouseout(function(e){var t=$(this);$(this).data("ajax-working")||t.trigger("subscriptionChanged")}).bind("subscriptionChanged",function(e){var t=$(this),n=t.data("state");"NotSubscribed"===n?t.addClass("button-subscribe").removeClass("button-unsubscribe").data("action",t.data("subscribe-action")).find(".subscription-text").text("Notify me"):"Unsubscribed"===n?t.addClass("button-subscribe").removeClass("button-unsubscribe").data("action",t.data("subscribe-action")).find(".subscription-text").text("Notifications muted"):"Subscribed"===n&&t.addClass("button-unsubscribe").removeClass("button-subscribe").data("action",t.data("unsubscribe-action")).find(".subscription-text").text("Notifications enabled")}).bind("ajax-action",function(e){$(this).data("start-time",new Date)}).bind("ajax-working",function(e){$(this).find(".subscription-text").text("Saving...")}).bind("ajax-success",function(e,t,n,i){var r=$(this),o=r.data("start-time"),a=new Date-o,s=Math.max(0,1e3-a);r.trigger("ajax-working"),setTimeout(function(){r.trigger("ajax-work-complete"),t.messages&&bxd.showMessages(t.result?"success":"error",t.messages),t.result&&r.data("state",t.audienceMemberState),r.trigger("subscriptionChanged")},s)}).trigger("subscriptionChanged")),h.on("click","#show-all-comments",function(e){e.preventDefault();var t=$(this).parent().data("comments-link");t&&(document.location=t)}),h.on("click","#load-all-comments",function(e){e.preventDefault(),$(this).data("ajax-working")||($(this).data("ajax-working",!0),$(this).text("Loading…"),bxd.fetchMissingComments({preload:!0}))}),h.on("click","#load-previous-comments",function(e){var t;e.preventDefault(),$(this).data("ajax-working")||($(this).data("ajax-working",!0),$(this).text("loading…"),t=p.data("comments-start"),t=Math.max(0,t-20),bxd.fetchMissingComments({start:t,howMany:20}))}),h.on("click","li.comment-collapsed",function(e){e.preventDefault(),$(this).removeClass("comment-collapsed").addClass("comment-expanded");for(var t=$(this).next();t.hasClass("comment-collapsed");)t.removeClass("comment-collapsed").addClass("comment-expanded"),t=t.next()}),(s=function(){var e,t,n=p.data("num-comments");0<n?$("body.profile-hq").length?(e=$("li.comment:not(.removed-by-admin):not(.removed-by-owner):not(.deleted):not(.comment-blocked)",h).filter(":visible").length)<n?(t="<a href='#' id='show-all-comments'><span class='comment-count'>"+bxd.pluralise(e,"Comment","Comments","")+" of "+n+"</span></a>",$("#comments").addClass("has-comment-controls").find(".section-heading").html(t)):$("#comments .section-heading").text(1==e?"1 Comment":n+" Comments"):(e=$("li.comment:not(.removed-by-admin):not(.removed-by-owner):not(.deleted):not(.comment-blocked)",h).length)<n?(t="<span class='comment-count'>"+bxd.pluralise(n,"Comment","Comments","")+"</span><span class='comment-controls'>Newest "+bxd.formatNumber(e)+(n<100?" — <a href='#' id='load-all-comments'>Show all</a>":" — <a href='#' id='load-previous-comments'>Show previous</a>")+"</span>",$("#comments").addClass("has-comment-controls").find(".section-heading").html(t)):$("#comments .section-heading").text(1==e?"1 Comment":n+" Comments"):$("#comments .section-heading").text("Comment?"),r();var i=person.moderator||person.username===m?"li.comment":"li.comment.editable[data-person="+person.username+"]";$(i,h).each(function(){var e,t,n,i=$(this),r=i.find("span.comment-tools");0===r.length&&(r=$("<span class='comment-tools show-on-hover'></span>"),i.find(".js-comment-person").append(r)),!(person.moderator||person.username===i.data("person"))||0===(e=r.find(".edit-comment")).length&&(e=$("<a href='#' class='edit-comment has-icon icon-14 tooltip' title='Edit comment'>Edit</a>"),person.moderator&&e.addClass("show-on-hover"),r.append(e),t={href:i.data("edit-url")+"#modal",initialWidth:"510px",overlayClose:!1,title:" ",onComplete:function(){$("#edit-comment-cancel-button").on("click",function(){e.colorbox.close()})}},renderMobile&&(t.width="100%",t.initialWidth="288px",t.initialHeight="200px",t.transition="fade",t.speed=0,t.fixed=!0),e.colorbox(t)),!(person.moderator||person.username===m||person.username===i.data("person"))||0===(n=r.find(".delete-comment")).length&&((n=$("<a href='#' class='delete-comment ajax-click-action has-icon icon-14 tooltip' title='Delete comment' data-action='"+i.data("delete-url")+"' data-confirm='Are you sure you want to delete this&nbsp;comment?'>Delete</a>")).data("modal-confirm",{ok:"Delete",okClass:"-red"}),person.moderator&&n.addClass("show-on-hover"),r.append(n),n.on("ajax-success",function(e,t){t.result&&i.fadeOut(function(){bxd.fetchMissingComments()}),t.messages&&bxd.showMessages(t.result?"success":"error",t.messages)})),bxd.layout(r)})})(),l=1e4,d=function(){var e=p.data("timestamp");return l=e>(new Date).getTime()-6e5?1e4:3e5,{latest:e}},bxd.fetchMissingComments=function(o){var e=void 0!==o&&o.preload,t=void 0!==o&&o.start,n=void 0!==o&&o.howMany,c=p.find("li.comment"),i=h.data("url"),r={},u=null;e||(r.since=d().latest,"number"==typeof t?(r.start=t,"number"==typeof n&&(r.howMany=n)):u=r.since);var a=$.ajax({url:i,type:"GET",data:r});a.done(function(e,t,n){var i,r;n==a&&(""!==$.trim(e)&&(i=$(e),bxd.layout(i),p.data("num-comments",i.data("num-comments")),i.data("comments-start")&&p.data("comments-start",i.data("comments-start")),i.data("blocked-comments")&&(r=i.data("blocked-comments").split(","),$.each(r,function(e,t){$("li.comment[data-comment-id="+t+"]").not(".comment-collapsed").each(function(){$(this).addClass("comment-blocked comment-collapsed has-icon icon-16").html("<div class='comment-body col-12 body-text -small'><p><span class='replace-if-you' data-replacement='You’ve' data-person='"+m+"'>The "+p.data("commentableType")+"’s owner has</span> blocked the author of this comment.</p></div>"),bxd.layout($(this))})})),i.find("li.comment").each(function(){var e=$(this),t=e.data("timestamp");p.data("timestamp")<t&&p.data("timestamp",t);var n=e.data("comment-id"),i=c.filter("[data-comment-id="+n+"]"),r=e.attr("data-person");if(person.hasBlocked(r)&&(e.addClass("comment-blocked comment-collapsed has-icon icon-16"),e.find(".comment-body").replaceWith("<div class='comment-body col-12 body-text -small'><p>You’ve blocked the author of this comment.</p></div>"),bxd.layout(e),i.replaceWith(e)),1<=i.length)i.data("timestamp")!=e.data("timestamp")&&(e.insertAfter(i),i.remove());else{var o=e.data("creation-timestamp");if(null===u||u<=o){for(var a=p.find("li.comment"),s=null,l=a.length-1;0<=l&&$(a[l]).data("creation-timestamp")>o;l--)s=$(a[l]);s?e.insertBefore(s):p.append(e)}}})),s(),o&&o.done&&o.done())}).always(function(){d(),clearTimeout(f),f=setTimeout(bxd.fetchMissingComments,l)})},location.hash&&bxd.fetchMissingComments({preload:!0,done:function(){setTimeout(function(){var e=location.hash;location.hash="",location.hash=e},100)}}),d(),f=setTimeout(bxd.fetchMissingComments,l))})}};$(function(){$("body").on("submit","#comment-editor-modal form",function(e){var t=$(this);return e.preventDefault(),t.hasClass("ajax-working")||(t.addClass("ajax-working"),$.post(t.attr("action"),t.serialize()).done(function(e){e.result?(bxd.showMessages("success",e.messages),$("#comments .edit-comment").colorbox.close(),bxd.fetchMissingComments()):bxd.showMessages("error",e.messages)}).always(function(){t.removeClass("ajax-working")})),!1})}),window.commentSection=n},function(e,t){var n,i,a="csi",r=function(e,t,n){var i,r=this;this._topic=e,this._$el=t,this._jqXHR=n;var o=new Promise(function(e){i=e});this._jqXHR.done(function(e){PubSub.publish(r._topic);var t=$.data(r._$el[0],a);t&&t.$replacement?i(t.$replacement):i()}),this.getTopic=function(){return r._topic},this.onReady=function(){return o}};function o(n,e){n.removeClass("js-csi").addClass("loading-csi");var i=n.data("on-load"),t=$.ajax({url:n.data("src"),success:function(e){var t=$(e);t.length?(n.empty().append(t),bxd.layout(n),t.unwrap(),i&&$.data(n[0],a,{$replacement:t})):n.remove()},complete:function(){e&&e()},error:function(){bxd.componentFailed()}});i&&bxd.setCSIRequestReference(new r(i,n,t))}i=!(n=[]),PubSub.subscribe("csi",function(){$(".js-csi").each(function(){o($(this))}),$(".js-serial-csi").each(function(){$(this).removeClass("js-serial-csi").addClass("loading-csi"),n.push($(this)),function e(){i||(i=!0,o(n.shift(),function(){i=!1,n.length&&e()}))}()})})},function(e,t){var a;a=jQuery,jQuery.expr[":"].Contains=function(e,t,n){return 0<=(e.textContent||e.innerText||"").toUpperCase().indexOf(n[3].toUpperCase())},a(function(){a("body").hasClass("editorial")&&a(".filterable-list").length&&(function(e,i){var t=a("<form>").attr({class:"filterform",action:"#"}),n=a("<input>").attr({class:"filterinput",placeholder:"Quick find…",type:"text"}),r=a("<span>").attr("class","filterclear").html("&times;");a(t).append(n).append(r).appendTo(e),a(r).hide(),a(i).find(".js-filter-listitem");var o=new URLSearchParams(window.location.search).get("s");a(t).submit(function(){return!1}),a(n).change(function(){a("#filter-no-matches, #filter-matches").remove();var e=a(this).val().trim().split(/\s+/);if(e.length&&e[0].length){a(r).show(),a(i).find(".section-heading").show();var t,n=a(i).children("li");for(t in e)t.length&&(n=n.filter(a(i).children("li:Contains("+e[t]+")")));a(i).children("li").hide(),n.show().children(".section-heading").hide(),0===a(i).find(":visible").length?a(i).append("<li class='filtermessage' id='filter-no-matches'><h1>Sorry, no matches!</h1><p>These aren’t the droids you’re looking for.</p></li>"):a(i).prepend("<li class='filtermessage' id='filter-matches'><h2 class='section-heading'>Matching answers</h2></li>")}else a(r).hide(),a(i).children("li").show().children(".section-heading").show();return!1}).keyup(function(){a(this).change()}),o&&a(n).val(o).trigger("change")}(a("#sidebar"),a(".filterable-list")),a("body").on("click",".filterclear",function(){a(".filterinput").val("").trigger("change"),a(this).hide()}))})},function(e,t){var v;(v=jQuery).fn.filmPosterMenu=function(g){g=v.extend({},{parent:function(e){return e.closest(".poster")}},g);return v.template("filmMenuTemplate",'<div class="popup-menu film-menu"><ul><li class="fm-rate popup-menu-text"><input class="fm-rateit-field film-menu-rating-${FilmId}" type="range" min="0" max="10" step="1" value="0"/><div class="fm-rateit instant-rating" data-rateit-backingfld=".film-menu-rating-${FilmId}" data-rateit-starwidth="10" data-rateit-starheight="19" data-rateit-resetable="false"></div></li>{{if AddToFilms}}<li class="fm-add-to-films popup-menu-text"><a href="#" class="menu-item-add-this-film" data-film-id="${FilmId}" data-film-name="${FilmName}" data-poster-url="${FilmPoster}" data-film-release-year="${FilmReleaseYear}">Log or review film&hellip;</a></li>{{/if}}{{if Watchlist}}<li class="fm-add-to-watchlist popup-menu-text"><a href="#" class="add-to-watchlist ajax-click-action" data-film-id="${FilmId}" data-action="${AddToWatchlistAction}">Add to watchlist</a></li>{{/if}}{{if Watchlist}}<li class="fm-remove-from-watchlist popup-menu-text"><a href="#" class="remove-from-watchlist ajax-click-action" data-film-id="${FilmId}" data-action="${RemoveFromWatchlistAction}">Remove from watchlist</a></li>{{/if}}{{if AddToList}}<li class="fm-add-to-list popup-menu-text"><a href="#" class="menu-item-add-to-list" data-film-id="${FilmId}" data-film-name="${FilmName}" data-new-list-with-film-action="${StartNewListURL}" data-poster-url="${FilmPoster}" data-film-release-year="${FilmReleaseYear}">Add to a list&hellip;</a></li>{{/if}}{{if FilmListsPage}}<li class="fm-show-in-lists popup-menu-text"><a href="${FilmListsPage}">Show in lists</a></li>{{/if}}{{if FilmPageLink}}<li class="fm-film-page popup-menu-text"><a href="${FilmPageLink}">Reviews and info</a></li>{{/if}}{{if IsFilmPage}}<li class="popup-menu-text"><a href="#" class="js-more-services-popup">Where to watch</a></li>{{else}}<li class="popup-menu-text"><a href="${FilmPageLink}watch/">Where to watch</a></li>{{/if}}</ul></div>'),v(this).each(function(){var l,n=v(this),c=v(this).find("span.js-film-options"),u=g.parent(v(this)),d=35,t=null,i=null,r=!1,o=!1;u.hasClass("poster")&&(o=!0),n.click(function(e){if(v(e.target).hasClass("overlay")||v(e.target).hasClass("has-menu")){if(!v(e.target).hasClass("has-menu")&&!v(e.target).parent().hasClass("has-menu"))return!0;if(v(".film-menu:visible").length)e.preventDefault();else{if(c.is(":visible"))return a(),!0;e.preventDefault()}}else e.preventDefault()}),n.mouseenter(function(e){o&&(i=setTimeout(function(){c.show(),i=null},50)),h.appendTo("body")}),n.mouseleave(function(e){m(e,!0)||(null!==i&&o&&(clearTimeout(i),i=null),a())}),c.appendTo(n),o&&c.hide(),l=c.find("span.menu-link");var e=[],f={};person.loggedIn&&(f.AddToFilms=!0,f.AddToList=!0,f.Watchlist=!0,f.AddToWatchlistAction=u.data("add-to-watchlist-action"),f.RemoveFromWatchlistAction=u.data("remove-from-watchlist-action")),f.IsFilmPage=v("body").hasClass("film"),f.IsNotFilmPage=!f.IsFilmPage,f.FilmPageLink=f.IsFilmPage?null:u.data("film-link"),f.FilmListsPage=v("body").hasClass("lists-with-film")?null:u.data("film-link")+"lists/by/popular/",f.FilmId=u.data("film-id"),f.FilmName=u.attr("data-film-name"),f.FilmReleaseYear=u.data("film-release-year"),f.FilmPoster=u.data("poster-url"),f.StartNewListURL=u.data("new-list-with-film-action"),e.push(f);var h=v.tmpl("filmMenuTemplate",e);function a(){o&&c.hide(),h.is(":visible")&&p()}function s(e){r=!1,l.css({opacity:1}),m(e,!1)?p():(p(),a())}function p(){setTimeout(function(){h.hide()},50)}function m(e,t){return eventIsInsideElement(e,n)||t&&h.is(":visible")&&!!eventIsInsideElement(e,h)}h.find(".popup-menu-text").last().addClass("-last"),h.append('<i class="replace popup-arrow"></i>'),l.bind("click",function(e){e.preventDefault(),h.is(":visible")?(v(this).css({opacity:1}),p()):(t&&(clearTimeout(t),t=null),v(this).css({opacity:.5}),function(){u.filter("[data-film-id="+f.FilmId+"]").data("film-in-watchlist")?(h.find("a.add-to-watchlist").closest("li").addClass("hidden"),h.find("a.remove-from-watchlist").closest("li").removeClass("hidden")):(h.find("a.add-to-watchlist").closest("li").removeClass("hidden"),h.find("a.remove-from-watchlist").closest("li").addClass("hidden"));c.hasClass("-w70")&&(d-=2);var e=l.offset(),t=e.left+l.width(),n="auto",i=v(window).width(),r=v(window).height()-(e.top+d),o=h.outerWidth(),a=h.find("li.fm-rate .fm-rateit"),s=u.data("film-rating")||0;a.hasClass("rateit")||(h.find("li.fm-rate input").val(s),a.data("rate-action",u.data("rate-action")),a.data("film-id",u.data("film-id")),a.rateit().bind("rated",function(){p()}));a.rateit("display",s),i<t+o?(n=i-e.left,t="auto",h.addClass("popup-menu-w")):h.removeClass("popup-menu-w");h.css({left:t,right:n,bottom:r,top:"auto"}).show()}())}),l.mouseleave(function(){null===t&&(t=setTimeout(function(){t=null,r||(l.css({opacity:1}),p())},500))}),h.mouseenter(function(){r=!0,t&&(clearTimeout(t),t=null)}),h.mouseleave(s),h.find("a").click(s)})}},function(e,t){$(function(){$(document).on("mouseover","a.js-button-following",function(e){$(this).addClass("button-unfollow -unfollow").find("span.button-text").text("Unfollow")}).on("mouseout","a.js-button-following",function(e){$(this).removeClass("button-unfollow -unfollow").find("span.button-text").text("Following")}).on("ajax-success","a.js-button-following",function(e,t,n,i){var r=$(this);r.trigger("ajax-working"),t.result?r.fadeOut("fast",function(){r.parent().find(".js-button-follow").fadeIn("fast",function(){r.trigger("ajax-work-complete")})}):(t.messages&&bxd.showMessages("error",t.messages),r.trigger("ajax-work-complete")),ga("send","event","Following","Unfollowed")}),$(document).on("ajax-success",".js-button-follow",function(e,t,n,i){var r=$(this);r.trigger("ajax-working"),t.result?r.fadeOut("fast",function(){r.parent().find(".js-button-following").fadeIn("fast",function(){r.trigger("ajax-work-complete")})}):(t.messages&&bxd.showMessages("error",t.messages),r.trigger("ajax-work-complete")),ga("send","event","Following","Followed")}),$(document).on("click","a.link-blocked",function(e){e.preventDefault()}),$(document).on("mouseover","a.js-button-blocked",function(e){$(this).addClass("button-unblock").find("span.button-text").text("Unblock")}).on("mouseout","a.js-button-blocked",function(e){$(this).removeClass("button-unblock").find("span.button-text").text("Blocked")}).on("ajax-success","a.js-button-blocked",function(e,t,n,i){var r=$(this);r.trigger("ajax-working"),t.result?(PubSub.publish("block-member",{member:r.closest(".follow-button-wrapper").data("username"),blocked:!1}),r.fadeOut("fast",function(){r.parent().find(".js-button-follow").fadeIn("fast",function(){r.trigger("ajax-work-complete")}),$(".link-block").css("display","block").parent().find(".link-blocked").hide()})):(t.messages&&bxd.showMessages("error",t.messages),r.trigger("ajax-work-complete"))}),$(document).on("ajax-success",".link-block",function(e,t,n,i){var r=$(this);r.trigger("ajax-working"),t.result?(PubSub.publish("block-member",{member:r.closest(".block-or-report-menu").data("username"),blocked:!0}),$(".follow-button-wrapper").find(".follows-message").hide(),r.hide().parent().find(".link-blocked").css("display","block"),r.trigger("ajax-work-complete"),$(".js-button-follow:visible, .js-button-following:visible").fadeOut("fast",function(){$(this).parent().find(".js-button-blocked").fadeIn("fast")})):(t.messages&&bxd.showMessages("error",t.messages),r.trigger("ajax-work-complete"))}),PubSub.subscribe("block-member",function(e,t){var n;t.blocked?((n=person.blockedMembers.indexOf(t.member))<0&&person.blockedMembers.push(t.member),$(".follow-button-wrapper[data-username="+t.member+"]").each(function(){var e=$(this).find(".js-button-blocked");e?(e.show(),$(this).find(".js-button-following,.js-button-follow").hide(),$(".link-blocked").css("display","block").parent().find(".link-block").hide(),$(this).css("visibility","visible")):$(this).remove()}),$(".block-or-report-menu[data-username="+t.member+"]").each(function(){$(this).find(".link-block").hide(),$(this).find(".link-blocked").css("display","block")})):(0<=(n=person.blockedMembers.indexOf(t.member))&&person.blockedMembers.splice(n,1),$(".block-or-report-menu[data-username="+t.member+"]").each(function(){$(this).find(".link-blocked").hide(),$(this).find(".link-block").css("display","block")})),commentSection.layoutCommentSection()})})},function(e,t){!function(){var n,i={posters:[],follows:[],followers:[],likeables:[],likeCounts:[]},r={posters:[],follows:[],followers:[],likeables:[],likeCounts:[]};PubSub.subscribe("letterboxd-metadata",function(e,t){t.reset&&(r={posters:[],follows:[],followers:[],likeables:[],likeCounts:[]}),t.poster&&-1===$.inArray(t.poster,r.posters)&&(i.posters.push(t.poster),r.posters.push(t.poster)),t.follows&&-1===$.inArray(t.follows,r.follows)&&(i.follows.push(t.follows),r.follows.push(t.follows)),t.followers&&-1===$.inArray(t.followers,r.followers)&&(i.followers.push(t.followers),r.followers.push(t.followers)),t.likeable&&-1===$.inArray(t.likeable,r.likeables)&&(i.likeables.push(t.likeable),r.likeables.push(t.likeable)),t.likeCount&&-1===$.inArray(t.likeCount,r.likeCounts)&&(i.likeCounts.push(t.likeCount),r.likeCounts.push(t.likeCount)),clearTimeout(n),n=setTimeout(a,200)});var o=2;function a(e,t){var n;t?n=t:(n=i,i={posters:[],follows:[],followers:[],likeables:[],likeCounts:[]}),(0<n.posters.length||0<n.follows.length||0<n.followers.length||0<n.likeables.length)&&$.ajax({url:baseURL+"/ajax/letterboxd-metadata/",data:n,traditional:!0,type:"POST",dataType:"json",error:function(){(e=e||0)<o?setTimeout(function(){a(e+1,n)},200):bxd.componentFailed()},success:function(e){for(var t in e.csrf&&(supermodelCSRF=e.csrf,$("input[name=__csrf]").val(e.csrf)),$.each(e.usersFollowed,function(e,t){$(".follow-button-wrapper[data-username="+t+"]").each(function(){$(this).find(".js-button-following").show(),$(this).find(".js-button-follow").hide(),$(this).css("visibility","visible")}),$(".js-show-if-following[data-username="+t+"]").show()}),$.each(e.usersNotFollowed,function(e,t){$(".follow-button-wrapper[data-username="+t+"]").each(function(){$(this).find(".js-button-following").hide(),$(this).find(".js-button-follow").show(),$(this).css("visibility","visible")})}),$.each(e.usersFollowing,function(e,t){$(".follow-button-wrapper[data-username="+t+"]").each(function(){$(this).find(".follows-message").css("display","inline-block")})}),$.each(e.usersBlocked,function(e,t){PubSub.publish("block-member",{member:t,blocked:!0})}),$.each(e.filmsInWatchlist,function(e,t){bxd.addToWatchlist(t)}),$.each(e.filmsNotInWatchlist,function(e,t){bxd.removeFromWatchlist(t)}),$.each(e.filmsWatched,function(e,t){bxd.setAsWatched(t,!0)}),$.each(e.filmsNotWatched,function(e,t){bxd.setAsWatched(t,!1)}),$.each(e.likeables,function(e,t){PubSub.publish("like:"+t.likeableUid,t)}),e.filmRatings){var n=t.substring("film-".length),i=e.filmRatings[t]||0;$(".film-poster-"+n+", .film-cell-"+n).data("film-rating",i);var r=$("#frm-sidebar-rating[data-film-id="+n+"]");r.length&&r.val(i)}for(var t in $(".instant-rating").trigger("rating-changed"),e.filmLists){var n=parseInt(t.substring("film-".length),10),o=e.filmLists[t]||[];$("select.js-film-list-id option").each(function(){var e,t=parseInt($(this).val(),10);-1!==$.inArray(t,o)&&(e=$(this).data("films-in-list")||[],-1===$.inArray(n,e)&&(e.push(n),$(this).data("films-in-list",e)))})}}})}}()},function(e,t){var C;$(function(){var o,a,s,e,l,n,r,c,i,u,d,f,h,p,m,g,v,y,b,t,w,x,k=$("#list-form");$(document).on("click","a.menu-item-add-to-list",function(e){e.preventDefault();var n=parseInt($(this).data("film-id"),10),t=$(this).attr("data-film-name");$("#add-to-a-list-modal .js-new-list").off("click.newlist").prop("href",$(this).data("new-list-with-film-action")),$("#add-to-a-list-modal input.film-id:gt(0)").remove(),$("#add-to-a-list-modal input.film-id").val(n),$("#add-to-a-list-modal span.film-name").text("‘"+t+"’"),$("#add-to-a-list-modal .js-film-list-id option").each(function(){var e=!1,t=$(this).data("films-in-list");t&&t.length&&-1!==$.inArray(n,t)&&(e=!0),$(this).prop("disabled",e)}),$("#add-to-a-list").trigger("click")}),$(document).on("change","select.js-film-list-id",function(){$(this).val()&&($(this).parent().addClass("sending-ajax"),$(this).closest("form").trigger("submit"),$("#add-to-a-list").colorbox.close())}),$(document).on("submit","#add-to-a-list-modal form",function(){var e=$(this),t=e.find("input.film-id");return 1<t.length?(e.attr("action",baseURL+"/list/add-films/"),t.attr("name","importFilmId"),e.find("[name=editMode]").remove(),e.append("<input type='hidden' name='editMode' value='AppendFilmsOnly'/>"),!0):($.ajax({url:e.attr("action"),data:e.serialize(),type:"POST",dataType:"json",complete:function(){e.find(".sending-ajax").removeClass("sending-ajax")},error:function(e,t,n){bxd.showMessages("error",[n])},success:function(e){e.messages&&bxd.showMessages(e.result?"success":"error",e.messages),$(".js-film-list-id").val(""),e.result&&e.films&&e.films.forEach(function(e){PubSub.publish("letterboxd-metadata",{reset:!0,poster:e.id}),PubSub.publish("add-film-to-list",{film:e})})}}),!1)}),$(".cancel-import").on("click",function(e){e.preventDefault(),$("#import-films").remove(),$("input[name=cancelled]").val("true"),$("#importer-matched-form").trigger("submit"),$("#imdb-importer-matched-form").trigger("submit")}),k.length&&(o=function(e){return e.toLowerCase().replace(/^(an?|the) (.*)/,"$2, $1")},a=function(e,t,n){var i=0;return e&&t?i="reverse"===n?e-t:t-e:e?i=h:t&&(i=m),i},s=function(e,t){return $(e).data("index")-$(t).data("index")},k.protectUnsavedChanges({warning:"Your list has unsaved changes."}),k.data("transient-list")&&k.protectUnsavedChanges({clear:!0}),e=$("#show-item-numbers"),l=$("#list-items"),n=$("header.list-items-header"),r=$("#list-items-editor"),c="list",i=$("#list-items-editor .list-items-header a.list-import-link"),(u=function(){l.find(".list-entry-notes p:last-child").each(function(){0===$(this).find("a.list-item-edit").length&&($(this).wrapInner('<span class="list-entry-note-text"></span>'),$(this).append(' <a href="#" class="list-item-edit micro-button">Edit</a>'))})})(),void 0===x&&(x="above"),i.twipsy({placement:x,delayIn:100,offset:3}),r.find("label.section-heading").click(function(){$("#frm-list-film-name").focus()}),$(document).on("click","div.list-number",function(){function i(e){e.parent(".list-number").removeClass("is-editing"),e.remove()}var e,t,r=l.children("li.film-list-entry").index($(this).parent("li.film-list-entry"));0===$(this).children("form").length&&(e=$("<form/>",{submit:function(e){e.preventDefault();var t=parseInt($(this).find("input").val(),10)-1,n=l.children("li.film-list-entry").length;(isNaN(t)||n<=t)&&(t=n-1),i($(this)),0<=t&&t<n&&(r<t?l.children("li.film-list-entry").eq(r).insertAfter(l.children("li.film-list-entry").eq(t)):t<r&&l.children("li.film-list-entry").eq(r).insertBefore(l.children("li.film-list-entry").eq(t)),bxd.renumberList())}}).appendTo(this),t=$("<input/>",{value:r+1,blur:function(){i($(this).parent("form"))}}).addClass("change-number").appendTo(e),$(this).addClass("is-editing"),t.focus(),setTimeout(function(){t.select()},10))}),(C={setupListEditorHead:function(){n.stick_in_parent({parent:"body"}).on("sticky_kit:stick",function(e){$("body").addClass("fixed-editor"),i.twipsy("disable")}).on("sticky_kit:unstick",function(e){$("body").removeClass("fixed-editor"),i.twipsy("enable")})}}).setupListEditorHead(),$("a.list-add-films-link").click(function(e){e.preventDefault();var t=$("#frm-list-film-name");$.smoothScroll({offset:t.offset().top,direction:"top",easing:"easeInOutQuad",speed:1e3,afterScroll:function(){t.focus()}})}),i.click(function(e){var t;e.preventDefault(),$("#list-items").hasClass("empty-list")||$("#list-edit-save").hasClass("button-action-disabled")?$("#upload-list").trigger("click"):(t={html:"<div style='padding:40px 40px 20px'><article class='modal'><h1>Your list has unsaved changes</h1><p class='body-text -hero'>Please save or discard the changes you’ve made to this list before using the importer.</p></article></div>",width:"520px",fixed:!0,overlayClose:!0},renderMobile&&(t.width="100%",t.initialWidth="288px",t.initialHeight="200px",t.transition="fade",t.speed=0),$.colorbox(t))}),d=35,f=function(e,t){var n=void 0===e?r:$(e);void 0===t&&(t=35);var i=35==t?52:187;n.find(".poster").each(function(){$(this).addClass("really-lazy-load").data("image-width",t).data("image-height",i)}).find("img").css({width:t,height:i}),PubSub.publish("really-lazy-load")},$("#list-edit-toggle a").on("click",function(e){e.preventDefault();var t=$(this).attr("rel");"list"==t?(r.removeClass("compact-list").removeClass("poster-list-view"),35!=d&&(f(r,35),d=35),c="list",bxd.renumberList(),v()):"posters"==t&&(r.removeClass("compact-list").addClass("poster-list-view"),125!=d&&(f(r,125),d=125),c="poster",bxd.renumberList(),v()),$(this).closest("ul").find("li").removeClass("selected"),$(this).parent().addClass("selected"),n.trigger("sticky_kit:detach"),$("body").removeClass("fixed-editor"),i.twipsy("enable"),C.setupListEditorHead()}),h=-1,p=0,m=1,g={name:function(e,t){var n,i,r=(n=$(e).attr("data-film-name"),i=$(t).attr("data-film-name"),(n=o(n))<(i=o(i))?h:i<n?m:p);return r===p&&(r=s(e,t)),r},"newest-first":function(e,t){var n=$(e).data("film-release-date"),i=$(t).data("film-release-date"),r=a(n,i);return r===p&&(r=s(e,t)),r},"oldest-first":function(e,t){var n=$(e).data("film-release-date"),i=$(t).data("film-release-date"),r=a(n,i,"reverse");return r===p&&(r=s(e,t)),r},"owner-rating":function(e,t){var n=$(e).data("film-owner-rating"),i=$(t).data("film-owner-rating"),r=a(n,i);return r===p&&(r=s(e,t)),r},"owner-rating-reverse":function(e,t){var n=$(e).data("film-owner-rating"),i=$(t).data("film-owner-rating"),r=a(n,i,"reverse");return r===p&&(r=s(e,t)),r},"average-rating":function(e,t){var n=$(e).data("film-average-rating"),i=$(t).data("film-average-rating"),r=a(n,i);return r===p&&(r=s(e,t)),r},"average-rating-reverse":function(e,t){var n=$(e).data("film-average-rating"),i=$(t).data("film-average-rating"),r=a(n,i,"reverse");return r===p&&(r=s(e,t)),r}},$(".js-list-edit-sort").on("click",function(e){e.preventDefault(),bxd.renumberList();var t=g[$(this).data("sort")];$("#list-items li:not(#empty-list-placeholder)").sort(t).appendTo("#list-items"),bxd.renumberList()}),(v=function(){l.sortable({axis:"poster"==c?null:"y",helper:"clone",handle:!!window.isTouchOnly&&".icon",items:"li:not(#empty-list-placeholder)",start:function(e,t){1==t.item.index()&&l.addClass("first-item-dragged")},stop:function(){l.removeClass("first-item-dragged")},update:function(){l.removeClass("first-item-dragged"),bxd.renumberList()}})})(),l.disableSelection(),setInterval(bxd.checkListFormForChanges,1e3),$("#delete-film-list").data("modal-confirm",{ok:"Delete",okClass:"-red"}).data("action",function(e){e(),bxd.postForm($("#delete-film-list").data("delete-action"))}).on("ajax-action",function(){k.protectUnsavedChanges({reset:!0})}),(y=$("#frm-list-film-name")).autocomplete(y.data("url"),$.extend({},bxd.autocompleteConfig,{width:283})).result(function(e,t,n){var i;i=t,bxd.dismissMessages(function(){l.find("input[name=filmId][value="+i.id+"]").length?bxd.showMessages("error","<strong>"+i.name+"</strong> is already in this list"):$.ajax({url:i.filmlistAction,dataType:"html",success:function(e){var t,n,i=$(e),r=35;i.css("opacity",0).hide(),"poster"==c&&(r=125),l.removeClass("empty-list"),l.append(i),i.show(),f(i,r),t=$(i),n=$(window).scrollTop(),$(window).height()+n<t.offset().top+t.height()+20?$.smoothScroll({offset:i.offset().top+i.height()+20,direction:"top",easing:"easeInOutQuad",speed:1e3,afterScroll:function(){i.slideDown("fast",function(){$(this).animate({opacity:1},500)})}}):i.slideDown("fast",function(){i.animate({opacity:1},500)}),bxd.renumberList(),bxd.layout(i),b(),y.val("")},error:function(){bxd.showMessages("error",["Oops.  Couldn't add the film to your list.  Save the list and try again."])}})})}),y.blur(function(){setTimeout(function(){y.trigger("close")},300)}),$(window).resize(function(){y.trigger("close")}),$(document).on("click","#list-edit-save",function(e){$(this).hasClass("button-action-disabled")||(e.preventDefault(),bxd.dismissMessages(),k.trigger("submit"))}),$("#upload-list").change(function(e){var t=k.attr("action");k.attr("action",k.data("upload-action")),k.attr("enctype","multipart/form-data"),k.trigger("submit"),k.attr("action",t),k.attr("enctype",""),i.text("Sending…")}),0===l.find("li.film-list-entry").length&&l.addClass("empty-list"),b=function(){e.is(":checked")?(bxd.renumberList(),l.addClass("show-list-numbers").find("div.list-number").show()):l.removeClass("show-list-numbers").find("div.list-number").hide(),bxd.checkListFormForChanges()},$("#film-list-main-details input[type=text],#film-list-main-details textarea").change(function(){bxd.checkListFormForChanges()}),e.change(function(){b()}),b(),$("#list-is-public").change(function(){$(this).is(":checked")?$(".list-share-toggle").css("visibility","visible").hide().fadeIn():$(".list-share-toggle").fadeOut(function(){$(this).css("visibility","hidden").show()})}),$(document).on("submit","#list-form",function(e){var a=$(this);function t(){var i=[],e=a.find("[name=filmId]").map(function(){return $(this).val()}),r=a.find("[name=containsSpoilers]").map(function(){return $(this).val()}),o=a.find("[name=review]").map(function(){return $(this).val()});$.each(e,function(e,t){var n={filmId:t};o[e]&&0<o[e].trim().length&&(n.review=o[e].trim(),"true"===r[e]&&(n.containsSpoilers=!0)),i.push(n)});var t=$("<input type='hidden' name='entries'/>");return t.val(JSON.stringify(i)),t}return bxd.dismissMessages(),$("#list-edit-save").addClass("button-action-disabled"),a.addClass("sending-ajax"),$(".saving").lbSpinner({size:14,fallback:globals.spinners.spinner_14_20272f,insertion:"prepend",element:"span"}),"multipart/form-data"!=a.attr("enctype")?(setTimeout(function(){var e=a.clone();e.find("[name=filmId]").remove(),e.find("[name=containsSpoilers]").remove(),e.find("[name=review]").remove(),e.append(t()),$.ajax({url:a.attr("action"),data:e.serialize(),type:"POST",dataType:"json",complete:function(){a.removeClass("sending-ajax"),$(".saving").lbSpinner("stop")},error:function(e,t,n){a.revertUnsavedChanges(),bxd.checkListFormForChanges(),bxd.showMessages("error",[n])},success:function(e){var t;if(e.result)a.data("transient-list",!1),e.newList&&(window.history&&window.history.pushState&&(t=$("<div></div>").text(e.name).html(),window.history.pushState(null,"Edit your ‘"+t+"’ list",e.editFormURL),document.title="Edit your ‘"+t+"’ list • Letterboxd"),$("#film-list-editor-id").val(e.listId),$(".js-film-list-editor-title").text("Edit List"),$("#list-edit-buttons").html('<a id="list-edit-save" class="button button-action right -disabled">Save</a><a id="list-edit-cancel" href="'+e.url+'" class="button button-cancel right">View List</a>')),bxd.cacheInitialListState(),bxd.checkListFormForChanges(),e.messages&&bxd.showMessages("success",e.messages);else if(a.revertUnsavedChanges(),e.csrf&&(supermodelCSRF=e.csrf,$("input[name=__csrf]").val(e.csrf)),e.messages){bxd.showMessages("error",e.messages);for(var n=!1,i=0;i<e.errorCodes.length;i++)if("list.duplicate.entry"===e.errorCodes[i]){n=!0;break}n&&bxd.colorboxModalConfirm("We do not permit lists to be saved if they contain multiple entries for the same film. This happens occasionally, such as when duplicate records for the same film are merged.<br/><br/>Do you want to automatically remove all duplicate entries from this list, so it can be saved?",!0,function(){var i=new Map;l.find("li.film-list-entry").each(function(e){var t=$(this),n=t.data("film-id");i.has(n)?t.animate({opacity:0},300,function(){$(this).slideUp("fast",function(){$(this).remove()})}):i.set(n,!0)}),bxd.checkListFormForChanges(),setTimeout(bxd.renumberList,500)})}}})},0),!1):(a.append(t()),a.find("[name=filmId]").remove(),a.find("[name=containsSpoilers]").remove(),a.find("[name=review]").remove(),a.find("[name=editMode]").remove(),a.protectUnsavedChanges({reset:!0}),!0)}),$(document).on("click","a.list-item-remove",function(e){e.preventDefault(),$(this).closest("li.film-list-entry").animate({opacity:0},300,function(){$(this).slideUp("fast",function(){$(this).remove(),bxd.checkListFormForChanges(),setTimeout(bxd.renumberList,500),0===l.find("li.film-list-entry").length&&l.addClass("empty-list")})})}),t={inline:!0,escKey:!1,overlayClose:!1,href:"#list-entry-modal",onComplete:function(){},onClosed:function(){w.find(".list-item-edit-notes").text($("#frm-review").val()?"Edit Note":"Add Note"),null!==$("#frm-review").val()&&void 0!==$("#frm-review").val()?w.find(".list-item-details").addClass("list-item-has-notes"):w.find(".list-item-details").removeClass("list-item-has-notes")}},renderMobile&&(t.width="100%",t.initialWidth="288px",t.initialHeight="200px",t.transition="fade",t.speed=0),$("#list-items-colorbox-owner").colorbox(t),$("#list-entry-cancel-button").on("click",function(){$("a.list-item-edit").colorbox.close()}),w=null,l.delegate("a.list-item-edit","click",function(e){e.preventDefault(),w=$(this).closest("li.film-list-entry"),$("#film-title").text(window.jsprettify.prettifyStr(w.attr("data-film-name"))),$("#film-year").text(w.data("film-year")),$("#frm-review").val(w.find("input[name=review]").val()),$("#frm-spoilers").prop("checked","true"==w.find("input[name=containsSpoilers]").val()),$("#list-entry-poster-frame .poster img").remove(),$("#list-entry-number").remove(),$("#list-entry-poster-frame").removeClass("no-poster").addClass("loading-poster"),$.get(w.find(".poster").data("poster-url"),function(e){$("#list-entry-poster-frame").removeClass("loading-poster").empty().prepend($(e)),bxd.layout($("#list-entry-poster-frame"))}),$("#list-items-colorbox-owner").trigger("click")}),$("#list-entry-save-button").click(function(e){e.preventDefault();var t,n=$("#frm-review").val();w.find("input[name=review]").val(n),null==n||""===n?(w.find(".list-entry-notes").html(""),w.find(".list-item-add-notes").show(),w.find(".list-item-edit-notes").hide()):((t=w.find(".list-entry-notes")).html("<img src='"+globals.spinners.ajax_242d35+"'/>"),w.find(".list-item-add-notes").hide(),w.find(".list-item-edit-notes").show(),$.ajax({type:"POST",url:baseURL+"/s/tidy-content",data:{content:n,maxWords:20,squash:!0},dataType:"html",success:function(e){t.html(e),u()},error:function(){t.html(n)}})),w.find("input[name=containsSpoilers]").val($("#frm-spoilers").prop("checked")),$("a.list-item-edit").colorbox.close(),bxd.checkListFormForChanges()}))})},function(e,t){},function(e,t){var c;(c=jQuery).fn.popupMenu=function(e,i){return c(this).each(function(){var r=c(this),o=c(e),a=i,s=null,t=!1;function n(e){t=!1,r.css({opacity:1}),l()}function l(){setTimeout(function(){o.hide()},50)}void 0===a&&(a=0),r.bind("click",function(e){var t,n,i;e.preventDefault(),o.is(":visible")?(r.css({opacity:1}),l()):(s&&(clearTimeout(s),s=null),r.css({opacity:.5}),t=r.offset(),n=t.left+r.width(),i=c(window).height()-(t.top+a),o.css({left:n,bottom:i,top:"auto"}).show())}),r.mouseleave(function(){null===s&&(s=setTimeout(function(){s=null,t||(r.css({opacity:1}),l())},500))}),o.mouseenter(function(){t=!0,s&&(clearTimeout(s),s=null)}),o.bind("closeMenu",function(e){n()}),o.mouseleave(n)})}},function(e,t){$(function(){var c,t,n;$("img.js-tmdb-person").length&&($.ajax({type:"GET",url:"//api.themoviedb.org/3/configuration?api_key=bb1c3b1185ad7a94b4426faf3d96f304",async:!1,jsonpCallback:"config",contentType:"application/json",dataType:"jsonp",success:function(e){c=e,t()},error:function(){}}),t=function(){$("img.js-tmdb-person").each(function(){var e=$(this).data("tmdb-id"),t=$(this).data("size");n(e,$(this),t)})},n=function e(a,s,t){var l=t;void 0===l&&(l=185),$.ajax({type:"GET",url:"//api.themoviedb.org/3/person/"+a+"?api_key=7a9224aa2547b60f9b764ec08c21f20d",contentType:"application/json",dataType:"jsonp",timeout:1e3+1e3*Math.random(),success:function(e){var n,t;e&&null!=e.profile_path&&(n=("https:"===location.protocol?c.images.secure_base_url:c.images.base_url)+"w"+l+e.profile_path,t=new Image,$(t).load(function(){var e;$(this).complete&&$(this).trigger("load"),s.attr("src",n),!s.hasClass("crop-square")||0<(e=s.height()-s.width())&&s.css({position:"absolute",left:0,top:-.35*e+"px"});var t=s.parent();t.hasClass("avatar")&&t.addClass("image-loaded")}).error(function(e){}).attr("src",n));var i,r,o=$(".js-tmdb-person-bio[data-tmdb-id="+a+"]");o.length&&e&&e.biography?((i=$("<div></div>")).text(e.biography),r="<section class='section panel-text'>"+i.html().replace("&nbsp;"," ").replace(/(.+)\n*/g,"<p>$1</p>").replace(/<p>.*?From Wikipedia.*?<\/p>/i,"")+"</section>",o.html(r),o.children("section").condense({condensedLength:200,moreText:" more",lessText:"&times;",ellipsis:"&hellip;",moreSpeed:0,lessSpeed:0})):o.remove()},error:function(){setTimeout(function(){e(a,s,t)},5e3+5e3*Math.random())}})})})},function(e,t){function i(e){e.data("form-initial-state",e.sanitisedSerialisedFormForProtection())}var r,o;r=jQuery,o=[],r.fn.sanitisedSerialisedFormForProtection=function(){return r(this).serialize().replace(/__csrf=[^&]*/,"__csrf=").replace(/&(shareOnFacebook|json)=(true|false)/g,"")},r.fn.revertUnsavedChanges=function(e){return r(this).each(function(){var e=r(this);e.data("form-initial-state",e.data("form-state-before-submit"))})},r.fn.protectUnsavedChanges=function(e){var n={warning:"You have unsaved changes"};return e&&r.extend(n,e),r(this).each(function(){var t=r(this);n.clear?t.data("form-initial-state",""):(i(t),n.reset||(t.revertUnsavedChanges=function(){},t.data("protect-unsaved-changes-warning",n.warning),t.submit(function(){var e;(e=t).data("form-state-before-submit",e.data("form-initial-state")),i(t)}),o.push(t)))})},r(window).bind("beforeunload",function(e){e=e||window.event;for(var t=0;t<o.length;t++){var n=o[t];if(n.data("form-initial-state")!=n.sanitisedSerialisedFormForProtection())return n.trigger("unsaved-changes"),e&&(e.returnValue=n.data("protect-unsaved-changes-warning")),n.data("protect-unsaved-changes-warning")}})},function(e,t){$(document).on("click","a.js-form-action",function(e){var t;e.preventDefault(),$(this).hasClass("btn-loading")||($(this).addClass("btn-loading"),t=$(this).data("form-id"),$("#"+t).submit())}),$(document).on("unsaved-changes","form",function(){$(this).find("a.js-form-action").removeClass("btn-loading")}),$(document).on("click","a.popup",function(e){e.preventDefault(),$.fn.popupWindow({windowURL:this.href,windowName:$(this).data("popup-name"),width:$(this).data("popup-width"),height:$(this).data("popup-height"),centerBrowser:!0})}),window.eventIsInsideElement=function(e,t){if(null==t||0===t.length)return!1;var n=t.offset(),i=n.left,r=n.top,o=n.left+t.outerWidth(),a=n.top+t.outerHeight();return!(e.pageX<=i||e.pageX>=o||e.pageY<=r||e.pageY>=a)},"indexOf"in Array.prototype||(Array.prototype.indexOf=function(e,t){void 0===t&&(t=0),t<0&&(t+=this.length),t<0&&(t=0);for(var n=this.length;t<n;t++)if(t in this&&this[t]===e)return t;return-1})},function(e,t){$(function(){$(document).on("ajax-success","a.add-to-watchlist",function(e,t,n,i){t.messages&&bxd.showMessages(t.result?"success":"error",t.messages),t.result&&(bxd.addToWatchlist(t.film.id),PubSub.publish("add-film-to-watchlist",{film:t.film}))}),$(document).on("ajax-success","a.remove-from-watchlist",function(e,t,n,i){t.messages&&bxd.showMessages(t.result?"success":"error",t.messages),t.result&&bxd.removeFromWatchlist(t.film.id)}),renderMobile||$(document).on("mouseover","a.remove-from-watchlist",function(){$(this).children(".watchlist-link-text").html('Remove<span class="_hidetext"> this film from your watchlist</span>')}).on("mouseout","a.remove-from-watchlist",function(){$(this).children(".watchlist-link-text").html('<span class="_hidetext">This film is in your </span>Watchlist')}),$("#import-to-watchlist").click(function(e){e.preventDefault(),$("#import-to-watchlist-input").trigger("click")}),$("#import-to-watchlist-input").change(function(){$("#import-to-watchlist-form").submit()})})},function(e,t,n){var i={"./favourite-films.js":378,"./film.js":379,"./films-browser.js":380,"./homepage.js":381,"./netflix-importer.js":382,"./really-lazy-load-posters.js":383,"./social-friends.js":384,"./update.js":421,"./viewing.js":385,"./watchlist.js":386};function r(e){var t=o(e);return n(t)}function o(e){if(n.o(i,e))return i[e];var t=new Error("Cannot find module '"+e+"'");throw t.code="MODULE_NOT_FOUND",t}r.keys=function(){return Object.keys(i)},r.resolve=o,(e.exports=r).id=377},function(e,t){$(function(){$("#favourite-films").sortable({axis:"x",helper:"clone"});var e=328;renderMobile&&(e=262),$("#frm-favourite-film-name").autocomplete($("#frm-favourite-film-name").data("url"),$.extend({},bxd.autocompleteConfig,{width:e})).result(function(e,t,n){var i=$("#favourite-film-search-modal").data("list-index");$("#frm-favourite-film-name").val("").trigger("flushCache"),$("#favourite-film-search-modal").colorbox.close();var r=$($("#favourite-films li")[i]);r.addClass("poster -placeholder").html('<div class="loading-poster"></div><input type="hidden" name="favouriteFilmIds" value="'+t.id+'"/>');var o=r.find("div");$.get(t.image125,function(e){o.removeClass("loading-poster"),o.empty().prepend(e),r.removeClass("poster-container -placeholder"),renderMobile&&r.append('<a href="#" class="replace remove-favourite-film">remove</a>'),bxd.layout(o)})}),renderMobile?($("a.remove-favourite-film").remove(),$("#favourite-films li").each(function(){$(this).hasClass("poster")&&$(this).append('<a href="#" class="replace remove-favourite-film">remove</a>')})):$("#favourite-films li").hover(function(){$("a.remove-favourite-film").remove(),$(this).hasClass("poster")&&$(this).append('<a href="#" class="replace remove-favourite-film">remove</a>')},function(){$("a.remove-favourite-film").remove()}),$("#favourite-films").on("click","a.remove-favourite-film",function(e){e.preventDefault(),$(this).closest("li").fadeOut(function(){$(this).appendTo($("#favourite-films")).html("").removeClass("poster").addClass("poster-container -placeholder").show()})}),$("#favourite-films li").on("click",function(e){var t;$(e.target).hasClass("remove-favourite-film")||(e.preventDefault(),t=$("#favourite-films li").index($(this)),$("#favourite-film-search-modal").data("list-index",t),$("#open-favourite-film-modal").trigger("click"))});var t={inline:!0,fixed:!0,overlayClose:!1,href:"#favourite-film-search-modal",onComplete:function(){$("#frm-favourite-film-name").focus()},onClosed:function(){$("#frm-favourite-film-name").trigger("close")}};renderMobile&&(t.width="100%",t.initialWidth="288px",t.initialHeight="200px",t.transition="fade",t.speed=0),$("#open-favourite-film-modal").colorbox(t)})},function(e,t){$(function(){var e;"undefined"!=typeof filmData&&((e=$('<p class="optional-add">Or add <a href="#add-this-film" class="add-this-film modal-link needsclick"/></p>')).find("a").attr("data-film-id",filmData.id).attr("data-film-name",filmData.name).attr("data-poster-url",filmData.posterURL).attr("data-film-release-year",filmData.releaseYear).text(filmData.name),$("#frm-film-name").after(e),bxd.layout(e)),$("#share-on input").attr("spellcheck",!1),bxd.filterPopularLists($("#film-popular-lists"),3);var t=$("#popular-reviews"),n=$("#recent-reviews");person.loggedIn&&person.blockedMembers.length&&(t.find("li.film-detail").each(function(){var e=$(this);person.hasBlocked(e.attr("data-person"))&&e.remove()}),n.find("li.film-detail").each(function(){var e=$(this);person.hasBlocked(e.attr("data-person"))&&e.remove()}));function i(r,e,o,a){var t,n,s=3-r.find("li.film-detail").length;s<=0?a():(t=r.data("url"),n={start:e,howMany:12},$.ajax({url:t,type:"GET",data:n,success:function(e){var t,n,i;""!==$.trim(e)&&(t=$(e),bxd.layout(t),n=0,i=r.find("ul"),t.find("li.film-detail").each(function(){0;var e=$(this);n<s&&o(e)&&(n++,i.append(e))}),a())},error:function(){a()}}))}PubSub.subscribe("csi-friend-reviews",function(){$("#popular-reviews-with-friends li.film-detail").each(function(){var e=$(this).data("viewing-id");t.find("li.film-detail[data-viewing-id="+e+"]").remove(),n.find("li.film-detail[data-viewing-id="+e+"]").remove()}),i(t,t.data("how-many"),function(e){return!person.hasBlocked(e.attr("data-person"))&&0===$("#popular-reviews-with-friends li.film-detail[data-viewing-id="+e.data("viewing-id")+"]").length},function(){var e=t.find("li.film-detail");0===e.length?t.remove():(3<e.length&&e.slice(3).remove(),t.find("li.film-detail").each(function(){var e=$(this).data("viewing-id");$("#recent-reviews li.film-detail[data-viewing-id="+e+"]").remove()})),i(n,n.data("how-many"),function(e){return!person.hasBlocked(e.attr("data-person"))&&0===$("#popular-reviews-with-friends li.film-detail[data-viewing-id="+e.data("viewing-id")+"]").length&&0===t.find("li.film-detail[data-viewing-id="+e.data("viewing-id")+"]").length},function(){var e=n.find("li.film-detail");0===e.length?n.remove():3<e.length&&e.slice(3).remove()})})})})},function(e,t){$(function(){var r=$("#films-browser-list-container");r.length&&(r.append('<div class="placeholder-empty"></div>'),function i(){r.find(".placeholder-empty").html('<p class="calculating">Calculating…</p>'),$(".calculating").lbSpinner({size:14,fallback:globals.spinners.spinner_14_20272f,insertion:"prepend",element:"span"}),$.get(r.data("url"),function(e,t,n){"success"==t?(r.empty().prepend(e),bxd.layout(r)):r.find(".placeholder-empty").html('<p>Unable to contact Letterboxd. Please <a href="#">try again</a>.</p></div>').find("a").click(function(e){e.preventDefault(),i()})})}())})},function(e,t){$(function(){var t=$("#user-homepage-container");t.length&&(!1===person.validated&&bxd.showMessages("error",'Your Letterboxd account has not been validated. Check your email or <a href="'+baseURL+'/settings/">update your details</a> to resend the validation link.',{sticky:!0}),t.find("ul li.placeholder-empty").append('<p class="calculating">Calculating...</p>'),t.find("p.calculating").lbSpinner({size:16,fallback:globals.spinners.spinner_16_161B21,insertion:"prepend",element:"span"}),$.get(t.data("url"),function(e){t.empty().prepend(e),bxd.layout(t)}))})},function(e,t){$(function(){var e;function l(){var e="",t=[],n="",i=!1,r=!1,o=!1;$("a.save-users-imported-imdb-history").removeClass("import-button-disabled").css({opacity:1}),$("#import-text-suffix").show(),($("#mark-list-films-as-watched").is(":checked")||$("#mark-list-films-as-watched").is(":hidden"))&&(e+="Films will be marked as watched ",o=i=!0),$("#add-watchedDates-from-list").is(":checked")&&(t.push(t.length||o?"diary entries":"Diary entries"),r=i=!0),$("#add-reviews-from-list").is(":checked")&&(t.push(t.length||o?"reviews":"Reviews"),r=i=!0),$("#add-ratings-from-list").is(":checked")&&(t.push(t.length||o?"ratings":"Ratings"),i=!0),$("#add-tags-from-list").is(":checked")&&(r?t.push(t.length||o?"tags":"Tags"):n=" Tags cannot be added without a review or a viewing date."),o&&t.length&&(e+="and ");for(var a=0;a<t.length;a++)a==t.length-1&&1<t.length&&(e+=" and "),e+=t[a],a<t.length-2&&(e+=", ");t.length&&(e+=" will be added "),e+="as part of this import. There is no undo, so please be careful!",i||(e=$(".save-users-imported-imdb-history").length?($("#import-text-suffix").hide(),n="",t?"You cannot import tags by themselves. You must import them with reviews or watched dates.":'There is nothing to import. Please select a <a href="https://letterboxd.com/about/importing/">valid</a> import file.'):"No changes will be made to your watched films.",$("a.save-users-imported-imdb-history").addClass("import-button-disabled").css({opacity:.35})),e+=n,$("#import-options-text").text(e)}function n(r){r.hide(),$(".import-buttons").hide();var e=r.find("#import-films").children().length,o=0;$("p.js-import-progress").html('<span id="import-count"><strong>0</strong></span> films processed from <strong>'+bxd.formatNumber(e)+"</strong> in your file.");var a=25;$("p.js-import-progress").prepend('<span id="spinner" class="small"></span>'),$("#spinner").lbSpinner({size:18});var s=$("<form></form>"),l=["importRating","importReview","importTags","importWatchedDate","importRewatch","importCreatedDate","importFilmId","importViewingId","shouldImportFilm"];$.each(l,function(e,t){var n=r.find($("[name="+t+"]"));s.append(n)});var c=r.serialize();!function t(){var n,i=$("<form></form>");$.each(l,function(e,t){var n=s.find("[name="+t+"]:lt("+a+")");i.append(n)}),0<i.children().length?(n=0,function e(){$.ajax({url:r.attr("action"),type:"POST",data:c+"&"+i.serialize(),success:function(e){e.result?(o+=i.children('input[name="shouldImportFilm"][value="true"]').length,$("p.js-import-progress #import-count").html("<strong>"+bxd.formatNumber(o)+"</strong>"),t()):e.messages&&bxd.showMessages("error",e.messages)},error:function(){3<++n?($("#spinner").remove(),$("a.submit-matched-films").addClass("import-button-disabled").css({opacity:.35}),bxd.showMessages("error","Oh no! Something’s gone wrong. Please <a href='"+$(".btn-cancel-import").attr("href")+"'>retry</a> later.",{sticky:!0}),$("#imdb-importer-matched-form").protectUnsavedChanges({reset:!0})):setTimeout(e,50*Math.pow(2,n))}})}()):($("p.js-import-progress").html("<strong>Saved "+bxd.pluralise(o,"film")+".</strong>"),$(".import-buttons").hide(),$(".profile-link").show(),$("#imdb-importer-matched-form").protectUnsavedChanges({reset:!0}))}()}function t(){var r="NoMatch",o="Matched",a="Rejected",g=$("#import-count"),e=$("#import-films"),v=0,y=e.children("li").length;$("p.js-import-progress").prepend('<span id="spinner" class="small"></span>'),$("#spinner").lbSpinner({size:18}),$(window).resize(function(){e.find(".import-film input.film-search").trigger("close")}),e.delegate(".js-replace-film","click",function(e){e.preventDefault();var t=$(this).closest(".import-film");b.clickedSearch(t)}),e.delegate("a.mark-match-inaccurate","click",function(e){e.preventDefault();var t=$(this).closest(".import-film");b.clickedSearch(t)}),e.delegate(".close-film-replace","click",function(e){e.preventDefault();var t=$(this).closest(".import-film");b.clickedSearch(t)}),e.delegate("a.mark-match-accurate","click",function(e){e.preventDefault();var t=$(this).closest(".import-film");b.clickedIsAccurate(t)}),e.delegate(".js-remove-film","click",function(e){e.preventDefault();var t=$(this).closest(".import-film");b.clickedRejectFilm(t)}),e.delegate(".import-search-link","click",function(e){e.preventDefault();var t=$(this).closest(".import-film");b.setState(t,r),b.clickedSearch(t)}),$("#importer-matched-form").delegate("#add-ratings-from-list","click",function(e){$(".import-rating").is(":visible")?$(".import-rating").hide():$(".import-rating").show(),l()}),$("#importer-matched-form").delegate("#add-reviews-from-list","click",function(e){$(".import-review").is(":visible")?$(".import-review").hide():$(".import-review").show(),l()}),$("#importer-matched-form").delegate("#mark-list-films-as-watched","click",function(e){l()});var t,b={updateDOM:function(e){var t=e.find(".import-film-details");t.removeClass("poor-match").removeClass("dont-add").removeClass("duplicate-match").removeClass("icon-hidden"),e.find(".import-match").css({opacity:1}),e.find(".import-search-text").show();var n=!0,i=b.getState(e);switch(i){case o:break;case a:t.addClass("icon-hidden"),e.find(".import-match").css({opacity:.2}),n=!1;break;case r:e.find(".import-search-text").show(),t.addClass("import-no-match"),n=!1}i==o&&b.isDuplicate(e)?(e.find(".duplicate-film").show(),t.addClass("duplicate-match"),n=!1):e.find(".duplicate-film").hide(),b.isSearching(e)?(e.addClass("import-state-search"),e.find(".film-detail-wrapper").hide(),e.find(".import-search").show().find("input").focus(),e.find("div.icon-matched").hide(),e.find(".import-search-text").hide(),n=!1):(e.find(".import-search").hide(),e.removeClass("import-state-search"),e.find(".film-detail-wrapper").show(),e.find("div.icon-matched").show()),n!=b.isShouldImport(e)&&(b.setShouldImport(e,n),b.checkIfDuplicate(e))},checkIfDuplicate:function(e){var t=!1,n=b.getFilmId(e),i=[];$("#importer-matched-form input[name=filmId]").each(function(){i.push($(this).val())});var r=[];$("#importer-matched-form input[name=importFilmId]").each(function(){r.push($(this).val()||-1)});var o=[];$("#importer-matched-form input[name=shouldImportFilm]").each(function(){o.push($(this).val())});for(var a=0;a<i.length;a++)n==i[a]&&(t=!0);if(!t){for(var s=0,l=0;l<r.length;l++)n==r[l]&&"true"==o[l]&&s++;b.isShouldImport(e)||s++,1<s&&(t=!0)}e.data("duplicate",t),b.updateDOM(e)},isDuplicate:function(e){var t=e.data("duplicate");return void 0===t&&(t=!1),t},isShouldImport:function(e){return"true"==e.find("input[name=shouldImportFilm]").val()},setShouldImport:function(e,t){e.find("input[name=shouldImportFilm]").val(t)},getFilmId:function(e){return e.find("input[name=importFilmId]").val()},getState:function(e){return e.data("state")},setState:function(e,t){e.data("state",t)},isSearching:function(e){var t=e.data("searching");return void 0===t&&(t=!1),t},setSearching:function(e,t){e.data("searching",t)},clickedRejectFilm:function(e){var t=b.getState(e),n="Remove this film";b.isSearching(e)&&b.setSearching(e,!1),t==a?e.find(".import-search-text").length?b.setState(e,r):b.setState(e,o):(b.setState(e,a),n="Restore this film"),b.updateDOM(e),e.find(".js-remove-film").attr("data-original-title",n).twipsy("show")},clickedSearch:function(e){b.isSearching(e)?b.setSearching(e,!1):b.setSearching(e,!0),b.updateDOM(e)},clickedIsAccurate:function(e){b.updateDOM(e)},initImportFilm:function(e){""!==e.find("input[name=importFilmId]").val()?b.setState(e,o):b.setState(e,r),b.setSearching(e,!1),b.updateDOM(e),b.checkIfDuplicate(e)}};function w(e){var n=[];$(e).find(".film-detail-content").each(function(){var e=$(this).height(),t=$(this).parent().height();e<t&&n.push({node:$(this),marginTop:(t-e)/2})});for(var t=n.length-1;0<=t;t--)n[t].node.css({"margin-top":n[t].marginTop})}function s(h,p,e,m){for(var t,n,i='{ importType: "'+e+'", importFilms: [ ',r=0;r<p;r++)t=h[r].attr("data-json"),i+=t,r<p-1&&(i+=", ");i+=" ]}",n=$("#imdb-importer-matched-form").length?$("#imdb-importer-matched-form").data("url"):$("#importer-matched-form").data("url");var o=0;!function e(){$.ajax({url:n,type:"POST",data:{json:i,__csrf:supermodelCSRF},dataType:"html",success:function(e){!function a(e,t){var n,i=$("<div></div>").html(e).children(),r=i.size();y<=(v+=r)?($("h1.js-import-title").html("Import summary"),$("p.js-import-progress").html("<strong>Matching complete.</strong> Check the results and complete your import below.")):(n="<strong>"+bxd.formatNumber(v)+"</strong> "+(1===v?"film":"films"),g.html(n));var o=[];o[0]=i.first();for(var s=1;s<r;s++)o[s]=o[s-1].next();function l(r,o){var e=r.find("input.film-search");e.autocomplete(e.data("url"),$.extend({},bxd.autocompleteConfig,{width:328})).result(function(e,t){var n,i="{ filmId: "+t.id+", importFilms: [ "+r.attr("data-json")+"] }";n=$("#imdb-importer-matched-form").length?$("#imdb-importer-matched-form").data("url"):$("#importer-matched-form").data("url"),$.ajax({url:n,type:"POST",data:{json:i,__csrf:supermodelCSRF},dataType:"html",success:function(e){a(e,o)},error:function(){}})}),e.blur(function(){setTimeout(function(){e.trigger("close")},300)})}for(var c,u=function(){for(var e=$(this).text().split(","),t='<ul class="tags">',n=0;n<e.length;n++)t+='<li class="tag"><span>'+$.trim(e[n])+"</span></li>";t+="</ul>",$(this).html(t)},d=0;d<r;d++){$thisFilm=-1==t?h[d]:h[t],(c=$thisFilm.find(".matched")).html(o[d]),bxd.layout(c),l($thisFilm,-1==t?d:t),c.find(".import-tags").each(u),!0===$thisFilm.find(".import-film-details").data("already-rated")&&$thisFilm.addClass("import-film-already-rated"),$($thisFilm.find(".import-match")).length&&b.initImportFilm($thisFilm)}if(setTimeout(function(){w($(".matched"))},0),!1===h[0].data("matchThisFilmOnly")){for(var f=0;f<p;f++)h[f].data("matchThisFilmOnly",!0);m()}}(e,-1)},error:function(){3<++o?($("#spinner").remove(),$("a.submit-matched-films").addClass("import-button-disabled").css({opacity:.35}),bxd.showMessages("error","Oh no! Something’s gone wrong. Please <a href='"+$(".btn-cancel-import").attr("href")+"'>retry</a> later.",{sticky:!0}),$("#importer-matched-form").protectUnsavedChanges({reset:!0}),$(".btn-cancel-import").text("Retry"),$(".save-users-imported-imdb-history").hide()):setTimeout(e,50*Math.pow(2,o))}})}()}$("#diary-importer-identifier").length?t="diary":$("#list-importer-identifier").length?t="list":$("#watchlist-importer-identifier").length&&(t="watchlist"),function e(t,n,i){var r=void 0!==i?i.next(".import-film").first():t.find(".import-film").first();var o=[];for(var a=0;a<25;a++)r=(o[a]=r).next(".import-film"),o[a].data("matchThisFilmOnly",!1);$("a.submit-matched-films").addClass("import-button-disabled").css({opacity:.35});o[0].length?s(o,25,n,function(){e(t,n,o[o.length-1])}):($("a.submit-matched-films").removeClass("import-button-disabled").css({opacity:1}),$("#imdb-importer-matched-form").show(),$("#importer-matched-form").show(),l())}($("#import-films"),t),$("#import-films").fadeIn(),$("#imdb-importer-matched-form").submit(function(e){return e.preventDefault(),n($("#imdb-importer-matched-form")),!1}),$("a.add-import-films-to-list").click(function(e){e.preventDefault(),$(this).hasClass("import-button-disabled")||($(this).html("Adding Films…"),$("#importer-matched-form").trigger("submit"))}),$("a.add-import-films-to-watchlist").click(function(e){e.preventDefault(),$(this).hasClass("import-button-disabled")||($(this).html("Adding Films…"),n($("#imdb-importer-matched-form")))}),$("#importer-matched-form").protectUnsavedChanges({warning:"Your list import will be cancelled."})}$("#imdb-importer-matched-form").protectUnsavedChanges(),$("#imdb-import-button").length?($("#imdb-import-button").click(function(e){e.preventDefault(),$("#upload-imdb-import").trigger("click")}),$("#upload-imdb-import").change(function(){$("#imdb-form").submit()})):($(".save-users-imported-imdb-history").length||$(".add-import-films-to-watchlist").length)&&(t(),l(),e=$("#imdb-importer-matched-form"),$(".profile-link").hide(),e.delegate("#mark-list-films-as-watched","click",function(e){l()}),e.delegate("#add-ratings-from-list","click",function(e){$(".import-rating").is(":visible")?$(".import-rating").hide():$(".import-rating").show(),l()}),e.delegate("#add-reviews-from-list","click",function(e){$(".import-review").is(":visible")?$(".import-review").hide():$(".import-review").show(),l()}),e.delegate("#add-watchedDates-from-list","click",function(e){$(".view-date").is(":visible")?$(".view-date,.duplicate-entry").hide():$(".view-date,.duplicate-entry").show(),l()}),e.delegate("#add-tags-from-list","click",function(e){$(".import-tags").is(":visible")?$(".import-tags").hide():$(".import-tags").show(),l()}),$("a.save-users-imported-imdb-history").click(function(e){e.preventDefault(),$(this).hasClass("import-button-disabled")||($(this).html("Saving…"),$(this).addClass("import-button-disabled").css({opacity:.35}),$("#imdb-importer-matched-form").trigger("submit"))})),$("#importer-matched-form").length&&t()})},function(e,t){$(function(){function e(){var e=$(".really-lazy-load").filter(function(){return $.inviewport(this,{threshold:1e3,container:window})});bxd.loadReallyLazyPosters(e)}var t;function n(){clearTimeout(t),t=setTimeout(e,30)}$(window).bind("scroll",n),PubSub.subscribe("really-lazy-load",n),n()})},function(e,t){function n(e,t){$.get(baseURL+"/user/s/"+t.toLowerCase()+"friends.do",{start:e},function(e,t,n){$("#social-friends-table tbody").append(e),bxd.layout($("#social-friends-table tbody"))},"html")}window.socialFriendsInitialise=function(e){var t;void 0!==e&&""!==e?(t=e.charAt(0).toUpperCase()+e.substr(1),$("#social-friends-table").after("<div id='spinner'></div>"),$("#spinner").lbSpinner({size:24}),$("#social-loading-message").html("Finding your "+t+" friends with an account linked on Letterboxd. Please stand by&hellip;"),n(0,e)):window.location=baseURL+"/settings/"},window.socialFriendsLoad=n},function(e,t){$(function(){$("body").hasClass("view")&&($(".has-spoilers a").click(function(e){e.preventDefault(),$(this).closest(".contains-spoilers").hide().siblings(".moderation-details").addClass("-revealed").end().closest(".review").find(".hidden-spoilers").show()}),$(".js-twitter-share-link").each(function(){var e=$(this),t="";e.data("rating")&&(t+=ratingStars(e.data("rating")),1===e.data("rating")&&(t+="★"),t+=" "),t=t+"review of "+e.data("film-name"),t=(t=person.loggedIn&&e.data("owner")===person.username?"My "+t:"A "+t+" by "+(e.data("twitter-handle")?"@"+e.data("twitter-handle"):e.data("owner-name")))+" on @letterboxd: "+e.data("url"),e.attr("href","https://twitter.com/intent/tweet?text="+encodeURIComponent(t))}))})},function(e,t){$(function(){var a,s,n,i,e,t=$("#frm-watchlist-autocomplete");t.length&&((a=$("body")).addClass("my-watchlist").removeClass("wide"),0===$(".js-watchlist-content").data("num-entries")&&a.addClass("empty-watchlist"),s=null,t.autocomplete(t.data("url"),$.extend({},bxd.autocompleteConfig,{width:228})).result(function(e,t,n){$.ajax({url:t.watchlistAction,data:{__csrf:supermodelCSRF},type:"POST",dataType:"json",success:function(e){null!==e.csrf&&void 0!==e.csrf&&(supermodelCSRF=e.csrf),e.messages&&(bxd.showMessages(e.result?"success":"error",e.messages),$("#frm-watchlist-autocomplete").val(""),-1<e.errorCodes.indexOf("film.added.to.watchlist")&&(s=$.get($(".js-watchlist-content").data("path")).done(function(e,t,n){var i,r,o;n===s&&(i=$(e).find(".js-watchlist-main-content"),r=$(".js-watchlist-main-content"),$(".twipsy").remove(),r.replaceWith(i),bxd.layout(i),o=i.find(".watchlist-count"),$("#enter-password-modal .watchlist-count").replaceWith(o),a.removeClass("empty-watchlist"))})))},error:function(){bxd.showMessages("error",["Oops.  Couldn't add the film to your watchlist.  Try again."])}})}),$("body").click(function(e){eventIsInsideElement(e,t)||eventIsInsideElement(e,$(".ac_results"))||setTimeout(function(){t.trigger("close")},300)}),$(window).resize(function(){t.trigger("close")}),n=$("#filmlist-reset"),i=$("#frm-password"),n.on("submit",function(e){""===i.val()&&(e.stopImmediatePropagation(),e.preventDefault(),$("#open-enter-password-modal").trigger("click"),$("a.js-form-action.btn-loading").removeClass("btn-loading"))}),$("#enter-password-form").on("submit",function(e){e.preventDefault(),$("#open-enter-password-modal").colorbox.close();var t=$("#frm-reg-password").val();t?(i.val(t),n.trigger("submit")):bxd.showMessages("error","No password entered.")}),e={inline:!0,fixed:!0,overlayClose:!1,href:"#enter-password-modal",onComplete:function(){$("#frm-reg-password").focus()}},renderMobile&&(e.width="100%",e.initialWidth="288px",e.initialHeight="200px",e.transition="fade",e.speed=0),$("#open-enter-password-modal").colorbox(e))})},function(e,t,n){var i={"./film-poster.jsx":388,"./header.jsx":389,"./like-link.jsx":390,"./usermenu.jsx":391};function r(e){var t=o(e);return n(t)}function o(e){if(n.o(i,e))return i[e];var t=new Error("Cannot find module '"+e+"'");throw t.code="MODULE_NOT_FOUND",t}r.keys=function(){return Object.keys(i)},r.resolve=o,(e.exports=r).id=387},function(e,t,n){(function(l){function s(e){return(s="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function o(e,t){for(var n=0;n<t.length;n++){var i=t[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(e,i.key,i)}}function a(e,t){return(a=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function c(o){var a=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],function(){})),!0}catch(e){return!1}}();return function(){var e,t,n,i,r=u(o);return t=a?(e=u(this).constructor,Reflect.construct(r,arguments,e)):r.apply(this,arguments),n=this,!(i=t)||"object"!==s(i)&&"function"!=typeof i?function(e){if(void 0!==e)return e;throw new ReferenceError("this hasn't been initialised - super() hasn't been called")}(n):i}}function u(e){return(u=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function d(e,t){var n=t.find(".frame");e.props.byline&&n.before(e.props.byline),e.props.showMenu&&person.loggedIn&&!renderMobile&&n.filmPosterMenu(),e.props.hideTooltip||window.isTouchOnly||renderMobile||n.twipsy({delayIn:1500,offset:1}),n.closest("#poster-frame,#list-entry-poster-frame").length&&n.attr("target","_blank"),1===t.find("img.image").length?t.find("img.image").removeClass("-empty-poster-image hidden"):t.find("img.-empty-poster-image").remove(),bxd.layout(t)}var e;e=function(){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&a(e,t)}(r,l.Component);var e,t,n,i=c(r);function r(e){var t;return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,r),(t=i.call(this,e)).myDOMNode=l.createRef(),t}return e=r,n=[{key:"propsFrom",value:function(e){var t=$(e),n=t.find("img:first"),i=t.find(".frame"),r={filmId:t.data("film-id"),linked:t.hasClass("linked-film-poster"),targetUrl:t.data("target-link"),targetLinkTarget:t.data("target-link-target"),showMenu:t.data("show-menu"),hideTooltip:t.data("hide-tooltip"),byline:t.parent().find(".js-poster-attribution"),pagination:0<t.closest(".prevnext").length,listIndex:t.data("list-index"),imageSource:n.attr("src"),originalImageSource:n.data("original"),width:n.attr("width"),height:n.attr("height"),altText:n.attr("alt"),itemProp:n.attr("itemProp"),srcSet:n.attr("srcset"),imageClass:n.attr("class"),ownerRating:t.closest(".poster-container").data("owner-rating"),posterTitle:i.attr("title")};return!renderMobile&&0<t.closest("#featured").length&&(r.metadataOverlay=!0,r.numWatches=t.data("num-watches"),r.numLikes=t.data("num-likes")),r}}],(t=[{key:"componentDidMount",value:function(){d(this,$(this.myDOMNode.current)),this.props.showMenu&&person.loggedIn&&PubSub.publish("letterboxd-metadata",{poster:this.props.filmId})}},{key:"componentDidUpdate",value:function(){d(this,$(this.myDOMNode.current))}},{key:"render",value:function(){var e,t;this.props.metadataOverlay&&(e=l.createElement("ul",{className:"poster-meta"},l.createElement("li",{className:"poster-views"},l.createElement("span",{className:"icon icon-views"},"Views: "),l.createElement("strong",null,bxd.formatNumber(this.props.numWatches))),l.createElement("li",{className:"poster-likes"},l.createElement("span",{className:"icon icon-like"},"Likes: "),l.createElement("strong",null,bxd.formatNumber(this.props.numLikes))))),this.props.pagination&&(t=l.createElement("span",{className:"replace icon"}));var n,i,r=l.createElement("img",{src:this.props.imageSource,width:this.props.width,height:this.props.height,alt:this.props.altText,itemProp:this.props.itemProp,srcSet:this.props.srcSet,className:this.props.imageClass,"data-original":this.props.originalImageSource}),o=this.props.hideTooltip?null:this.props.posterTitle+(this.props.ownerRating?" "+ratingStars(this.props.ownerRating):"");this.props.showMenu&&person.loggedIn&&!renderMobile&&(i=l.createElement("span",{className:"overlay-actions js-film-options -w"+this.props.width},l.createElement("span",{className:"film-watch-link-target","data-film-id":this.props.filmId},l.createElement("span",{className:"film-watch-link"},l.createElement("span",{className:"has-icon icon-16 icon-watch"}," "))),l.createElement("span",{className:"like-link-target","data-likeable-uid":"film:"+this.props.filmId},l.createElement(globals.comps.LikeLinkComponent,{likeableUid:"film:"+this.props.filmId,likeableName:"film",likeable:"true",format:"minimal"})),l.createElement("span",{className:"replace menu-link icon"})));var a="frame"+(i?" has-menu":""),s=null;return this.props.listIndex&&(s=l.createElement("span",{className:"number"},l.createElement("span",null,this.props.listIndex))),n=this.props.linked?l.createElement("a",{href:this.props.targetUrl,className:a,title:o,target:this.props.targetLinkTarget||null},s,l.createElement("span",{className:"frame-title"},this.props.posterTitle),l.createElement("span",{className:"overlay"}),i):l.createElement("span",{className:a,title:o},s,l.createElement("span",{className:"frame-title"},this.props.posterTitle),i),l.createElement("div",{ref:this.myDOMNode},r,e,t,n)}}])&&o(e.prototype,t),n&&o(e,n),r}(),globals.comps||(globals.comps={}),globals.comps.FilmPosterComponent=e}).call(this,n(46))},function(e,t,n){(function(l){function s(e){return(s="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function o(e,t){for(var n=0;n<t.length;n++){var i=t[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(e,i.key,i)}}function a(e,t){return(a=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function c(o){var a=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],function(){})),!0}catch(e){return!1}}();return function(){var e,t,n,i,r=u(o);return t=a?(e=u(this).constructor,Reflect.construct(r,arguments,e)):r.apply(this,arguments),n=this,!(i=t)||"object"!==s(i)&&"function"!=typeof i?function(e){if(void 0!==e)return e;throw new ReferenceError("this hasn't been initialised - super() hasn't been called")}(n):i}}function u(e){return(u=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}var e;e=function(){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&a(e,t)}(r,l.Component);var e,t,n,i=c(r);function r(){return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,r),i.apply(this,arguments)}return e=r,(t=[{key:"render",value:function(){var e=l.createElement(globals.comps.UserMenuComponent,{key:"userMenu"}),t=[],n=[];renderMobile?t.push(e):n.push(e);for(var i,r=0;r<mainMenu.length;r++){var o,a=mainMenu[r];person.loggedIn&&a.hideWhenSignedIn||!person.loggedIn&&a.hideWhenNotSignedIn||(o=l.createElement("li",{key:a.id,className:"navitem "+a.cssClassCode+(a.selected?" -selected":"")},l.createElement("a",{href:a.url,className:"navlink has-icon"},a.name)),!renderMobile||a.showInMainNavForMobile?n.push(o):t.push(o))}renderMobile&&n.push(l.createElement("li",{className:"navitem -mobilemenutoggle",id:"mobile-menu-toggle",key:"mobile-menu-toggle"},l.createElement("a",{className:"replace",href:"#"},"Open/Close menu"))),n.push(l.createElement("li",{className:"navitem -search js-nav-search-toggle",key:"nav-search"},l.createElement("a",{href:"#",className:"replace"}))),t.length&&(i=l.createElement("nav",{id:"mobile-nav"},l.createElement("ul",null,t)));var s=l.createElement("nav",{className:"main-nav"},l.createElement("ul",{className:"navitems"},n));return l.createElement("div",null,i,s)}}])&&o(e.prototype,t),n&&o(e,n),r}(),globals.comps||(globals.comps={}),globals.comps.NavComponent=e}).call(this,n(46))},function(e,t,n){(function(d){function s(e){return(s="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function o(e,t){for(var n=0;n<t.length;n++){var i=t[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(e,i.key,i)}}function a(e,t){return(a=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function l(o){var a=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],function(){})),!0}catch(e){return!1}}();return function(){var e,t,n,i,r=u(o);return t=a?(e=u(this).constructor,Reflect.construct(r,arguments,e)):r.apply(this,arguments),n=this,!(i=t)||"object"!==s(i)&&"function"!=typeof i?c(n):i}}function c(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function u(e){return(u=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function f(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function h(e,t){t.find(".ajax-click-action").data("ajax-data",function(){return{liked:!e.state.liked}}),bxd.layout(t)}var e;e=function(){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&a(e,t)}(r,d.Component);var e,t,n,i=l(r);function r(e){var t;return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,r),f(c(t=i.call(this,e)),"mouseOver",function(e){t.state.hover||t.setState({hover:!0})}),f(c(t),"mouseOut",function(e){t.state.hover&&t.setState({hover:!1})}),t.myDOMNode=d.createRef(),t.state={initialised:!1,count:0,liked:!1,processing:!1,hover:!1},t}return e=r,(t=[{key:"render",value:function(){var e,t=baseURL+"/s/"+this.props.likeableUid+"/like/",n=this.props.likeableUid.split(":")[0]+"_like",i=this.state.initialised&&person.loggedIn&&person.username!==this.props.owner&&this.props.likeable,r="has-icon icon-16",o="icon-like",a="icon-liked";if("large"===this.props.format&&(r="action -like",o="",a="-on"),"svg"===this.props.format&&(r="svg-action -like",o="",a="-liked"),r+=i?" ajax-click-action ":" cannot-like",this.state.initialised?this.state.processing?this.state.liked?r=r+" "+o:this.state.liked||(r=r+" "+a):this.state.liked&&i?r=r+" "+a:this.state.liked||(r=r+" "+o):r=r+" "+o+" ajax-initialising",this.state.initialised){var s=this.state.liked?"You liked this "+this.props.likeableName:"Like this "+this.props.likeableName+"?";if("svg"===this.props.format&&(s=this.state.liked?"Liked":"Like "+this.props.likeableName),"minimal"===this.props.format)c=person.loggedIn?d.createElement("span",{className:r,"data-action":t,"data-recaptcha-action":n},s):d.createElement("span",{className:r});else if("large"===this.props.format)var l=this.state.liked?this.state.hover?"Remove":"Liked":"Like",c=person.loggedIn?d.createElement("span",{className:r,"data-action":t,"data-recaptcha-action":n},l):d.createElement("span",{className:r},"Like");else if(0===this.state.count)if(i)c=d.createElement("a",{href:"#",className:r,"data-action":t,"data-recaptcha-action":n},s);else{if(!this.state.mountedInSidebar&&!person.loggedIn)return null;c=d.createElement("span",{className:r},"No likes")}else{var u=i&&"small"===this.props.format&&99<this.state.count?bxd.formatNumber(this.state.count):bxd.pluralise(this.state.count,"like","likes");i?(c=d.createElement("a",{href:"#",className:r,"data-action":t,"data-recaptcha-action":n},s),e=d.createElement("a",{href:this.props.likesPage,className:"count"},u)):c=d.createElement("a",{href:this.props.likesPage,className:r},u)}}else{if(!person.loggedIn&&!this.state.mountedInSidebar)return null;c=d.createElement("span",{className:r}," ")}return d.createElement("span",{ref:this.myDOMNode,className:"like-link",onMouseOver:this.mouseOver,onMouseOut:this.mouseOut},c,e?" ":null,e)}},{key:"componentDidMount",value:function(){var i=this,e=$(this.myDOMNode.current);h(i,e);var t,n={mountedInSidebar:1===e.closest("#userpanel").length};i.props.likeableUid&&(n.pubSubToken=PubSub.subscribe("like:"+i.props.likeableUid,function(e,t){var n={initialised:!0};t.processing?n.processing=t.processing:n.processing=!1;void 0!==t.liked&&(n.liked=t.liked);void 0!==t.count?n.count=t.count:void 0!==n.liked&&n.liked!==i.state.liked&&(n.count=n.liked?i.state.count+1:i.state.count-1);i.setState(n)}),t={likeable:i.props.likeableUid},"minimal"!==this.props.format&&"large"!==this.props.format&&(t.likeCount=i.props.likeableUid),PubSub.publish("letterboxd-metadata",t)),i.setState(n)}},{key:"componentWillUnmount",value:function(){this.state.pubSubToken&&PubSub.unsubscribe(this.state.pubSubToken)}},{key:"componentDidUpdate",value:function(){h(this,$(this.myDOMNode.current))}}])&&o(e.prototype,t),n&&o(e,n),r}(),globals.comps||(globals.comps={}),globals.comps.LikeLinkComponent=e}).call(this,n(46))},function(e,t,n){(function(o){function s(e){return(s="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function a(e,t){for(var n=0;n<t.length;n++){var i=t[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(e,i.key,i)}}function l(e,t){return(l=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function c(o){var a=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],function(){})),!0}catch(e){return!1}}();return function(){var e,t,n,i,r=u(o);return t=a?(e=u(this).constructor,Reflect.construct(r,arguments,e)):r.apply(this,arguments),n=this,!(i=t)||"object"!==s(i)&&"function"!=typeof i?function(e){if(void 0!==e)return e;throw new ReferenceError("this hasn't been initialised - super() hasn't been called")}(n):i}}function u(e){return(u=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}var e;e=function(){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&l(e,t)}(r,o.Component);var e,t,n,i=c(r);function r(){return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,r),i.apply(this,arguments)}return e=r,(t=[{key:"render",value:function(){var e,t;return person.loggedIn?(person.hasHqRole&&(t=o.createElement("li",null,o.createElement("a",{href:baseURL+"/"+person.username+"/stories/"},"Stories"))),person.hasMemberStatistics&&(e=o.createElement("li",null,o.createElement("a",{href:baseURL+"/"+person.username+"/stats/"},"Stats"))),o.createElement("li",{className:"navitem nav-account js-nav-account"},o.createElement("a",{href:"#",className:"has-icon toggle-menu"},o.createElement("span",{className:"avatar -a24","data-js-user-avatar":!0},o.createElement("img",{src:person.avatarURL24,alt:person.username,width:"24",height:"24"})),person.username),o.createElement("ul",{className:"subnav"},o.createElement("li",{className:"divider"},o.createElement("a",{href:baseURL+"/"},"Home")),o.createElement("li",null,o.createElement("a",{href:baseURL+"/"+person.username+"/"},"Profile")),t,o.createElement("li",null,o.createElement("a",{href:baseURL+"/"+person.username+"/films/"},"Films")),o.createElement("li",null,o.createElement("a",{href:baseURL+"/"+person.username+"/films/diary/"},"Diary")),o.createElement("li",null,o.createElement("a",{href:baseURL+"/"+person.username+"/films/reviews/"},"Reviews")),o.createElement("li",null,o.createElement("a",{href:baseURL+"/"+person.username+"/watchlist/"},"Watchlist")),o.createElement("li",null,o.createElement("a",{href:baseURL+"/"+person.username+"/lists/"},"Lists")),o.createElement("li",null,o.createElement("a",{href:baseURL+"/"+person.username+"/likes/"},"Likes")),o.createElement("li",null,o.createElement("a",{href:baseURL+"/"+person.username+"/tags/"},"Tags")),o.createElement("li",null,o.createElement("a",{href:baseURL+"/"+person.username+"/following/"},"Network")),e,o.createElement("li",{className:"divider"},o.createElement("a",{href:baseURL+"/settings/"},"Settings")),o.createElement("li",null,o.createElement("a",{id:"sign-out",href:"#",className:"ajax-click-action","data-action":baseURL+"/user/logout.do"},"Sign Out"))))):null}}])&&a(e.prototype,t),n&&a(e,n),r}(),globals.comps||(globals.comps={}),globals.comps.UserMenuComponent=e}).call(this,n(46))},,,,,,,,,,,,,,,,,,,,,,,,,,,,,,function(e,t,n){"use strict";n.r(t);var d=n(87),i=n(2),r=n.n(i);function z(){return(z=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n,i=arguments[t];for(n in i)Object.prototype.hasOwnProperty.call(i,n)&&(e[n]=i[n])}return e}).apply(this,arguments)}function o(e){if("undefined"!=typeof window&&window.navigator)return!!navigator.userAgent.match(e)}var w=o(/(?:Trident.*rv[ :]?11\.|msie|iemobile|Windows Phone)/i),x=o(/Edge/i),c=o(/firefox/i),u=o(/safari/i)&&!o(/chrome/i)&&!o(/android/i),a=o(/iP(ad|od|hone)/i),s=o(/chrome/i)&&o(/android/i),l={capture:!1,passive:!1};function f(e,t,n){e.addEventListener(t,n,!w&&l)}function h(e,t,n){e.removeEventListener(t,n,!w&&l)}function p(e,t){if(t){if(">"===t[0]&&(t=t.substring(1)),e)try{if(e.matches)return e.matches(t);if(e.msMatchesSelector)return e.msMatchesSelector(t);if(e.webkitMatchesSelector)return e.webkitMatchesSelector(t)}catch(e){return}}else;}function H(e,t,n,i){if(e){n=n||document;do{if(null!=t&&(">"!==t[0]||e.parentNode===n)&&p(e,t)||i&&e===n)return e;if(e===n)break}while(e=(r=e).host&&r!==document&&r.host.nodeType?r.host:r.parentNode)}var r;return null}var m,g=/\s+/g;function W(e,t,n){var i;e&&t&&(e.classList?e.classList[n?"add":"remove"](t):(i=(" "+e.className+" ").replace(g," ").replace(" "+t+" "," "),e.className=(i+(n?" "+t:"")).replace(g," ")))}function B(e,t,n){var i=e&&e.style;if(i){if(void 0===n)return document.defaultView&&document.defaultView.getComputedStyle?n=document.defaultView.getComputedStyle(e,""):e.currentStyle&&(n=e.currentStyle),void 0===t?n:n[t];t in i||-1!==t.indexOf("webkit")||(t="-webkit-"+t),i[t]=n+("string"==typeof n?"":"px")}}function v(e,t){var n="";if("string"==typeof e)n=e;else do{var i=B(e,"transform");i&&"none"!==i&&(n=i+" "+n)}while(!t&&(e=e.parentNode));var r=window.DOMMatrix||window.WebKitCSSMatrix||window.CSSMatrix||window.MSCSSMatrix;return r&&new r(n)}function y(e,t,n){if(e){var i=e.getElementsByTagName(t),r=0,o=i.length;if(n)for(;r<o;r++)n(i[r],r);return i}return[]}function P(){return document.scrollingElement||document.documentElement}function U(e,t,n,i,r){if(e.getBoundingClientRect||e===window){var o,a,s,l,c,u,d,f,h,p=e!==window&&e!==P()?(a=(o=e.getBoundingClientRect()).top,s=o.left,l=o.bottom,c=o.right,u=o.height,o.width):(s=a=0,l=window.innerHeight,c=window.innerWidth,u=window.innerHeight,window.innerWidth);if((t||n)&&e!==window&&(r=r||e.parentNode,!w))do{if(r&&r.getBoundingClientRect&&("none"!==B(r,"transform")||n&&"static"!==B(r,"position"))){var m=r.getBoundingClientRect();a-=m.top+parseInt(B(r,"border-top-width")),s-=m.left+parseInt(B(r,"border-left-width")),l=a+o.height,c=s+o.width;break}}while(r=r.parentNode);return i&&e!==window&&(f=(d=v(r||e))&&d.a,h=d&&d.d,d&&(l=(a/=h)+(u/=h),c=(s/=f)+(p/=f))),{top:a,left:s,bottom:l,right:c,width:p,height:u}}}function q(e,t,n){for(var i=D(e,!0),r=U(e)[t];i;){var o=U(i)[n];if(!("top"===n||"left"===n?o<=r:r<=o))return i;if(i===P())break;i=D(i,!1)}return!1}function b(e,t,n){for(var i=0,r=0,o=e.children;r<o.length;){if("none"!==o[r].style.display&&o[r]!==Fe.ghost&&o[r]!==Fe.dragged&&H(o[r],n.draggable,e,!1)){if(i===t)return o[r];i++}r++}return null}function Q(e,t){for(var n=e.lastElementChild;n&&(n===Fe.ghost||"none"===B(n,"display")||t&&!p(n,t));)n=n.previousElementSibling;return n||null}function Y(e,t){var n=0;if(!e||!e.parentNode)return-1;for(;e=e.previousElementSibling;)"TEMPLATE"===e.nodeName.toUpperCase()||e===Fe.clone||t&&!p(e,t)||n++;return n}function k(e){var t=0,n=0,i=P();if(e)do{var r=v(e);t+=e.scrollLeft*r.a,n+=e.scrollTop*r.d}while(e!==i&&(e=e.parentNode));return[t,n]}function D(e,t){if(!e||!e.getBoundingClientRect)return P();var n=e,i=!1;do{if(n.clientWidth<n.scrollWidth||n.clientHeight<n.scrollHeight){var r=B(n);if(n.clientWidth<n.scrollWidth&&("auto"==r.overflowX||"scroll"==r.overflowX)||n.clientHeight<n.scrollHeight&&("auto"==r.overflowY||"scroll"==r.overflowY)){if(!n.getBoundingClientRect||n===document.body)return P();if(i||t)return n;i=!0}}}while(n=n.parentNode);return P()}function C(e,t){return Math.round(e.top)===Math.round(t.top)&&Math.round(e.left)===Math.round(t.left)&&Math.round(e.height)===Math.round(t.height)&&Math.round(e.width)===Math.round(t.width)}function T(t,n){return function(){var e;m||(1===(e=arguments).length?t.call(this,e[0]):t.apply(this,e),m=setTimeout(function(){m=void 0},n))}}function V(e,t,n){e.scrollLeft+=t,e.scrollTop+=n}function S(e){var t=window.Polymer,n=window.jQuery||window.Zepto;return t&&t.dom?t.dom(e).cloneNode(!0):n?n(e).clone(!0)[0]:e.cloneNode(!0)}function _(e,t){B(e,"position","absolute"),B(e,"top",t.top),B(e,"left",t.left),B(e,"width",t.width),B(e,"height",t.height)}function E(e){B(e,"position",""),B(e,"top",""),B(e,"left",""),B(e,"width",""),B(e,"height","")}var X="Sortable"+(new Date).getTime(),j=[],I={initializeByDefault:!0},M={mount:function(e){for(var t in I)!I.hasOwnProperty(t)||t in e||(e[t]=I[t]);j.push(e)},pluginEvent:function(t,n,i){var e=this;this.eventCanceled=!1,i.cancel=function(){e.eventCanceled=!0};var r=t+"Global";j.forEach(function(e){n[e.pluginName]&&(n[e.pluginName][r]&&n[e.pluginName][r](z({sortable:n},i)),n.options[e.pluginName]&&n[e.pluginName][t]&&n[e.pluginName][t](z({sortable:n},i)))})},initializePlugins:function(i,r,o,e){for(var t in j.forEach(function(e){var t,n=e.pluginName;(i.options[n]||e.initializeByDefault)&&((t=new e(i,r,i.options)).sortable=i,t.options=i.options,i[n]=t,Object.assign(o,t.defaults))}),i.options){var n;!i.options.hasOwnProperty(t)||void 0!==(n=this.modifyOption(i,t,i.options[t]))&&(i.options[t]=n)}},getEventProperties:function(t,n){var i={};return j.forEach(function(e){"function"==typeof e.eventProperties&&Object.assign(i,e.eventProperties.call(n[e.pluginName],t))}),i},modifyOption:function(t,n,i){var r;return j.forEach(function(e){t[e.pluginName]&&e.optionListeners&&"function"==typeof e.optionListeners[n]&&(r=e.optionListeners[n].call(t[e.pluginName],i))}),r}};function N(e){var t=e.sortable,n=e.rootEl,i=e.name,r=e.targetEl,o=e.cloneEl,a=e.toEl,s=e.fromEl,l=e.oldIndex,c=e.newIndex,u=e.oldDraggableIndex,d=e.newDraggableIndex,f=e.originalEvent,h=e.putSortable,p=e.extraEventProperties;if(t=t||n&&n[X]){var m,g=t.options,v="on"+i.charAt(0).toUpperCase()+i.substr(1);!window.CustomEvent||w||x?(m=document.createEvent("Event")).initEvent(i,!0,!0):m=new CustomEvent(i,{bubbles:!0,cancelable:!0}),m.to=a||n,m.from=s||n,m.item=r||n,m.clone=o,m.oldIndex=l,m.newIndex=c,m.oldDraggableIndex=u,m.newDraggableIndex=d,m.originalEvent=f,m.pullMode=h?h.lastPutMode:void 0;var y,b=z({},p,M.getEventProperties(i,t));for(y in b)m[y]=b[y];n&&n.dispatchEvent(m),g[v]&&g[v].call(t,m)}}function K(e,t,n){var i=void 0===n?{}:n,r=i.evt,o=function(e,t){if(null==e)return{};for(var n,i={},r=Object.keys(e),o=0;o<r.length;o++)0<=t.indexOf(n=r[o])||(i[n]=e[n]);return i}(i,["evt"]);M.pluginEvent.bind(Fe)(e,t,z({dragEl:J,parentEl:Z,ghostEl:ee,rootEl:te,nextEl:ne,lastDownEl:O,cloneEl:A,cloneHidden:L,dragStarted:he,putSortable:ae,activeSortable:Fe.active,originalEvent:r,oldIndex:F,oldDraggableIndex:R,newIndex:ie,newDraggableIndex:re,hideGhostForTarget:Me,unhideGhostForTarget:Ne,cloneNowHidden:function(){L=!0},cloneNowShown:function(){L=!1},dispatchSortableEvent:function(e){G({sortable:t,name:e,originalEvent:r})}},o))}function G(e){N(z({putSortable:ae,cloneEl:A,targetEl:J,rootEl:te,oldIndex:F,oldDraggableIndex:R,newIndex:ie,newDraggableIndex:re},e))}var J,Z,ee,te,ne,O,A,L,F,ie,R,re,oe,ae,se,le,ce,ue,de,fe,he,pe,me,ge,ve,ye=!1,be=!1,we=[],xe=!1,ke=!1,Ce=[],$e=!1,Te=[],Se="undefined"!=typeof document,_e=a,Ee=x||w?"cssFloat":"float",je=Se&&!s&&!a&&"draggable"in document.createElement("div"),Ie=function(){if(Se){if(w)return!1;var e=document.createElement("x");return e.style.cssText="pointer-events:auto","auto"===e.style.pointerEvents}}(),Pe=function(e,t){var n=B(e),i=parseInt(n.width)-parseInt(n.paddingLeft)-parseInt(n.paddingRight)-parseInt(n.borderLeftWidth)-parseInt(n.borderRightWidth),r=b(e,0,t),o=b(e,1,t),a=r&&B(r),s=o&&B(o),l=a&&parseInt(a.marginLeft)+parseInt(a.marginRight)+U(r).width,c=s&&parseInt(s.marginLeft)+parseInt(s.marginRight)+U(o).width;return"flex"===n.display?"column"===n.flexDirection||"column-reverse"===n.flexDirection?"vertical":"horizontal":"grid"===n.display?n.gridTemplateColumns.split(" ").length<=1?"vertical":"horizontal":r&&a.float&&"none"!==a.float?!o||"both"!==s.clear&&s.clear!==("left"===a.float?"left":"right")?"horizontal":"vertical":r&&("block"===a.display||"flex"===a.display||"table"===a.display||"grid"===a.display||i<=l&&"none"===n[Ee]||o&&"none"===n[Ee]&&i<l+c)?"vertical":"horizontal"},De=function(e){function s(o,a){return function(e,t,n,i){if(null==o&&(a||e.options.group.name&&t.options.group.name&&e.options.group.name===t.options.group.name))return!0;if(null==o||!1===o)return!1;if(a&&"clone"===o)return o;if("function"==typeof o)return s(o(e,t,n,i),a)(e,t,n,i);var r=(a?e:t).options.group.name;return!0===o||"string"==typeof o&&o===r||o.join&&-1<o.indexOf(r)}}var t={},n=e.group;n&&"object"==typeof n||(n={name:n}),t.name=n.name,t.checkPull=s(n.pull,!0),t.checkPut=s(n.put),t.revertClone=n.revertClone,e.group=t},Me=function(){!Ie&&ee&&B(ee,"display","none")},Ne=function(){!Ie&&ee&&B(ee,"display","")};Se&&document.addEventListener("click",function(e){if(be)return e.preventDefault(),e.stopPropagation&&e.stopPropagation(),e.stopImmediatePropagation&&e.stopImmediatePropagation(),be=!1},!0);function Oe(e){if(J){var t=(r=(e=e.touches?e.touches[0]:e).clientX,o=e.clientY,we.some(function(e){if(!Q(e)){var t=U(e),n=e[X].options.emptyInsertThreshold;return n&&r>=t.left-n&&r<=t.right+n&&o>=t.top-n&&o<=t.bottom+n?a=e:void 0}}),a);if(t){var n,i={};for(n in e)e.hasOwnProperty(n)&&(i[n]=e[n]);i.target=i.rootEl=t,i.preventDefault=void 0,i.stopPropagation=void 0,t[X]._onDragOver(i)}}var r,o,a}function Ae(e){J&&J.parentNode[X]._isOutsideThisEl(e.target)}var Le;function Fe(e,t){if(!e||!e.nodeType||1!==e.nodeType)throw"Sortable: `el` must be an HTMLElement, not "+{}.toString.call(e);this.el=e,this.options=t=Object.assign({},t),e[X]=this;var n,i,r,o,a={group:null,sort:!0,disabled:!1,store:null,handle:null,draggable:/^[uo]l$/i.test(e.nodeName)?">li":">*",swapThreshold:1,invertSwap:!1,invertedSwapThreshold:null,removeCloneOnHide:!0,direction:function(){return Pe(e,this.options)},ghostClass:"sortable-ghost",chosenClass:"sortable-chosen",dragClass:"sortable-drag",ignore:"a, img",filter:null,preventOnFilter:!0,animation:0,easing:null,setData:function(e,t){e.setData("Text",t.textContent)},dropBubble:!1,dragoverBubble:!1,dataIdAttr:"data-id",delay:0,delayOnTouchOnly:!1,touchStartThreshold:(Number.parseInt?Number:window).parseInt(window.devicePixelRatio,10)||1,forceFallback:!1,fallbackClass:"sortable-fallback",fallbackOnBody:!1,fallbackTolerance:0,fallbackOffset:{x:0,y:0},supportPointer:!1!==Fe.supportPointer&&"PointerEvent"in window,emptyInsertThreshold:5};for(r in M.initializePlugins(this,e,a),a)r in t||(t[r]=a[r]);for(o in De(t),this)"_"===o.charAt(0)&&"function"==typeof this[o]&&(this[o]=this[o].bind(this));this.nativeDraggable=!t.forceFallback&&je,this.nativeDraggable&&(this.options.touchStartThreshold=1),t.supportPointer?f(e,"pointerdown",this._onTapStart):(f(e,"mousedown",this._onTapStart),f(e,"touchstart",this._onTapStart)),this.nativeDraggable&&(f(e,"dragover",this),f(e,"dragenter",this)),we.push(this.el),t.store&&t.store.get&&this.sort(t.store.get(this)||[]),Object.assign(this,(i=[],{captureAnimationState:function(){i=[],this.options.animation&&[].slice.call(this.el.children).forEach(function(e){var t,n;"none"!==B(e,"display")&&void 0!==e&&(i.push({target:e,rect:U(e)}),t=z({},i[i.length-1].rect),!e.thisAnimationDuration||(n=v(e,!0))&&(t.top-=n.f,t.left-=n.e),e.fromRect=t)})},addAnimationState:function(e){i.push(e)},removeAnimationState:function(e){i.splice(function(e,t){for(var n in e)if(e.hasOwnProperty(n))for(var i in t)if(t.hasOwnProperty(i)&&t[i]===e[n][i])return Number(n);return-1}(i,{target:e}),1)},animateAll:function(e){var h=this;if(!this.options.animation)return clearTimeout(n),void("function"==typeof e&&e());var p=!1,m=0;i.forEach(function(e){var t,n,i,r,o=0,a=e.target,s=a.fromRect,l=U(a),c=a.prevFromRect,u=a.prevToRect,d=e.rect,f=v(a,!0);f&&(l.top-=f.f,l.left-=f.e),a.toRect=l,a.thisAnimationDuration&&C(c,l)&&!C(s,l)&&(d.top-l.top)/(d.left-l.left)==(s.top-l.top)/(s.left-l.left)&&(t=d,n=c,i=u,r=h.options,o=Math.sqrt(Math.pow(n.top-t.top,2)+Math.pow(n.left-t.left,2))/Math.sqrt(Math.pow(n.top-i.top,2)+Math.pow(n.left-i.left,2))*r.animation),C(l,s)||(a.prevFromRect=s,a.prevToRect=l,o=o||h.options.animation,h.animate(a,d,l,o)),o&&(p=!0,m=Math.max(m,o),clearTimeout(a.animationResetTimer),a.animationResetTimer=setTimeout(function(){a.animationTime=0,a.prevFromRect=null,a.fromRect=null,a.prevToRect=null,a.thisAnimationDuration=null},o),a.thisAnimationDuration=o)}),clearTimeout(n),p?n=setTimeout(function(){"function"==typeof e&&e()},m):"function"==typeof e&&e(),i=[]},animate:function(e,t,n,i){var r,o,a;i&&(B(e,"transition",""),B(e,"transform",""),r=v(this.el),o=(t.left-n.left)/(r&&r.a||1),a=(t.top-n.top)/(r&&r.d||1),e.animatingX=!!o,e.animatingY=!!a,B(e,"transform","translate3d("+o+"px,"+a+"px,0)"),this.forRepaintDummy=e.offsetWidth,B(e,"transition","transform "+i+"ms"+(this.options.easing?" "+this.options.easing:"")),B(e,"transform","translate3d(0,0,0)"),"number"==typeof e.animated&&clearTimeout(e.animated),e.animated=setTimeout(function(){B(e,"transition",""),B(e,"transform",""),e.animated=!1,e.animatingX=!1,e.animatingY=!1},i))}}))}function Re(e,t,n,i,r,o,a,s){var l,c,u=e[X],d=u.options.onMove;return!window.CustomEvent||w||x?(l=document.createEvent("Event")).initEvent("move",!0,!0):l=new CustomEvent("move",{bubbles:!0,cancelable:!0}),l.to=t,l.from=e,l.dragged=n,l.draggedRect=i,l.related=r||t,l.relatedRect=o||U(t),l.willInsertAfter=s,l.originalEvent=a,e.dispatchEvent(l),d&&(c=d.call(u,l,a)),c}function ze(e){e.draggable=!1}function He(){$e=!1}function We(e){return setTimeout(e,0)}function Be(e){return clearTimeout(e)}Fe.prototype={constructor:Fe,_isOutsideThisEl:function(e){this.el.contains(e)||e===this.el||(pe=null)},_getDirection:function(e,t){return"function"==typeof this.options.direction?this.options.direction.call(this,e,t,J):this.options.direction},_onTapStart:function(t){if(t.cancelable){var n=this,i=this.el,e=this.options,r=e.preventOnFilter,o=t.type,a=t.touches&&t.touches[0]||t.pointerType&&"touch"===t.pointerType&&t,s=(a||t).target,l=t.target.shadowRoot&&(t.path&&t.path[0]||t.composedPath&&t.composedPath()[0])||s,c=e.filter;if(function(e){Te.length=0;for(var t=e.getElementsByTagName("input"),n=t.length;n--;){var i=t[n];i.checked&&Te.push(i)}}(i),!J&&!(/mousedown|pointerdown/.test(o)&&0!==t.button||e.disabled)&&!l.isContentEditable&&(this.nativeDraggable||!u||!s||"SELECT"!==s.tagName.toUpperCase())&&!((s=H(s,e.draggable,i,!1))&&s.animated||O===s)){if(F=Y(s),R=Y(s,e.draggable),"function"==typeof c){if(c.call(this,t,s,this))return G({sortable:n,rootEl:l,name:"filter",targetEl:s,toEl:i,fromEl:i}),K("filter",n,{evt:t}),void(r&&t.cancelable&&t.preventDefault())}else if(c=c&&c.split(",").some(function(e){if(e=H(l,e.trim(),i,!1))return G({sortable:n,rootEl:e,name:"filter",targetEl:s,fromEl:i,toEl:i}),K("filter",n,{evt:t}),!0}))return void(r&&t.cancelable&&t.preventDefault());e.handle&&!H(l,e.handle,i,!1)||this._prepareDragStart(t,a,s)}}},_prepareDragStart:function(e,t,n){var i,r=this,o=r.el,a=r.options,s=o.ownerDocument;if(n&&!J&&n.parentNode===o){var l=U(n);if(te=o,Z=(J=n).parentNode,ne=J.nextSibling,O=n,oe=a.group,de=(se={target:Fe.dragged=J,clientX:(t||e).clientX,clientY:(t||e).clientY}).clientX-l.left,fe=se.clientY-l.top,this._lastX=(t||e).clientX,this._lastY=(t||e).clientY,J.style["will-change"]="all",i=function(){K("delayEnded",r,{evt:e}),Fe.eventCanceled?r._onDrop():(r._disableDelayedDragEvents(),!c&&r.nativeDraggable&&(J.draggable=!0),r._triggerDragStart(e,t),G({sortable:r,name:"choose",originalEvent:e}),W(J,a.chosenClass,!0))},a.ignore.split(",").forEach(function(e){y(J,e.trim(),ze)}),f(s,"dragover",Oe),f(s,"mousemove",Oe),f(s,"touchmove",Oe),f(s,"mouseup",r._onDrop),f(s,"touchend",r._onDrop),f(s,"touchcancel",r._onDrop),c&&this.nativeDraggable&&(this.options.touchStartThreshold=4,J.draggable=!0),K("delayStart",this,{evt:e}),!a.delay||a.delayOnTouchOnly&&!t||this.nativeDraggable&&(x||w))i();else{if(Fe.eventCanceled)return void this._onDrop();f(s,"mouseup",r._disableDelayedDrag),f(s,"touchend",r._disableDelayedDrag),f(s,"touchcancel",r._disableDelayedDrag),f(s,"mousemove",r._delayedDragTouchMoveHandler),f(s,"touchmove",r._delayedDragTouchMoveHandler),a.supportPointer&&f(s,"pointermove",r._delayedDragTouchMoveHandler),r._dragStartTimer=setTimeout(i,a.delay)}}},_delayedDragTouchMoveHandler:function(e){var t=e.touches?e.touches[0]:e;Math.max(Math.abs(t.clientX-this._lastX),Math.abs(t.clientY-this._lastY))>=Math.floor(this.options.touchStartThreshold/(this.nativeDraggable&&window.devicePixelRatio||1))&&this._disableDelayedDrag()},_disableDelayedDrag:function(){J&&ze(J),clearTimeout(this._dragStartTimer),this._disableDelayedDragEvents()},_disableDelayedDragEvents:function(){var e=this.el.ownerDocument;h(e,"mouseup",this._disableDelayedDrag),h(e,"touchend",this._disableDelayedDrag),h(e,"touchcancel",this._disableDelayedDrag),h(e,"mousemove",this._delayedDragTouchMoveHandler),h(e,"touchmove",this._delayedDragTouchMoveHandler),h(e,"pointermove",this._delayedDragTouchMoveHandler)},_triggerDragStart:function(e,t){t=t||"touch"==e.pointerType&&e,!this.nativeDraggable||t?f(document,this.options.supportPointer?"pointermove":t?"touchmove":"mousemove",this._onTouchMove):(f(J,"dragend",this),f(te,"dragstart",this._onDragStart));try{document.selection?We(function(){document.selection.empty()}):window.getSelection().removeAllRanges()}catch(e){}},_dragStarted:function(e,t){var n;ye=!1,te&&J?(K("dragStarted",this,{evt:t}),this.nativeDraggable&&f(document,"dragover",Ae),n=this.options,e||W(J,n.dragClass,!1),W(J,n.ghostClass,!0),Fe.active=this,e&&this._appendGhost(),G({sortable:this,name:"start",originalEvent:t})):this._nulling()},_emulateDragOver:function(){if(le){this._lastX=le.clientX,this._lastY=le.clientY,Me();for(var e=document.elementFromPoint(le.clientX,le.clientY),t=e;e&&e.shadowRoot&&(e=e.shadowRoot.elementFromPoint(le.clientX,le.clientY))!==t;)t=e;if(J.parentNode[X]._isOutsideThisEl(e),t)do{if(t[X]&&t[X]._onDragOver({clientX:le.clientX,clientY:le.clientY,target:e,rootEl:t})&&!this.options.dragoverBubble)break;e=t}while(t=t.parentNode);Ne()}},_onTouchMove:function(e){if(se){var t,n=this.options,i=n.fallbackTolerance,r=n.fallbackOffset,o=e.touches?e.touches[0]:e,a=ee&&v(ee,!0),s=ee&&a&&a.a,l=ee&&a&&a.d,c=_e&&ve&&k(ve),u=(o.clientX-se.clientX+r.x)/(s||1)+(c?c[0]-Ce[0]:0)/(s||1),d=(o.clientY-se.clientY+r.y)/(l||1)+(c?c[1]-Ce[1]:0)/(l||1);if(!Fe.active&&!ye){if(i&&Math.max(Math.abs(o.clientX-this._lastX),Math.abs(o.clientY-this._lastY))<i)return;this._onDragStart(e,!0)}ee&&(a?(a.e+=u-(ce||0),a.f+=d-(ue||0)):a={a:1,b:0,c:0,d:1,e:u,f:d},t="matrix("+a.a+","+a.b+","+a.c+","+a.d+","+a.e+","+a.f+")",B(ee,"webkitTransform",t),B(ee,"mozTransform",t),B(ee,"msTransform",t),B(ee,"transform",t),ce=u,ue=d,le=o),e.cancelable&&e.preventDefault()}},_appendGhost:function(){if(!ee){var e=this.options.fallbackOnBody?document.body:te,t=U(J,!0,_e,!0,e),n=this.options;if(_e){for(ve=e;"static"===B(ve,"position")&&"none"===B(ve,"transform")&&ve!==document;)ve=ve.parentNode;ve!==document.body&&ve!==document.documentElement?(ve===document&&(ve=P()),t.top+=ve.scrollTop,t.left+=ve.scrollLeft):ve=P(),Ce=k(ve)}W(ee=J.cloneNode(!0),n.ghostClass,!1),W(ee,n.fallbackClass,!0),W(ee,n.dragClass,!0),B(ee,"transition",""),B(ee,"transform",""),B(ee,"box-sizing","border-box"),B(ee,"margin",0),B(ee,"top",t.top),B(ee,"left",t.left),B(ee,"width",t.width),B(ee,"height",t.height),B(ee,"opacity","0.8"),B(ee,"position",_e?"absolute":"fixed"),B(ee,"zIndex","100000"),B(ee,"pointerEvents","none"),Fe.ghost=ee,e.appendChild(ee),B(ee,"transform-origin",de/parseInt(ee.style.width)*100+"% "+fe/parseInt(ee.style.height)*100+"%")}},_onDragStart:function(e,t){var n=this,i=e.dataTransfer,r=n.options;K("dragStart",this,{evt:e}),Fe.eventCanceled?this._onDrop():(K("setupClone",this),Fe.eventCanceled||((A=S(J)).draggable=!1,A.style["will-change"]="",this._hideClone(),W(A,this.options.chosenClass,!1),Fe.clone=A),n.cloneId=We(function(){K("clone",n),Fe.eventCanceled||(n.options.removeCloneOnHide||te.insertBefore(A,J),n._hideClone(),G({sortable:n,name:"clone"}))}),t||W(J,r.dragClass,!0),t?(be=!0,n._loopId=setInterval(n._emulateDragOver,50)):(h(document,"mouseup",n._onDrop),h(document,"touchend",n._onDrop),h(document,"touchcancel",n._onDrop),i&&(i.effectAllowed="move",r.setData&&r.setData.call(n,i,J)),f(document,"drop",n),B(J,"transform","translateZ(0)")),ye=!0,n._dragStartId=We(n._dragStarted.bind(n,t,e)),f(document,"selectstart",n),he=!0,u&&B(document.body,"user-select","none"))},_onDragOver:function(u){var n,d,i,f,e,t,r,o,a,s,l,c,h=this.el,p=u.target,m=this.options,g=m.group,v=Fe.active,y=oe===g,b=m.sort,w=ae||v,x=this,k=!1;if(!$e){if(void 0!==u.preventDefault&&u.cancelable&&u.preventDefault(),p=H(p,m.draggable,h,!0),A("dragOver"),Fe.eventCanceled)return k;if(J.contains(u.target)||p.animated&&p.animatingX&&p.animatingY||x._ignoreWhileAnimating===p)return F(!1);if(be=!1,v&&!m.disabled&&(y?b||(i=!te.contains(J)):ae===this||(this.lastPutMode=oe.checkPull(this,v,J,u))&&g.checkPut(this,v,J,u))){if(f="vertical"===this._getDirection(u,p),n=U(J),A("dragOverValid"),Fe.eventCanceled)return k;if(i)return Z=te,L(),this._hideClone(),A("revert"),Fe.eventCanceled||(ne?te.insertBefore(J,ne):te.appendChild(J)),F(!0);var C=Q(h,m.draggable);if(C&&(a=u,s=f,c=U(Q((l=this).el,l.options.draggable)),!(s?a.clientX>c.right+10||a.clientX<=c.right&&a.clientY>c.bottom&&a.clientX>=c.left:a.clientX>c.right&&a.clientY>c.top||a.clientX<=c.right&&a.clientY>c.bottom+10)||C.animated)){if(p.parentNode===h){d=U(p);var $,T,S,_=J.parentNode!==h,E=(e=J.animated&&J.toRect||n,t=p.animated&&p.toRect||d,r=f?e.left:e.top,o=f?t.left:t.top,!(r===o||(f?e.right:e.bottom)===(f?t.right:t.bottom)||r+(f?e.width:e.height)/2===o+(f?t.width:t.height)/2)),j=f?"top":"left",I=q(p,"top","top")||q(J,"top","top"),P=I?I.scrollTop:void 0;if(pe!==p&&(T=d[j],xe=!1,ke=!E&&m.invertSwap||_),0!==($=function(e,t,n,i){var r,o=f?u.clientY:u.clientX,a=f?d.height:d.width,s=f?d.top:d.left,l=f?d.bottom:d.right,c=!1;if(!n)if(i&&ge<a*e){if(!xe&&(1===me?s+a*t/2<o:o<l-a*t/2)&&(xe=!0),xe)c=!0;else if(1===me?o<s+ge:l-ge<o)return-me}else if(s+a*(1-e)/2<o&&o<l-a*(1-e)/2)return r=p,Y(J)<Y(r)?1:-1;return(c=c||n)&&(o<s+a*t/2||l-a*t/2<o)?s+a/2<o?1:-1:0}(E?1:m.swapThreshold,null==m.invertedSwapThreshold?m.swapThreshold:m.invertedSwapThreshold,ke,pe===p)))for(var D=Y(J);(S=Z.children[D-=$])&&("none"===B(S,"display")||S===ee););if(0===$||S===p)return F(!1);me=$;var M=(pe=p).nextElementSibling,N=!1,O=Re(te,h,J,n,p,d,u,N=1===$);if(!1!==O)return 1!==O&&-1!==O||(N=1===O),$e=!0,setTimeout(He,30),L(),N&&!M?h.appendChild(J):p.parentNode.insertBefore(J,N?M:p),I&&V(I,0,P-I.scrollTop),Z=J.parentNode,void 0===T||ke||(ge=Math.abs(T-U(p)[j])),R(),F(!0)}}else{if(C===J)return F(!1);if(C&&h===u.target&&(p=C),p&&(d=U(p)),!1!==Re(te,h,J,n,p,d,u,!!p))return L(),h.appendChild(J),Z=h,R(),F(!0)}if(h.contains(J))return F(!1)}return!1}function A(e,t){K(e,x,z({evt:u,isOwner:y,axis:f?"vertical":"horizontal",revert:i,dragRect:n,targetRect:d,canSort:b,fromSortable:w,target:p,completed:F,onMove:function(e,t){return Re(te,h,J,n,e,U(e),u,t)},changed:R},t))}function L(){A("dragOverAnimationCapture"),x.captureAnimationState(),x!==w&&w.captureAnimationState()}function F(e){return A("dragOverCompleted",{insertion:e}),e&&(y?v._hideClone():v._showClone(x),x!==w&&(W(J,ae?ae.options.ghostClass:v.options.ghostClass,!1),W(J,m.ghostClass,!0)),ae!==x&&x!==Fe.active?ae=x:x===Fe.active&&ae&&(ae=null),w===x&&(x._ignoreWhileAnimating=p),x.animateAll(function(){A("dragOverAnimationComplete"),x._ignoreWhileAnimating=null}),x!==w&&(w.animateAll(),w._ignoreWhileAnimating=null)),(p===J&&!J.animated||p===h&&!p.animated)&&(pe=null),m.dragoverBubble||u.rootEl||p===document||(J.parentNode[X]._isOutsideThisEl(u.target),e||Oe(u)),!m.dragoverBubble&&u.stopPropagation&&u.stopPropagation(),k=!0}function R(){ie=Y(J),re=Y(J,m.draggable),G({sortable:x,name:"change",toEl:h,newIndex:ie,newDraggableIndex:re,originalEvent:u})}},_ignoreWhileAnimating:null,_offMoveEvents:function(){h(document,"mousemove",this._onTouchMove),h(document,"touchmove",this._onTouchMove),h(document,"pointermove",this._onTouchMove),h(document,"dragover",Oe),h(document,"mousemove",Oe),h(document,"touchmove",Oe)},_offUpEvents:function(){var e=this.el.ownerDocument;h(e,"mouseup",this._onDrop),h(e,"touchend",this._onDrop),h(e,"pointerup",this._onDrop),h(e,"touchcancel",this._onDrop),h(document,"selectstart",this)},_onDrop:function(e){var t=this.el,n=this.options;ie=Y(J),re=Y(J,n.draggable),K("drop",this,{evt:e}),Z=J&&J.parentNode,ie=Y(J),re=Y(J,n.draggable),Fe.eventCanceled||(xe=ke=ye=!1,clearInterval(this._loopId),clearTimeout(this._dragStartTimer),Be(this.cloneId),Be(this._dragStartId),this.nativeDraggable&&(h(document,"drop",this),h(t,"dragstart",this._onDragStart)),this._offMoveEvents(),this._offUpEvents(),u&&B(document.body,"user-select",""),B(J,"transform",""),e&&(he&&(e.cancelable&&e.preventDefault(),n.dropBubble||e.stopPropagation()),ee&&ee.parentNode&&ee.parentNode.removeChild(ee),(te===Z||ae&&"clone"!==ae.lastPutMode)&&A&&A.parentNode&&A.parentNode.removeChild(A),J&&(this.nativeDraggable&&h(J,"dragend",this),ze(J),J.style["will-change"]="",he&&!ye&&W(J,ae?ae.options.ghostClass:this.options.ghostClass,!1),W(J,this.options.chosenClass,!1),G({sortable:this,name:"unchoose",toEl:Z,newIndex:null,newDraggableIndex:null,originalEvent:e}),te!==Z?(0<=ie&&(G({rootEl:Z,name:"add",toEl:Z,fromEl:te,originalEvent:e}),G({sortable:this,name:"remove",toEl:Z,originalEvent:e}),G({rootEl:Z,name:"sort",toEl:Z,fromEl:te,originalEvent:e}),G({sortable:this,name:"sort",toEl:Z,originalEvent:e})),ae&&ae.save()):ie!==F&&0<=ie&&(G({sortable:this,name:"update",toEl:Z,originalEvent:e}),G({sortable:this,name:"sort",toEl:Z,originalEvent:e})),Fe.active&&(null!=ie&&-1!==ie||(ie=F,re=R),G({sortable:this,name:"end",toEl:Z,originalEvent:e}),this.save())))),this._nulling()},_nulling:function(){K("nulling",this),te=J=Z=ee=ne=A=O=L=se=le=he=ie=re=F=R=pe=me=ae=oe=Fe.dragged=Fe.ghost=Fe.clone=Fe.active=null,Te.forEach(function(e){e.checked=!0}),Te.length=ce=ue=0},handleEvent:function(e){switch(e.type){case"drop":case"dragend":this._onDrop(e);break;case"dragenter":case"dragover":J&&(this._onDragOver(e),(t=e).dataTransfer&&(t.dataTransfer.dropEffect="move"),t.cancelable&&t.preventDefault());break;case"selectstart":e.preventDefault()}var t},toArray:function(){for(var e,t=[],n=this.el.children,i=0,r=n.length,o=this.options;i<r;i++)H(e=n[i],o.draggable,this.el,!1)&&t.push(e.getAttribute(o.dataIdAttr)||function(e){for(var t=e.tagName+e.className+e.src+e.href+e.textContent,n=t.length,i=0;n--;)i+=t.charCodeAt(n);return i.toString(36)}(e));return t},sort:function(e){var i={},r=this.el;this.toArray().forEach(function(e,t){var n=r.children[t];H(n,this.options.draggable,r,!1)&&(i[e]=n)},this),e.forEach(function(e){i[e]&&(r.removeChild(i[e]),r.appendChild(i[e]))})},save:function(){var e=this.options.store;e&&e.set&&e.set(this)},closest:function(e,t){return H(e,t||this.options.draggable,this.el,!1)},option:function(e,t){var n=this.options;if(void 0===t)return n[e];var i=M.modifyOption(this,e,t);n[e]=void 0!==i?i:t,"group"===e&&De(n)},destroy:function(){K("destroy",this);var e=this.el;e[X]=null,h(e,"mousedown",this._onTapStart),h(e,"touchstart",this._onTapStart),h(e,"pointerdown",this._onTapStart),this.nativeDraggable&&(h(e,"dragover",this),h(e,"dragenter",this)),Array.prototype.forEach.call(e.querySelectorAll("[draggable]"),function(e){e.removeAttribute("draggable")}),this._onDrop(),this._disableDelayedDragEvents(),we.splice(we.indexOf(this.el),1),this.el=e=null},_hideClone:function(){if(!L){if(K("hideClone",this),Fe.eventCanceled)return;B(A,"display","none"),this.options.removeCloneOnHide&&A.parentNode&&A.parentNode.removeChild(A),L=!0}},_showClone:function(e){if("clone"===e.lastPutMode){if(L){if(K("showClone",this),Fe.eventCanceled)return;J.parentNode!=te||this.options.group.revertClone?ne?te.insertBefore(A,ne):te.appendChild(A):te.insertBefore(A,J),this.options.group.revertClone&&this.animate(J,A),B(A,"display",""),L=!1}}else this._hideClone()}},Se&&f(document,"touchmove",function(e){(Fe.active||ye)&&e.cancelable&&e.preventDefault()}),Fe.utils={on:f,off:h,css:B,find:y,is:function(e,t){return!!H(e,t,e,!1)},extend:function(e,t){if(e&&t)for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n]);return e},throttle:T,closest:H,toggleClass:W,clone:S,index:Y,nextTick:We,cancelNextTick:Be,detectDirection:Pe,getChild:b},Fe.get=function(e){return e[X]},Fe.mount=function(){var e=[].slice.call(arguments);e[0].constructor===Array&&(e=e[0]),e.forEach(function(e){if(!e.prototype||!e.prototype.constructor)throw"Sortable: Mounted plugin must be a constructor function, not "+{}.toString.call(e);e.utils&&(Fe.utils=z({},Fe.utils,e.utils)),M.mount(e)})},Fe.create=function(e,t){return new Fe(e,t)};var Ue,qe,Qe,Ye,Ve,Xe=[],Ke=[],Ge=!(Fe.version="1.12.0"),Je=!1,Ze=!1;function et(i,r){Ke.forEach(function(e,t){var n=r.children[e.sortableIndex+(i?Number(t):0)];n?r.insertBefore(e,n):r.appendChild(e)})}function tt(){Xe.forEach(function(e){e!==Qe&&e.parentNode&&e.parentNode.removeChild(e)})}function nt(e){var t,n,i,r=e.originalEvent,o=e.putSortable,a=e.dragEl,s=e.dispatchSortableEvent,l=e.unhideGhostForTarget;r&&(t=o||e.activeSortable,(0,e.hideGhostForTarget)(),n=r.changedTouches&&r.changedTouches.length?r.changedTouches[0]:r,i=document.elementFromPoint(n.clientX,n.clientY),l(),t&&!t.el.contains(i)&&(s("spill"),this.onSpill({dragEl:a,putSortable:o})))}function it(){}function rt(){}it.prototype={startIndex:null,dragStart:function(e){this.startIndex=e.oldDraggableIndex},onSpill:function(e){var t=e.dragEl,n=e.putSortable;this.sortable.captureAnimationState(),n&&n.captureAnimationState();var i=b(this.sortable.el,this.startIndex,this.options);i?this.sortable.el.insertBefore(t,i):this.sortable.el.appendChild(t),this.sortable.animateAll(),n&&n.animateAll()},drop:nt},Object.assign(it,{pluginName:"revertOnSpill"}),rt.prototype={onSpill:function(e){var t=e.dragEl,n=e.putSortable||this.sortable;n.captureAnimationState(),t.parentNode&&t.parentNode.removeChild(t),n.animateAll()},drop:nt},Object.assign(rt,{pluginName:"removeOnSpill"});var ot,at,st,lt,ct,ut,dt=[],ft=!1;function ht(){dt.forEach(function(e){clearInterval(e.pid)}),dt=[]}function pt(){clearInterval(ut)}var mt=T(function(n,e,t,i){if(e.scroll){var r,o=(n.touches?n.touches[0]:n).clientX,a=(n.touches?n.touches[0]:n).clientY,s=e.scrollSensitivity,l=e.scrollSpeed,c=P(),u=!1;at!==t&&(at=t,ht(),r=e.scrollFn,!0===(ot=e.scroll)&&(ot=D(t,!0)));var d=0,f=ot;do{var h=f,p=U(h),m=p.top,g=p.bottom,v=p.left,y=p.right,b=p.width,w=p.height,x=void 0,k=void 0,C=h.scrollWidth,$=h.scrollHeight,T=B(h),S=h.scrollLeft,_=h.scrollTop,k=h===c?(x=b<C&&("auto"===T.overflowX||"scroll"===T.overflowX||"visible"===T.overflowX),w<$&&("auto"===T.overflowY||"scroll"===T.overflowY||"visible"===T.overflowY)):(x=b<C&&("auto"===T.overflowX||"scroll"===T.overflowX),w<$&&("auto"===T.overflowY||"scroll"===T.overflowY)),E=x&&(Math.abs(y-o)<=s&&S+b<C)-(Math.abs(v-o)<=s&&!!S),j=k&&(Math.abs(g-a)<=s&&_+w<$)-(Math.abs(m-a)<=s&&!!_);if(!dt[d])for(var I=0;I<=d;I++)dt[I]||(dt[I]={});dt[d].vx==E&&dt[d].vy==j&&dt[d].el===h||(dt[d].el=h,dt[d].vx=E,dt[d].vy=j,clearInterval(dt[d].pid),0==E&&0==j||(u=!0,dt[d].pid=setInterval(function(){i&&0===this.layer&&Fe.active._onTouchMove(ct);var e=dt[this.layer].vy?dt[this.layer].vy*l:0,t=dt[this.layer].vx?dt[this.layer].vx*l:0;"function"==typeof r&&"continue"!==r.call(Fe.dragged.parentNode[X],t,e,n,ct,dt[this.layer].el)||V(dt[this.layer].el,t,e)}.bind({layer:d}),24))),d++}while(e.bubbleScroll&&f!==c&&(f=D(f,!1)));ft=u}},30);Fe.mount(new function(){function e(){for(var e in this.defaults={scroll:!0,scrollSensitivity:30,scrollSpeed:10,bubbleScroll:!0},this)"_"===e.charAt(0)&&"function"==typeof this[e]&&(this[e]=this[e].bind(this))}return e.prototype={dragStarted:function(e){var t=e.originalEvent;this.sortable.nativeDraggable?f(document,"dragover",this._handleAutoScroll):f(document,this.options.supportPointer?"pointermove":t.touches?"touchmove":"mousemove",this._handleFallbackAutoScroll)},dragOverCompleted:function(e){var t=e.originalEvent;this.options.dragOverBubble||t.rootEl||this._handleAutoScroll(t)},drop:function(){this.sortable.nativeDraggable?h(document,"dragover",this._handleAutoScroll):(h(document,"pointermove",this._handleFallbackAutoScroll),h(document,"touchmove",this._handleFallbackAutoScroll),h(document,"mousemove",this._handleFallbackAutoScroll)),pt(),ht(),clearTimeout(m),m=void 0},nulling:function(){ct=at=ot=ft=ut=st=lt=null,dt.length=0},_handleFallbackAutoScroll:function(e){this._handleAutoScroll(e,!0)},_handleAutoScroll:function(t,n){var i=this,r=(t.touches?t.touches[0]:t).clientX,o=(t.touches?t.touches[0]:t).clientY,e=document.elementFromPoint(r,o);if(ct=t,n||x||w||u){mt(t,this.options,e,n);var a=D(e,!0);!ft||ut&&r===st&&o===lt||(ut&&pt(),ut=setInterval(function(){var e=D(document.elementFromPoint(r,o),!0);e!==a&&(a=e,ht()),mt(t,i.options,e,n)},10),st=r,lt=o)}else{if(!this.options.bubbleScroll||D(e,!0)===P())return void ht();mt(t,this.options,D(e,!1),!1)}}},Object.assign(e,{pluginName:"scroll",initializeByDefault:!0})}),Fe.mount(rt,it),Fe.mount(new function(){function e(){this.defaults={swapClass:"sortable-swap-highlight"}}return e.prototype={dragStart:function(e){Le=e.dragEl},dragOverValid:function(e){var t,n,i=e.completed,r=e.target,o=e.changed,a=e.cancel;e.activeSortable.options.swap&&(t=this.options,r&&r!==this.sortable.el&&(n=Le,Le=!1!==(0,e.onMove)(r)?(W(r,t.swapClass,!0),r):null,n&&n!==Le&&W(n,t.swapClass,!1)),o(),i(!0),a())},drop:function(e){var t,n,i,r,o,a,s=e.activeSortable,l=e.putSortable,c=e.dragEl,u=l||this.sortable,d=this.options;Le&&W(Le,d.swapClass,!1),Le&&(d.swap||l&&l.options.swap)&&c!==Le&&(u.captureAnimationState(),u!==s&&s.captureAnimationState(),a=(n=Le).parentNode,(o=(t=c).parentNode)&&a&&!o.isEqualNode(n)&&!a.isEqualNode(t)&&(i=Y(t),r=Y(n),o.isEqualNode(a)&&i<r&&r++,o.insertBefore(n,o.children[i]),a.insertBefore(t,a.children[r])),u.animateAll(),u!==s&&s.animateAll())},nulling:function(){Le=null}},Object.assign(e,{pluginName:"swap",eventProperties:function(){return{swapItem:Le}}})}),Fe.mount(new function(){function e(i){for(var e in this)"_"===e.charAt(0)&&"function"==typeof this[e]&&(this[e]=this[e].bind(this));i.options.supportPointer?f(document,"pointerup",this._deselectMultiDrag):(f(document,"mouseup",this._deselectMultiDrag),f(document,"touchend",this._deselectMultiDrag)),f(document,"keydown",this._checkKeyDown),f(document,"keyup",this._checkKeyUp),this.defaults={selectedClass:"sortable-selected",multiDragKey:null,setData:function(e,t){var n="";Xe.length&&qe===i?Xe.forEach(function(e,t){n+=(t?", ":"")+e.textContent}):n=t.textContent,e.setData("Text",n)}}}return e.prototype={multiDragKeyDown:!1,isMultiDrag:!1,delayStartGlobal:function(e){Qe=e.dragEl},delayEnded:function(){this.isMultiDrag=~Xe.indexOf(Qe)},setupClone:function(e){var t=e.sortable,n=e.cancel;if(this.isMultiDrag){for(var i=0;i<Xe.length;i++)Ke.push(S(Xe[i])),Ke[i].sortableIndex=Xe[i].sortableIndex,Ke[i].draggable=!1,Ke[i].style["will-change"]="",W(Ke[i],this.options.selectedClass,!1),Xe[i]===Qe&&W(Ke[i],this.options.chosenClass,!1);t._hideClone(),n()}},clone:function(e){var t=e.dispatchSortableEvent,n=e.cancel;this.isMultiDrag&&(this.options.removeCloneOnHide||Xe.length&&qe===e.sortable&&(et(!0,e.rootEl),t("clone"),n()))},showClone:function(e){var t=e.cloneNowShown,n=e.cancel;this.isMultiDrag&&(et(!1,e.rootEl),Ke.forEach(function(e){B(e,"display","")}),t(),Ve=!1,n())},hideClone:function(e){var t=this,n=e.cloneNowHidden,i=e.cancel;this.isMultiDrag&&(Ke.forEach(function(e){B(e,"display","none"),t.options.removeCloneOnHide&&e.parentNode&&e.parentNode.removeChild(e)}),n(),Ve=!0,i())},dragStartGlobal:function(e){!this.isMultiDrag&&qe&&qe.multiDrag._deselectMultiDrag(),Xe.forEach(function(e){e.sortableIndex=Y(e)}),Xe=Xe.sort(function(e,t){return e.sortableIndex-t.sortableIndex}),Ze=!0},dragStarted:function(e){var t,n=this,i=e.sortable;this.isMultiDrag&&(this.options.sort&&(i.captureAnimationState(),this.options.animation)&&(Xe.forEach(function(e){e!==Qe&&B(e,"position","absolute")}),t=U(Qe,!1,!0,!0),Xe.forEach(function(e){e!==Qe&&_(e,t)}),Ge=Je=!0),i.animateAll(function(){Ge=Je=!1,n.options.animation&&Xe.forEach(function(e){E(e)}),n.options.sort&&tt()}))},dragOver:function(e){var t=e.completed,n=e.cancel;Je&&~Xe.indexOf(e.target)&&(t(!1),n())},revert:function(e){var i,r,t=e.fromSortable,n=e.rootEl,o=e.sortable,a=e.dragRect;1<Xe.length&&(Xe.forEach(function(e){o.addAnimationState({target:e,rect:Je?U(e):a}),E(e),e.fromRect=a,t.removeAnimationState(e)}),Je=!1,i=!this.options.removeCloneOnHide,r=n,Xe.forEach(function(e,t){var n=r.children[e.sortableIndex+(i?Number(t):0)];n?r.insertBefore(e,n):r.appendChild(e)}))},dragOverCompleted:function(e){var t,n,i=e.sortable,r=e.isOwner,o=e.activeSortable,a=e.parentEl,s=e.putSortable,l=this.options;e.insertion&&(r&&o._hideClone(),Ge=!1,l.animation&&1<Xe.length&&(Je||!r&&!o.options.sort&&!s)&&(t=U(Qe,!1,!0,!0),Xe.forEach(function(e){e!==Qe&&(_(e,t),a.appendChild(e))}),Je=!0),r||(Je||tt(),1<Xe.length?(n=Ve,o._showClone(i),o.options.animation&&!Ve&&n&&Ke.forEach(function(e){o.addAnimationState({target:e,rect:Ye}),e.fromRect=Ye,e.thisAnimationDuration=null})):o._showClone(i)))},dragOverAnimationCapture:function(e){var t,n=e.dragRect,i=e.isOwner,r=e.activeSortable;Xe.forEach(function(e){e.thisAnimationDuration=null}),r.options.animation&&!i&&r.multiDrag.isMultiDrag&&(Ye=Object.assign({},n),t=v(Qe,!0),Ye.top-=t.f,Ye.left-=t.e)},dragOverAnimationComplete:function(){Je&&(Je=!1,tt())},drop:function(e){var t=e.originalEvent,n=e.rootEl,i=e.parentEl,r=e.sortable,o=e.dispatchSortableEvent,a=e.oldIndex,s=e.putSortable,l=s||this.sortable;if(t){var c,u,d,f=this.options,h=i.children;if(!Ze)if(f.multiDragKey&&!this.multiDragKeyDown&&this._deselectMultiDrag(),W(Qe,f.selectedClass,!~Xe.indexOf(Qe)),~Xe.indexOf(Qe))Xe.splice(Xe.indexOf(Qe),1),Ue=null,N({sortable:r,rootEl:n,name:"deselect",targetEl:Qe,originalEvt:t});else{if(Xe.push(Qe),N({sortable:r,rootEl:n,name:"select",targetEl:Qe,originalEvt:t}),t.shiftKey&&Ue&&r.el.contains(Ue)){var p,m,g=Y(Ue),v=Y(Qe);if(~g&&~v&&g!==v)for(p=g<v?(m=g,v):(m=v,g+1);m<p;m++)~Xe.indexOf(h[m])||(W(h[m],f.selectedClass,!0),Xe.push(h[m]),N({sortable:r,rootEl:n,name:"select",targetEl:h[m],originalEvt:t}))}else Ue=Qe;qe=l}Ze&&this.isMultiDrag&&((i[X].options.sort||i!==n)&&1<Xe.length&&(c=U(Qe),u=Y(Qe,":not(."+this.options.selectedClass+")"),!Ge&&f.animation&&(Qe.thisAnimationDuration=null),l.captureAnimationState(),Ge||(f.animation&&(Qe.fromRect=c,Xe.forEach(function(e){var t;e.thisAnimationDuration=null,e!==Qe&&(t=Je?U(e):c,e.fromRect=t,l.addAnimationState({target:e,rect:t}))})),tt(),Xe.forEach(function(e){h[u]?i.insertBefore(e,h[u]):i.appendChild(e),u++}),a!==Y(Qe))||(d=!1,Xe.forEach(function(e){e.sortableIndex===Y(e)||(d=!0)}),d&&o("update")),Xe.forEach(function(e){E(e)}),l.animateAll()),qe=l),(n===i||s&&"clone"!==s.lastPutMode)&&Ke.forEach(function(e){e.parentNode&&e.parentNode.removeChild(e)})}},nullingGlobal:function(){this.isMultiDrag=Ze=!1,Ke.length=0},destroyGlobal:function(){this._deselectMultiDrag(),h(document,"pointerup",this._deselectMultiDrag),h(document,"mouseup",this._deselectMultiDrag),h(document,"touchend",this._deselectMultiDrag),h(document,"keydown",this._checkKeyDown),h(document,"keyup",this._checkKeyUp)},_deselectMultiDrag:function(e){if(!(void 0!==Ze&&Ze||qe!==this.sortable||e&&H(e.target,this.options.draggable,this.sortable.el,!1)||e&&0!==e.button))for(;Xe.length;){var t=Xe[0];W(t,this.options.selectedClass,!1),Xe.shift(),N({sortable:this.sortable,rootEl:this.sortable.el,name:"deselect",targetEl:t,originalEvt:e})}},_checkKeyDown:function(e){e.key===this.options.multiDragKey&&(this.multiDragKeyDown=!0)},_checkKeyUp:function(e){e.key===this.options.multiDragKey&&(this.multiDragKeyDown=!1)}},Object.assign(e,{pluginName:"multiDrag",utils:{select:function(e){var t=e.parentNode[X];t&&t.options.multiDrag&&!~Xe.indexOf(e)&&(qe&&qe!==t&&(qe.multiDrag._deselectMultiDrag(),qe=t),W(e,t.options.selectedClass,!0),Xe.push(e))},deselect:function(e){var t=e.parentNode[X],n=Xe.indexOf(e);t&&t.options.multiDrag&&~n&&(W(e,t.options.selectedClass,!1),Xe.splice(n,1))}},eventProperties:function(){var n=this,i=[],r=[];return Xe.forEach(function(e){var t;i.push({multiDragElement:e,index:e.sortableIndex}),t=Je&&e!==Qe?-1:Je?Y(e,":not(."+n.options.selectedClass+")"):Y(e),r.push({multiDragElement:e,index:t})}),{items:[].concat(Xe),clones:[].concat(Ke),oldIndicies:i,newIndicies:r}},optionListeners:{multiDragKey:function(e){return"ctrl"===(e=e.toLowerCase())?e="Control":1<e.length&&(e=e.charAt(0).toUpperCase()+e.substr(1)),e}}})});function gt(e){return['<div class="person-summary -username">','<span class="avatar -a40">','<img src="'.concat(e.avatar,'" alt="').concat(e.name,'" width="40" height="40">'),"</span>",'<h3 class="title-3">','<span class="name">'.concat(e.name,"</span>"),"".concat((t=e.badge,n="-small",(i=wt[t])?'<span class="badge '.concat(i.cssClass," ").concat(n,'">').concat(i.label,"</span>"):"")),"</h3>",'<small class="metadata">','<span class="username">@'.concat(e.username,"</span>"),"</small>","</div>"].join("\n");var t,n,i}var vt=Fe,yt=n(4),bt=n(21),wt={MEMORIAM:{cssClass:"-memoriam",label:"Memoriam"},STAFF:{cssClass:"",label:"Crew"},ALUM:{cssClass:"",label:"Alum"},HQ:{cssClass:"-hq",label:"HQ"},PATRON:{cssClass:"-patron",label:"Patron"},PRO:{cssClass:"-pro",label:"Pro"}},xt="team-member-manager",kt={CHANGE:"change",DISABLE:"disable",ENABLE:"enable"},Ct={DISABLED:"-disabled",EXPANDED:"-expanded",SPINNER_ACTIVE:"-show",TEAM_MEMBER_HIGHLIGHT:"-highlight",TEAM_MEMBER_HIGHLIGHT_TRANSITION_OUT:"-highlight-transition-out-active",MEMBERLIST_OVERFLOW:"-overflow"},$t={PERSON_ID:"person-id"},Tt={SUGGESTION:"suggestion",SORTABLE:"sortable"},St=function(e,t){return['<div class="team-member js-team-member" data-person-id="'.concat(e.id,'">'),"".concat((n=e,(i=t)===Tt.SUGGESTION?["".concat(gt(n))].join("\n"):i===Tt.SORTABLE?['<div class="handle js-handle">','<svg class="glyph" width="15" height="14" viewBox="0 0 15 14" xmlns="http://www.w3.org/2000/svg"><path d="M0 0h15v2H0V0zm0 6h15v2H0V6zm0 6h15v2H0v-2z" fill="#000" fill-rule="evenodd"/></svg>',"</div>","".concat(gt(n)),'<input type="hidden" name="teamMemberPersonIds" value="'.concat(n.id,'"/>'),'<div class="actions">','<div class="action -remove">','<button type="button" data-js-trigger="remove">','<span class="label _sr-only">Remove</span>','<svg class="glyph" width="15" height="15" viewBox="0 0 15 15" xmlns="http://www.w3.org/2000/svg"><path fill="#000" d="M14.213 1.485L12.8.071 7.142 5.728 1.485.07.071 1.485l5.657 5.657L.07 12.8l1.414 1.414 5.657-5.657 5.657 5.657 1.414-1.414-5.657-5.657z" fill-rule="evenodd"/></svg>',"</button>","</div>","</div>"].join("\n"):void 0)),"</div>"].join("\n");var n,i},_t=n(19),Et=window.jQuery,jt=xt,It=kt;function Pt(e,t){_t.call(this),this.$el=e,this.options=r()({},this._DEFAULTS,t,Object(yt.a)(this.$el,jt)),this.$search=this.$el.find(".js-search"),this.$seachInput=this.$el.find(this.options.searchInputSelector),this.$spinner=this.$el.find("[data-js-spinner]"),this.$membersScroller=this.$el.find(".js-members-scrollable"),this.$memberList=this.$el.find("[data-js-sortable]"),this.$emptyMemberListFallback=this.$el.find(".js-empty-member-list-fallback"),this.$inputResetTrigger=this.$el.find('[data-js-trigger="reset"]'),this._populateMemberList(this.options.memberListData),this.memberListSortableInstance=new vt(this.$memberList[0],{dataIdAttr:"data-".concat($t.PERSON_ID),handle:".js-handle",direction:"vertical",ghostClass:"-ghost",chosenClass:"-chosen",dragClass:"-drag",onSort:this.updateMemberList.bind(this)}),this.updateMemberList(),this._onRemoveTeamMember=this._onRemoveTeamMember.bind(this),this.$memberList.on("click",'[data-js-trigger="remove"]',this._onRemoveTeamMember),this._onTypeaheadAutocomplete=this._onTypeaheadAutocomplete.bind(this),this._onTypeaheadAsync=this._onTypeaheadAsync.bind(this),this._onKeyDownEnterPreventParentFormSubmission=this._onKeyDownEnterPreventParentFormSubmission.bind(this),this.$seachInput.on("typeahead:autocomplete typeahead:select",this._onTypeaheadAutocomplete).on("typeahead:asyncrequest typeahead:asynccancel typeahead:asyncreceive",this._onTypeaheadAsync).on("keydown",this._onKeyDownEnterPreventParentFormSubmission).one("focus",this._onInitialFocus.bind(this)),this._initTypeahead(),this._onTypeaheadQueryChanged=this._onTypeaheadQueryChanged.bind(this),this.typeaheadInstance.input.onSync("queryChanged",this._onTypeaheadQueryChanged).onSync("whitespaceChanged",this._onTypeaheadQueryChanged),this._onTypeaheadQueryChanged(null,this.typeaheadInstance.input.getQuery()),this._onClickInputResetTrigger=this._resetInputValue.bind(this),this.$inputResetTrigger.on("click",this._onClickInputResetTrigger),this.$spinner.lbSpinner({size:12})}var Dt=Pt.prototype=Object.create(r()({},_t.prototype),{constructor:{value:Pt}});Dt._DEFAULTS={searchInputSelector:"#member-search",memberListData:[],endpoint:"foo?q=",queryWildcard:"%QUERY"},Dt._populateMemberList=function(e){var t=e.map(function(e){return St(e,Tt.SORTABLE)});this.$memberList.append(t)},Dt._initTypeahead=function(){var i=this;this.$seachInput.attr("autocomplete","off").typeahead({highlight:!1,hint:!1,autoselect:!1,persistQuery:!0,preventClose:!0,disableSuggestionOnSelect:!0,disableOnDirectionKeyAutoCompletion:!0,minLength:1,classNames:{menu:"dropdown",cursor:"-cursor",disabled:"-disabled"}},{name:"members",display:"id",limit:Number.MAX_SAFE_INTEGER,source:new Bloodhound({remote:{url:"".concat(this.options.endpoint,"?q=").concat(this.options.queryWildcard),wildcard:this.options.queryWildcard,transform:function(e){return e.data?e.data.filter(function(e,t,n){return!i.isTeamMemberById(e.id)}):[]}},datumTokenizer:function(e){var t=Bloodhound.tokenizers.whitespace(e.name),n=e.username.split("_");return 1<n.length&&n.splice(0,0,e.username),t.concat(n)},queryTokenizer:Bloodhound.tokenizers.whitespace}),templates:{suggestion:function(e){return St(e,Tt.SUGGESTION)},notFound:function(e){return'<div class="notfound">We couldn’t find any members matching <em class="query">'.concat(e.query,"</em>.</div>")}}}),this.typeaheadInstance=this.$seachInput.data("ttTypeahead")},Dt._onTypeaheadAutocomplete=function(e,t,n){this.addMember(t)},Dt._onKeyDownEnterPreventParentFormSubmission=function(e){if(13===(e.which||e.keyCode))return!1},Dt._onInitialFocus=function(e){var t=this;this.$el.one(bt.a,function(e){e.originalEvent.target===t.$el.find("> .js-frame")[0]&&"padding-top"===e.originalEvent.propertyName&&t.updateMemberList()}),this.$el.addClass(Ct.EXPANDED)},Dt.getSortedMembers=function(){return this.memberListSortableInstance.toArray().map(function(e){return Number(e)})},Dt.isTeamMemberById=function(e){return-1<this.getSortedMembers().indexOf(e)},Dt._onRemoveTeamMember=function(e){e.preventDefault();var t=Et(e.target).closest(".js-team-member"),n=this._getPersonIdFromElement(t),i=this.typeaheadInstance.menu._getSelectables().filter("[data-".concat($t.PERSON_ID,'="').concat(n,'"]'));this.typeaheadInstance.menu.enableSelectable(i),t.remove(),this.updateMemberList()},Dt.addMember=function(e){var t;this.isTeamMemberById(e.id)||((t=Et(St(e,Tt.SORTABLE))).appendTo(this.$memberList),this._highlightNewMember(t),this.updateMemberList())},Dt._scrollMemberIntoView=function(s){var l=this;return new Promise(function(e){var t,n,i,r=l.$membersScroller[0].scrollHeight-l.$membersScroller.height(),o=Math.min(s[0].offsetTop-l.$membersScroller[0].offsetTop,r),a=Math.abs(l.$membersScroller[0].scrollTop-o);l.$membersScroller.animate({scrollTop:o},{duration:(t=500,n=a,i=l.$membersScroller.height(),n<i?n/i*t:t),easing:"easeOutExpo",always:function(){e()}})})},Dt._highlightNewMember=function(t){function e(e){e.originalEvent.target===t[0]&&"backgroundColor"===e.originalEvent.propertyName&&n(e)}var n,i,r=new Promise(function(e){n=e});t.addClass("".concat(Ct.TEAM_MEMBER_HIGHLIGHT," ").concat(Ct.TEAM_MEMBER_HIGHLIGHT_TRANSITION_OUT)).on(bt.a,e),t[0].offsetWidth,i=setTimeout(n,2050),this._scrollMemberIntoView(t).then(function(){t.removeClass(Ct.TEAM_MEMBER_HIGHLIGHT)}),r.then(function(){i&&clearTimeout(i),t.off(bt.a,e).removeClass(Ct.TEAM_MEMBER_HIGHLIGHT_TRANSITION_OUT)})},Dt.updateMemberList=function(e){var t=this.getSortedMembers(),n=Boolean(t.length);this.$memberList.attr("hidden",n?null:""),this.$emptyMemberListFallback.attr("hidden",n?"":null);var i=this.$membersScroller[0].scrollHeight>this.$memberList.height();this.$membersScroller.toggleClass("-has-no".concat(Ct.MEMBERLIST_OVERFLOW),!i),this.emit(It.CHANGE,t)},Dt._getPersonIdFromElement=function(e){return e[0].getAttribute("data-".concat($t.PERSON_ID))},Dt._toggleRequestIndicator=function(e){this.$spinner.toggleClass(Ct.SPINNER_ACTIVE,e)},Dt._onTypeaheadAsync=function(e,t,n){switch(e.type){case"typeahead:asyncrequest":this._toggleRequestIndicator(!0);break;case"typeahead:asynccancel":case"typeahead:asyncreceive":default:this._toggleRequestIndicator(!1)}},Dt._resetInputValue=function(e){var t=1<arguments.length&&void 0!==arguments[1]?arguments[1]:"";e&&e.preventDefault&&e.preventDefault(),this.$seachInput.typeahead("val",t).focus()},Dt._toggleResetInputTrigger=function(e){this.$inputResetTrigger.prop("disabled",!e)},Dt._onTypeaheadQueryChanged=function(e,t){this._toggleResetInputTrigger(""!==t)},$(function(){var o,n,e,t,i,s,r,a,l,c,u;$(".js-update-screen").length&&($("body").hasClass("in-app")||(bxd.initUsernameChecker(),$("#user-update").on("ajax-success",function(e,t,n,i){t.result&&t.usernameChanged&&window.location.reload(!0)})),o=$("#user-update"),n=$("#frm-password"),(e=o.find(".js-".concat(jt))).length&&(t=new Pt(e,{}),e.data(jt,t),o.protectUnsavedChanges({reset:!0})),o.on("submit",function(e){var t=$("#frm-email-address");""===n.val()&&t.val()!==t.data("original-value")&&(e.stopImmediatePropagation(),e.preventDefault(),$("#open-enter-password-modal").trigger("click"))}).on("ajax-success",function(e,t,n,i){var r;t.result&&((r=$("#frm-email-address")).data("original-value",r.val()),t.facebookPage&&$("input[name='facebookPage']").val(t.facebookPage),t.instagramPage&&$("input[name='instagramPage']").val(t.instagramPage),t.imdbPage&&$("input[name='imdbPage']").val(t.imdbPage),t.youtubePage&&$("input[name='youtubePage']").val(t.youtubePage)),o.find(".form-row.-error").removeClass("-error"),t.errorFields&&t.errorFields.forEach(function(e){o.find('input[name="'.concat(e,'"],textarea[name="').concat(e,'"]')).one("keypress",function(e){$(this).closest(".form-row").removeClass("-error")}).closest(".form-row").addClass("-error")})}).on("ajax-complete",function(e){n.val(""),o.protectUnsavedChanges({reset:!0})}),$("#enter-password-form").on("submit",function(e){e.preventDefault(),$("#open-enter-password-modal").colorbox.close(),n.val($("#frm-reg-password").val()),o.trigger("submit")}),i={inline:!0,fixed:!0,overlayClose:!1,href:"#enter-password-modal",onComplete:function(){$("#frm-reg-password").focus()}},renderMobile&&(i.width="100%",i.initialWidth="288px",i.initialHeight="200px",i.transition="fade",i.speed=0),$("#open-enter-password-modal").colorbox(i),$("#connections li.external-service").bind("refresh",function(e){$(this).load(baseURL+"/user/ajax/connections-"+$(this).data("type")+"/",function(){$(this).trigger("reloaded")}),bxd.dismissMessages()}),$(document).on("click","#connections .remove",function(e){e.preventDefault();var r=$(this);r.hasClass("ajax-working")||bxd.dismissMessages(function(){var e,t,n,i=r.data("confirm");void 0!==i&&!window.confirm(i.replace(/\\n/g,"\n"))||(r.addClass("ajax-working"),e=r.parents("li"),t=r,n=new d.a({lines:10,length:4,width:2,radius:3,color:"#fff",speed:1,shadow:!1}),$.ajax({url:r.data("action"),type:"POST",beforeSend:function(){n.spin(t[0])},success:function(){r.removeClass("ajax-working"),n.stop(),e.trigger("refresh"),$("#connections ."+r.data("detail-container")).trigger("refresh")},error:function(){r.removeClass("ajax-working"),n.stop(),bxd.showMessages("error",["Failed to unlink your account."])}}))})}),$(".js-toggle-list input[type=checkbox]").each(function(){var t=$(this);t.data("ajax-data",function(){var e={};return e[t.attr("name")]=t.is(":checked"),e}),t.bind("ajax-success",function(e,t,n,i){for(var r in t.messages&&bxd.showMessages(t.result?"success":"error",t.messages),t){var o=$(".js-toggle-list input[type=checkbox][name="+r+"]");o.length&&o.prop("checked",t[r])}}),t.bind("ajax-error",function(e,t){bxd.showMessages("error",t)})}).change(function(){$(this).trigger("ajax-action")}),s=$(".js-favorite-services-list"),r=$(".js-favorite-services-panel"),a=$(".js-no-favorite-services"),r.hasClass("-empty")||a.hide(),$("#stores").bind("ajax-success",function(e,t,n,i){t.messages&&bxd.showMessages(t.result?"success":"error",t.messages),$("#frm-primary-itunes-store").val(t.primaryItunesStore),$("#frm-secondary-itunes-store").val(t.secondaryItunesStore),$("#frm-primary-amazon-store").val(t.primaryAmazonStore),$("#frm-secondary-amazon-store").val(t.secondaryAmazonStore)}).bind("ajax-error",function(e,t){bxd.showMessages("error",t)}).data("ajax-data",function(){var e={serviceIds:[]};$("#stores").find("select").each(function(){e.serviceIds.push($(this).val())});var t=s.children(".service");return t.length?(t.each(function(){e.serviceIds.push($(this).data("id"))}),r.removeClass("-empty"),a.hide()):(r.addClass("-empty"),a.show()),e}).on("change","select",function(){$("#stores").trigger("ajax-action")}).on("click",".js-service-brand",function(e){e.preventDefault();var t,n,i,r,o=$(this),a=o.data("id");o.hasClass("-selected")?(r=a,$("#stores .js-service-brand[data-id="+r+"]").removeClass("-selected"),s.children(".service[data-id="+r+"]").remove(),$("#stores").trigger("ajax-action")):(o.addClass("-selected"),t=o.data("name"),n='<p class="service" data-id="'+a+'">',n+='<span class="label"><span class="brand"><img src="'+o.data("icon")+'" width="24" height="24" title="'+t+'" alt="'+t+'" class="js-squircle-mask" /></span>',n+='<span class="title">'+t+" ("+o.data("shortname")+')</span></span><a href class="remove js-remove-favorite-service">(Remove)</a></p>',i=$(n),s.append(i),bxd.layout(i)),$("#stores").trigger("ajax-action")}),s.on("click",".service",function(e){e.preventDefault();var t=$(this).data("id");$(e.target).hasClass("js-remove-favorite-service")&&($("#stores .js-service-brand[data-id="+t+"]").removeClass("-selected"),s.children(".service[data-id="+t+"]").remove(),$("#stores").trigger("ajax-action"))}),$(".js-favorite-services-locale").length&&function(){var o=$(".js-favorite-services-locale"),n=$(".js-locale-menu"),a=n.find(".js-locale-link"),e=n.find(".js-close-localemenu"),s=o.data("locale"),i=!1,r=$(".js-brands-by-locale");function l(){o.removeClass("-open"),r&&r.removeClass("-localeopen"),n.hide(),i=!1,$(window).off("click.localemenu")}r&&r.append(n),o.bind("click",function(e){var t;e.preventDefault(),i?l():(t=o.position().top+o.height()+0,o.addClass("-open"),r&&r.addClass("-localeopen"),n.css({top:t}).show(),i=!0,$(window).on("click.localemenu",function(e){var t=$(e.target).is(".locale-menu *, .locale-menu"),n=$(e.target).is(".locale-selector *, .locale-selector");t||n||l()}))}),e.bind("click",function(e){e.preventDefault(),i&&l()}),a.on("click",function(e){e.preventDefault();var t=$(this),n=t.data("locale"),i=t.find("img").attr("src"),r=t.data("name");l(),n!==s&&(o.find(".js-locale-title").text(r),o.find(".js-flag").attr("src",i),a.parent().removeClass("-selected"),t.parent().addClass("-selected"),$.cookie("availabilityLocale",n,{expires:365,path:"/"}),s=n,$(".js-brands-list").removeClass("-selected").filter("[data-locale="+n+"]").addClass("-selected"))});var t,c=$.cookie("availabilityLocale");!c||c===s||(t=a.filter("[data-locale="+c+"]"))&&t.trigger("click")}(),l={href:$("a.change-password-link").attr("href")+"#modal",fixed:!0,overlayClose:!1,onComplete:function(){bxd.layout($("#modal")),$("a.change-password-link").colorbox.resize(),$(".change-password-button").data("ajax-data",function(){return $("#change-password-form").serialize()}).bind("ajax-success",function(e,t,n,i){t.messages&&bxd.showMessages(t.result?"success":"error",t.messages),t.result&&$("a.change-password-link").colorbox.close()})}},renderMobile&&(l.width="100%",l.initialWidth="288px",l.initialHeight="200px",l.transition="fade",l.speed=0),$("a.change-password-link").colorbox(l),c={href:$("a.export-data-link").attr("href")+"#modal",overlayClose:!1,fixed:!0,onComplete:function(){$(".export-data-button").on("click",function(e){e.preventDefault();var t=$(this).attr("href");$("a.export-data-link").colorbox.close(),bxd.showMessages("success","Your export is being prepared. Please leave this window open, your download will begin shortly…"),setTimeout(function(){location.href=t},300)})}},renderMobile&&(c.width="100%",c.initialWidth="288px",c.initialHeight="200px",c.transition="fade",c.speed=0),$("a.export-data-link").colorbox(c),u={href:$(".disable-account-link").data("action-url")+"#modal",fixed:!0,overlayClose:!1,width:"660px",onComplete:function(){bxd.layout($("#modal")),$(".disable-account-link").colorbox.resize(),$(".disable-account-button").data("ajax-data",function(){return $("#disable-account-form").serialize()}).bind("ajax-success",function(e,t,n,i){t.messages&&bxd.showMessages(t.result?"success":"error",t.messages),t.result&&($(this).closest("article").html('<section class="registration-complete body-text -hero"><p>Disabling your account… please wait.</p></section>'),$(".disable-account-link").colorbox.resize(),setTimeout(function(){location.href=baseURL+"/farewell"},2e3))})}},renderMobile&&(u.width="100%",u.initialWidth="288px",u.initialHeight="200px",u.transition="fade",u.speed=0),$(".disable-account-link").colorbox(u),$("#check .username-edit, #check .username-locked").on("click",function(e){e.preventDefault(),$(".frm-reg-username").trigger("click")}),$(".frm-reg-username").on("click",function(e){var t,n=$(this);n.is(":disabled")&&(n.data("can-enable")&&$("#check .username-edit").length?(t={html:"<div class='modal signup-modal'><article><h1>Changing your username</h1><p class='body-text -light'>"+n.data("disabled-text")+"</p></article></div>",width:"520px",fixed:!0,overlayClose:!1,onClosed:function(){n.prop("disabled",!1),n.focus(),n.select(),$("#check").html("")}},renderMobile&&(t.width="100%",t.initialWidth="288px",t.initialHeight="200px",t.transition="fade",t.speed=0),$.colorbox(t)):bxd.showMessages("warning",n.data("disabled-text"),{sticky:!0,messageId:"locked-username",dismissExistingMessages:!0}))}),$("#frm-pronoun, #frm-reg-username, #frm-family-name, #frm-given-name").on("change keyup",function(){var e=$("#frm-pronoun").find("option:selected").data("pronoun-possessive"),t=($("#frm-given-name").val()+" "+$("#frm-family-name").val()).trim();0===t.length&&(t=($("#frm-reg-username").val()||person.username).trim()),$("#pronoun-possessive").text(e),$("#pronoun-name").text(t)}))})}]);